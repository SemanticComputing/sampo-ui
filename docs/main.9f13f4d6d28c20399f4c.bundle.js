(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return stateToUrl})),__webpack_require__.d(__webpack_exports__,"a",(function(){return boundsToValues})),__webpack_require__.d(__webpack_exports__,"b",(function(){return handleAxiosError})),__webpack_require__.d(__webpack_exports__,"c",(function(){return pickSelectedDatasets})),__webpack_require__.d(__webpack_exports__,"e",(function(){return updateLocaleToPathname}));__webpack_require__(21),__webpack_require__(40),__webpack_require__(20),__webpack_require__(153),__webpack_require__(13),__webpack_require__(57),__webpack_require__(181);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(61),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__),lodash__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(234),__webpack_require__(11)),stateToUrl=function(_ref){var facets=_ref.facets,_ref$facetClass=_ref.facetClass,facetClass=void 0===_ref$facetClass?null:_ref$facetClass,_ref$page=_ref.page,page=void 0===_ref$page?null:_ref$page,_ref$pagesize=_ref.pagesize,pagesize=void 0===_ref$pagesize?null:_ref$pagesize,_ref$sortBy=_ref.sortBy,sortBy=void 0===_ref$sortBy?null:_ref$sortBy,_ref$sortDirection=_ref.sortDirection,sortDirection=void 0===_ref$sortDirection?null:_ref$sortDirection,_ref$resultFormat=_ref.resultFormat,resultFormat=void 0===_ref$resultFormat?null:_ref$resultFormat,_ref$constrainSelf=_ref.constrainSelf,constrainSelf=void 0===_ref$constrainSelf?null:_ref$constrainSelf,_ref$groupBy=_ref.groupBy,groupBy=void 0===_ref$groupBy?null:_ref$groupBy,params={};if(null!==facetClass&&(params.facetClass=facetClass),null!==page&&(params.page=page),null!==pagesize&&(params.pagesize=pagesize),null!==sortBy&&(params.sortBy=sortBy),null!==sortDirection&&(params.sortDirection=sortDirection),null!==resultFormat&&(params.resultFormat=resultFormat),null!==constrainSelf&&(params.constrainSelf=constrainSelf),null!==groupBy&&(params.groupBy=groupBy),null!==facets){for(var constraints=[],_i=0,_Object$entries=Object.entries(facets);_i<_Object$entries.length;_i++){var _Object$entries$_i=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7___default()(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];Object(lodash__WEBPACK_IMPORTED_MODULE_9__.has)(value,"uriFilter")&&null!==value.uriFilter?constraints.push({facetID:key,filterType:value.filterType,priority:value.priority,values:Object.keys(value.uriFilter)}):Object(lodash__WEBPACK_IMPORTED_MODULE_9__.has)(value,"spatialFilter")&&null!==value.spatialFilter?constraints.push({facetID:key,filterType:value.filterType,priority:value.priority,values:boundsToValues(value.spatialFilter._bounds)}):Object(lodash__WEBPACK_IMPORTED_MODULE_9__.has)(value,"textFilter")&&null!==value.textFilter?constraints.push({facetID:key,filterType:value.filterType,priority:value.priority,values:value.textFilter}):Object(lodash__WEBPACK_IMPORTED_MODULE_9__.has)(value,"timespanFilter")&&null!==value.timespanFilter?constraints.push({facetID:key,filterType:value.filterType,priority:value.priority,values:value.timespanFilter}):Object(lodash__WEBPACK_IMPORTED_MODULE_9__.has)(value,"integerFilter")&&null!==value.integerFilter&&constraints.push({facetID:key,filterType:value.filterType,priority:value.priority,values:value.integerFilter})}0<constraints.length&&(params.constraints=constraints)}return params},boundsToValues=function(bounds){return{latMin:bounds._southWest.lat,longMin:bounds._southWest.lng,latMax:bounds._northEast.lat,longMax:bounds._northEast.lng}},handleAxiosError=function(error){error.response?console.log(error.response.data):error.request?console.log(error.request):console.log("Error",error.message),console.log(error.config)},pickSelectedDatasets=function(datasets){var selected=[];return Object.keys(datasets).map((function(key){datasets[key].selected&&selected.push(key)})),selected},updateLocaleToPathname=function(_ref3){var newPathname,pathname=_ref3.pathname,locale=_ref3.locale,replaceOld=_ref3.replaceOld,numberOfSlashes=pathname.split("/").length-1;if(replaceOld){var pathnameLangRemoved=1===numberOfSlashes?"":pathname.substring(pathname.indexOf("/",1));newPathname="/".concat(locale).concat(pathnameLangRemoved)}else newPathname="/".concat(locale).concat(pathname);return newPathname}},1699:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(42),__webpack_require__(32),__webpack_require__(26),__webpack_require__(47),__webpack_require__(35);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(495),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(210),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(145),react_router_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(166),history__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(90),react_intl_universal__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9),react_intl_universal__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react_intl_universal__WEBPACK_IMPORTED_MODULE_11__),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(504),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1969),_material_ui_core_colors_deepPurple__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(885),_material_ui_core_colors_deepPurple__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_material_ui_core_colors_deepPurple__WEBPACK_IMPORTED_MODULE_14__),_src_client_translations_sampo_localeEN__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(357),_src_client_translations_sampo_localeFI__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(358),_src_client_translations_sampo_localeSV__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(359),_src_client_reducers__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(886);__webpack_require__(1767);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function(){var allExports=[__webpack_require__(1769)],req=__webpack_require__(1772);return req.keys().forEach((function(fname){return allExports.push(req(fname))})),allExports}),module);var store=Object(redux__WEBPACK_IMPORTED_MODULE_7__.createStore)(_src_client_reducers__WEBPACK_IMPORTED_MODULE_18__.a);react_intl_universal__WEBPACK_IMPORTED_MODULE_11___default.a.init({currentLocale:"en",locales:{en:_src_client_translations_sampo_localeEN__WEBPACK_IMPORTED_MODULE_15__.a,fi:_src_client_translations_sampo_localeFI__WEBPACK_IMPORTED_MODULE_16__.a,sv:_src_client_translations_sampo_localeSV__WEBPACK_IMPORTED_MODULE_17__.a}});var theme=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)({palette:{primary:_material_ui_core_colors_deepPurple__WEBPACK_IMPORTED_MODULE_14___default.a},overrides:{MuiTooltip:{tooltip:{fontSize:"1 rem"}},MuiExpansionPanel:{root:{"&$expanded":{marginTop:8,marginBottom:8}}},MuiButton:{endIcon:{marginLeft:0}}}});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addDecorator)((function(Story){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_8__.Provider,{store:store},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.a,{history:Object(history__WEBPACK_IMPORTED_MODULE_10__.a)()},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_13__.a,{theme:theme},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(Story,null))))}))}.call(this,__webpack_require__(468)(module))},1724:function(module,exports){},1733:function(module,exports){},1767:function(module,exports,__webpack_require__){var api=__webpack_require__(133),content=__webpack_require__(1768);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1768:function(module,exports,__webpack_require__){(exports=__webpack_require__(134)(!1)).push([module.i,"html {\n    height: 100%;\n}\n\nbody {\n    height: 100%;\n    margin: 0;\n    min-width: 300px;\n}\n\nfieldset, .opacity-slider {\n    outline: 0 !important;\n}\n\n#root, #app {\n    height: 100%;\n    background-color: #bdbdbd;\n}\n\na, a:visited, a:hover, a:active {\n    color: inherit;\n}\n\n.rstcustom__rowWrapper {\n    display: flex;\n    align-items: center;\n}\n\n.rstcustom__rowSearchMatch {\n    /*box-shadow: 0 2px 0 #673ab7 ;*/\n    box-shadow: none;\n}\n\n.ReactVirtualized__Grid {\n    outline: none;\n}\n\n.apexcharts-legend {\n    box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n    transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n}\n\n.apexcharts-legend-marker {\n    top: 3px !important;\n}",""]),module.exports=exports},1769:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"welcome",(function(){return welcome}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src_client_components_main_layout_TextPage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(288),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(168),addSourceDecorator=(__webpack_require__(135).withSource,__webpack_require__(135).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react';\nimport TextPage from '../src/client/components/main_layout/TextPage'\nimport Typography from '@material-ui/core/Typography'\n\nexport default {\n    title: 'Sampo-UI/introduction'\n  }\n\nexport const welcome = () => \n    <TextPage>\n        <Typography component='h1' variant='h2'>Welcome to Sampo-UI</Typography>\n        <Typography paragraph>\n            This Storybook is used for documenting the reusable component library of \n            the Sampo-UI framework. These components are designed for building user interfaces for semantic portals.\n        </Typography>\n        <Typography paragraph>\n            The source code of Sampo-UI is published on <a target='_blank' href='https://github.com/SemanticComputing/sampo-ui'>GitHub</a>. \n            The folders in this Storybook reflect the <a target='_blank' href='https://github.com/SemanticComputing/sampo-ui/tree/master/src/client/components'>folders</a> in \n            the GitHub repository, where the components are split into three categories:\n        </Typography>\n        <ul>\n            <li><Typography>main_layout</Typography></li>\n            <li><Typography>facet_results</Typography></li>\n            <li><Typography>perspectives</Typography></li>\n        </ul>\n    </TextPage>",locationsMap:{"sampo-ui-introduction--welcome":{startLoc:{col:23,line:9},endLoc:{col:15,line:26},startBody:{col:23,line:9},endBody:{col:15,line:26}}}}},title:"Sampo-UI/introduction"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_client_components_main_layout_TextPage__WEBPACK_IMPORTED_MODULE_1__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__.a,{component:"h1",variant:"h2"},"Welcome to Sampo-UI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__.a,{paragraph:!0},"This Storybook is used for documenting the reusable component library of the Sampo-UI framework. These components are designed for building user interfaces for semantic portals."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__.a,{paragraph:!0},"The source code of Sampo-UI is published on ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{target:"_blank",href:"https://github.com/SemanticComputing/sampo-ui"},"GitHub"),". The folders in this Storybook reflect the ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{target:"_blank",href:"https://github.com/SemanticComputing/sampo-ui/tree/master/src/client/components"},"folders")," in the GitHub repository, where the components are split into three categories:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__.a,null,"main_layout")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__.a,null,"facet_results")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_2__.a,null,"perspectives")))),welcome=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react';\nimport TextPage from '../src/client/components/main_layout/TextPage'\nimport Typography from '@material-ui/core/Typography'\n\nexport default {\n    title: 'Sampo-UI/introduction'\n  }\n\nexport const welcome = () => \n    <TextPage>\n        <Typography component='h1' variant='h2'>Welcome to Sampo-UI</Typography>\n        <Typography paragraph>\n            This Storybook is used for documenting the reusable component library of \n            the Sampo-UI framework. These components are designed for building user interfaces for semantic portals.\n        </Typography>\n        <Typography paragraph>\n            The source code of Sampo-UI is published on <a target='_blank' href='https://github.com/SemanticComputing/sampo-ui'>GitHub</a>. \n            The folders in this Storybook reflect the <a target='_blank' href='https://github.com/SemanticComputing/sampo-ui/tree/master/src/client/components'>folders</a> in \n            the GitHub repository, where the components are split into three categories:\n        </Typography>\n        <ul>\n            <li><Typography>main_layout</Typography></li>\n            <li><Typography>facet_results</Typography></li>\n            <li><Typography>perspectives</Typography></li>\n        </ul>\n    </TextPage>",__ADDS_MAP__:{"sampo-ui-introduction--welcome":{startLoc:{col:23,line:9},endLoc:{col:15,line:26},startBody:{col:23,line:9},endBody:{col:15,line:26}}},__MAIN_FILE_LOCATION__:"/welcome.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/esikkala/git/sampo-ui/.storybook",__IDS_TO_FRAMEWORKS__:{}})},1772:function(module,exports,__webpack_require__){var map={"./facet_bar/FacetBar.stories.js":1958,"./facet_results/ObjectListItemEvent.stories.js":1962,"./main_layout/TextPage.stories.js":1957,"./main_layout/TopBar.stories.js":1961};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1772},1918:function(module,exports,__webpack_require__){var map={"./af":717,"./af.js":717,"./ar":718,"./ar-dz":719,"./ar-dz.js":719,"./ar-kw":720,"./ar-kw.js":720,"./ar-ly":721,"./ar-ly.js":721,"./ar-ma":722,"./ar-ma.js":722,"./ar-sa":723,"./ar-sa.js":723,"./ar-tn":724,"./ar-tn.js":724,"./ar.js":718,"./az":725,"./az.js":725,"./be":726,"./be.js":726,"./bg":727,"./bg.js":727,"./bm":728,"./bm.js":728,"./bn":729,"./bn.js":729,"./bo":730,"./bo.js":730,"./br":731,"./br.js":731,"./bs":732,"./bs.js":732,"./ca":733,"./ca.js":733,"./cs":734,"./cs.js":734,"./cv":735,"./cv.js":735,"./cy":736,"./cy.js":736,"./da":737,"./da.js":737,"./de":738,"./de-at":739,"./de-at.js":739,"./de-ch":740,"./de-ch.js":740,"./de.js":738,"./dv":741,"./dv.js":741,"./el":742,"./el.js":742,"./en-SG":743,"./en-SG.js":743,"./en-au":744,"./en-au.js":744,"./en-ca":745,"./en-ca.js":745,"./en-gb":746,"./en-gb.js":746,"./en-ie":747,"./en-ie.js":747,"./en-il":748,"./en-il.js":748,"./en-nz":749,"./en-nz.js":749,"./eo":750,"./eo.js":750,"./es":751,"./es-do":752,"./es-do.js":752,"./es-us":753,"./es-us.js":753,"./es.js":751,"./et":754,"./et.js":754,"./eu":755,"./eu.js":755,"./fa":756,"./fa.js":756,"./fi":757,"./fi.js":757,"./fo":758,"./fo.js":758,"./fr":759,"./fr-ca":760,"./fr-ca.js":760,"./fr-ch":761,"./fr-ch.js":761,"./fr.js":759,"./fy":762,"./fy.js":762,"./ga":763,"./ga.js":763,"./gd":764,"./gd.js":764,"./gl":765,"./gl.js":765,"./gom-latn":766,"./gom-latn.js":766,"./gu":767,"./gu.js":767,"./he":768,"./he.js":768,"./hi":769,"./hi.js":769,"./hr":770,"./hr.js":770,"./hu":771,"./hu.js":771,"./hy-am":772,"./hy-am.js":772,"./id":773,"./id.js":773,"./is":774,"./is.js":774,"./it":775,"./it-ch":776,"./it-ch.js":776,"./it.js":775,"./ja":777,"./ja.js":777,"./jv":778,"./jv.js":778,"./ka":779,"./ka.js":779,"./kk":780,"./kk.js":780,"./km":781,"./km.js":781,"./kn":782,"./kn.js":782,"./ko":783,"./ko.js":783,"./ku":784,"./ku.js":784,"./ky":785,"./ky.js":785,"./lb":786,"./lb.js":786,"./lo":787,"./lo.js":787,"./lt":788,"./lt.js":788,"./lv":789,"./lv.js":789,"./me":790,"./me.js":790,"./mi":791,"./mi.js":791,"./mk":792,"./mk.js":792,"./ml":793,"./ml.js":793,"./mn":794,"./mn.js":794,"./mr":795,"./mr.js":795,"./ms":796,"./ms-my":797,"./ms-my.js":797,"./ms.js":796,"./mt":798,"./mt.js":798,"./my":799,"./my.js":799,"./nb":800,"./nb.js":800,"./ne":801,"./ne.js":801,"./nl":802,"./nl-be":803,"./nl-be.js":803,"./nl.js":802,"./nn":804,"./nn.js":804,"./pa-in":805,"./pa-in.js":805,"./pl":806,"./pl.js":806,"./pt":807,"./pt-br":808,"./pt-br.js":808,"./pt.js":807,"./ro":809,"./ro.js":809,"./ru":810,"./ru.js":810,"./sd":811,"./sd.js":811,"./se":812,"./se.js":812,"./si":813,"./si.js":813,"./sk":814,"./sk.js":814,"./sl":815,"./sl.js":815,"./sq":816,"./sq.js":816,"./sr":817,"./sr-cyrl":818,"./sr-cyrl.js":818,"./sr.js":817,"./ss":819,"./ss.js":819,"./sv":820,"./sv.js":820,"./sw":821,"./sw.js":821,"./ta":822,"./ta.js":822,"./te":823,"./te.js":823,"./tet":824,"./tet.js":824,"./tg":825,"./tg.js":825,"./th":826,"./th.js":826,"./tl-ph":827,"./tl-ph.js":827,"./tlh":828,"./tlh.js":828,"./tr":829,"./tr.js":829,"./tzl":830,"./tzl.js":830,"./tzm":831,"./tzm-latn":832,"./tzm-latn.js":832,"./tzm.js":831,"./ug-cn":833,"./ug-cn.js":833,"./uk":834,"./uk.js":834,"./ur":835,"./ur.js":835,"./uz":836,"./uz-latn":837,"./uz-latn.js":837,"./uz.js":836,"./vi":838,"./vi.js":838,"./x-pseudo":839,"./x-pseudo.js":839,"./yo":840,"./yo.js":840,"./zh-cn":841,"./zh-cn.js":841,"./zh-hk":842,"./zh-hk.js":842,"./zh-tw":843,"./zh-tw.js":843};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1918},1928:function(module,exports,__webpack_require__){var api=__webpack_require__(133),content=__webpack_require__(1929);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1929:function(module,exports,__webpack_require__){(exports=__webpack_require__(134)(!1)).push([module.i,".leaflet-popup-content {\n    font-size: 14px;\n    font-family: 'Roboto', sans-serif;\n}\n\n.marker-cluster-grey {\n    background-color: rgba(128, 128, 128, 0.6);\n}\n\n.marker-cluster-small div {\n    background-color: rgba(211, 211, 211, 0.6);\n}\n\n.leaflet-popup-scrolled {\n    border: 0px;\n}\n\n.leaflet-control-zoominfo-info {\n    margin-left: -11px !important;\n    width: 18px !important;\n    height: 18px !important;\n    padding-top: 0px !important;\n}\n\n.leaflet-control-mapmode-input-container {\n    display:flex; \n}",""]),module.exports=exports},1957:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"basic",(function(){return basic}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_TextPage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(288),addSourceDecorator=(__webpack_require__(135).withSource,__webpack_require__(135).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react'\nimport TextPage from './TextPage'\n\nexport default {\n  component: TextPage,\n  title: 'Sampo-UI/main_layout/TextPage'\n}\n\nexport const basic = () => <TextPage>Some content</TextPage>\n",locationsMap:{"sampo-ui-main-layout-textpage--basic":{startLoc:{col:21,line:9},endLoc:{col:60,line:9},startBody:{col:21,line:9},endBody:{col:60,line:9}}}}},component:_TextPage__WEBPACK_IMPORTED_MODULE_1__.a,title:"Sampo-UI/main_layout/TextPage"};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TextPage__WEBPACK_IMPORTED_MODULE_1__.a,null,"Some content"),basic=addSourceDecorator((function(){return _ref}),{__STORY__:"import React from 'react'\nimport TextPage from './TextPage'\n\nexport default {\n  component: TextPage,\n  title: 'Sampo-UI/main_layout/TextPage'\n}\n\nexport const basic = () => <TextPage>Some content</TextPage>\n",__ADDS_MAP__:{"sampo-ui-main-layout-textpage--basic":{startLoc:{col:21,line:9},endLoc:{col:60,line:9},startBody:{col:21,line:9},endBody:{col:60,line:9}}},__MAIN_FILE_LOCATION__:"/TextPage.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/esikkala/git/sampo-ui/src/client/components/main_layout",__IDS_TO_FRAMEWORKS__:{}})},1958:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"basic",(function(){return basic}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),classCallCheck=(__webpack_require__(21),__webpack_require__(42),__webpack_require__(32),__webpack_require__(20),__webpack_require__(13),__webpack_require__(26),__webpack_require__(198),__webpack_require__(199),__webpack_require__(38),__webpack_require__(47),__webpack_require__(35),__webpack_require__(29)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(33),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(30),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(27),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),assertThisInitialized=__webpack_require__(6),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),inherits=__webpack_require__(31),inherits_default=__webpack_require__.n(inherits),defineProperty=__webpack_require__(3),defineProperty_default=__webpack_require__.n(defineProperty),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types),lib=__webpack_require__(9),lib_default=__webpack_require__.n(lib),withStyles=__webpack_require__(8),lodash=(__webpack_require__(10),__webpack_require__(66),__webpack_require__(40),__webpack_require__(65),__webpack_require__(420),__webpack_require__(83),__webpack_require__(67),__webpack_require__(158),__webpack_require__(159),__webpack_require__(11)),index_esm=__webpack_require__(503),main=__webpack_require__(864),main_default=__webpack_require__.n(main),Checkbox=__webpack_require__(2031),FormControlLabel=__webpack_require__(2010),CircularProgress=__webpack_require__(2011),purple=__webpack_require__(142),purple_default=__webpack_require__.n(purple),Input=__webpack_require__(2012),IconButton=__webpack_require__(1967),NavigateNext=__webpack_require__(866),NavigateNext_default=__webpack_require__.n(NavigateNext),NavigateBefore=__webpack_require__(865),NavigateBefore_default=__webpack_require__.n(NavigateBefore),Typography=__webpack_require__(168);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var HierarchicalFacet_ref3=react_default.a.createElement(NavigateBefore_default.a,null),HierarchicalFacet_ref4=react_default.a.createElement(NavigateNext_default.a,null),HierarchicalFacet_HierarchicalFacet=function(_Component){function HierarchicalFacet(props){var _this;return classCallCheck_default()(this,HierarchicalFacet),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(HierarchicalFacet).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",(function(){"uriFilter"===_this.props.facet.filterType&&_this.props.fetchFacet({facetClass:_this.props.facetClass,facetID:_this.props.facetID})})),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidUpdate",(function(prevProps){"clientFS"===_this.props.facetedSearchMode?_this.clientFScomponentDidUpdate(prevProps):_this.serverFScomponentDidUpdate(prevProps)})),defineProperty_default()(assertThisInitialized_default()(_this),"clientFScomponentDidUpdate",(function(prevProps){prevProps.facetUpdateID!==_this.props.facetUpdateID&&_this.setState({treeData:_this.props.facet.values})})),defineProperty_default()(assertThisInitialized_default()(_this),"serverFScomponentDidUpdate",(function(prevProps){if(prevProps.facetUpdateID!==_this.props.facetUpdateID)if(_this.props.updatedFacet===_this.props.facetID){if(Object(lodash.has)(_this.props.updatedFilter,"path")){var treeObj=_this.props.updatedFilter,newTreeData=Object(index_esm.a)({treeData:_this.state.treeData,getNodeKey:function getNodeKey(_ref){return _ref.treeIndex},path:treeObj.path,newNode:function newNode(){var oldNode=treeObj.node;return Object(lodash.has)(oldNode,"children")?_objectSpread({},oldNode,{selected:treeObj.added?"true":"false",children:_this.recursiveSelect(oldNode.children,treeObj.added)}):_objectSpread({},oldNode,{selected:treeObj.added?"true":"false"})}});_this.setState({treeData:newTreeData})}}else _this.props.fetchFacet({facetClass:_this.props.facetClass,facetID:_this.props.facetID});prevProps.facet.filterType!==_this.props.facet.filterType&&"uriFilter"===_this.props.facet.filterType&&_this.props.fetchFacet({facetClass:_this.props.facetClass,facetID:_this.props.facetID}),prevProps.facet.sortBy!==_this.props.facet.sortBy&&_this.props.fetchFacet({facetClass:_this.props.facetClass,facetID:_this.props.facetID}),prevProps.facet.values!==_this.props.facet.values&&_this.setState({treeData:_this.props.facet.values})})),defineProperty_default()(assertThisInitialized_default()(_this),"recursiveSelect",(function(nodes,selected){return nodes.forEach((function(node){Object(lodash.has)(_this.props.facet.uriFilter,node.id)&&_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:{node:node}}),node.selected=selected?"true":"false",node.disabled=selected?"true":"false",Object(lodash.has)(node,"children")&&_this.recursiveSelect(node.children,selected)})),nodes})),defineProperty_default()(assertThisInitialized_default()(_this),"handleCheckboxChange",(function(treeObj){return function(){"clientFS"===_this.props.facetedSearchMode?_this.props.clientFSUpdateFacet({facetID:_this.props.facetID,value:treeObj.node.prefLabel,latestValues:_this.props.facet.values}):_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:treeObj})}})),defineProperty_default()(assertThisInitialized_default()(_this),"handleSearchFieldOnChange",(function(event){_this.setState({searchString:event.target.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"generateNodeProps",(function(treeObj){var isSelected,uriFilter=_this.props.facet.uriFilter,node=treeObj.node,selectedCount=null==uriFilter?0:Object.keys(_this.props.facet.uriFilter).length;return isSelected="clientFS"===_this.props.facetedSearchMode?_this.props.facet.selectionsSet.has(node.id):"true"===node.selected,{title:react_default.a.createElement(FormControlLabel.a,{control:react_default.a.createElement(Checkbox.a,{className:_this.props.classes.checkbox,checked:isSelected,disabled:"hierarchical"!==_this.props.facet.type&&0===node.instanceCount&&"false"===node.selected||"http://ldf.fi/MISSING_VALUE"===node.id||_this.props.someFacetIsFetching||selectedCount>=_this.props.facet.distinctValueCount-1&&!isSelected||"true"===node.disabled,onChange:_this.handleCheckboxChange(treeObj),value:treeObj.node.id,color:"primary"}),label:_this.generateLabel(treeObj.node)})}})),defineProperty_default()(assertThisInitialized_default()(_this),"generateLabel",(function(node){var count=null==node.totalInstanceCount||0===node.totalInstanceCount?node.instanceCount:node.totalInstanceCount,isSearchMatch=!1;return 0<_this.state.matches.length&&(isSearchMatch=_this.state.matches.some((function(match){return match.node.id===node.id}))),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Typography.a,{className:isSearchMatch?_this.props.classes.searchMatch:"",variant:"body2"},node.prefLabel,react_default.a.createElement("span",null," [",count,"]")))})),_this.state={treeData:"clientFS"===_this.props.facetedSearchMode?_this.props.facet.values:[],searchString:"",searchFocusIndex:0,searchFoundCount:null,matches:[]},_this}return inherits_default()(HierarchicalFacet,_Component),createClass_default()(HierarchicalFacet,[{key:"render",value:function render(){var _this2=this,_this$state=this.state,searchString=_this$state.searchString,searchFocusIndex=_this$state.searchFocusIndex,searchFoundCount=_this$state.searchFoundCount,_this$props=this.props,classes=_this$props.classes,facet=_this$props.facet,facetClass=_this$props.facetClass,facetID=_this$props.facetID,isFetching=facet.isFetching,searchField=facet.searchField;return react_default.a.createElement(react_default.a.Fragment,null,isFetching?react_default.a.createElement("div",{className:classes.spinnerContainer},react_default.a.createElement(CircularProgress.a,{style:{color:purple_default.a[500]},thickness:5})):react_default.a.createElement(react_default.a.Fragment,null,searchField&&"spatialFilter"!==facet.filterType&&react_default.a.createElement("div",{className:classes.facetSearchContainer},react_default.a.createElement(Input.a,{placeholder:"Search...",onChange:this.handleSearchFieldOnChange,value:this.state.searchString}),0<searchFoundCount&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(IconButton.a,{className:classes.facetSearchIconButton,"aria-label":"Previous",onClick:function selectPrevMatch(){return _this2.setState({searchFocusIndex:null!==searchFocusIndex?(searchFoundCount+searchFocusIndex-1)%searchFoundCount:searchFoundCount-1})}},HierarchicalFacet_ref3),react_default.a.createElement(IconButton.a,{className:classes.facetSearchIconButton,"aria-label":"Next",onClick:function selectNextMatch(){return _this2.setState({searchFocusIndex:null!==searchFocusIndex?(searchFocusIndex+1)%searchFoundCount:0})}},HierarchicalFacet_ref4),react_default.a.createElement(Typography.a,null,0<searchFoundCount?searchFocusIndex+1:0," / ",searchFoundCount||0))),"spatialFilter"!==facet.filterType&&react_default.a.createElement("div",{className:searchField?classes.treeContainerWithSearchField:classes.treeContainer},react_default.a.createElement(index_esm.b,{treeData:this.state.treeData,onChange:function onChange(treeData){return _this2.setState({treeData:treeData})},canDrag:!1,rowHeight:30,searchMethod:function customSearchMethod(_ref2){var node=_ref2.node,searchQuery=_ref2.searchQuery,prefLabel=Array.isArray(node.prefLabel)?node.prefLabel[0]:node.prefLabel;return 2<searchQuery.length&&-1<prefLabel.toLowerCase().indexOf(searchQuery.toLowerCase())},searchQuery:searchString,searchFocusOffset:searchFocusIndex,searchFinishCallback:function searchFinishCallback(matches){_this2.setState({searchFoundCount:matches.length,searchFocusIndex:0<matches.length?searchFocusIndex%matches.length:0,matches:matches})},onlyExpandSearchedNodes:!0,theme:main_default.a,generateNodeProps:this.generateNodeProps})),"spatialFilter"===facet.filterType&&react_default.a.createElement("div",{className:classes.spinnerContainer},react_default.a.createElement(Typography.a,null,"Draw a bounding box on the map to filter by ",lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(facetID,".label")),"."))))}}]),HierarchicalFacet}(react.Component);HierarchicalFacet_HierarchicalFacet.displayName="HierarchicalFacet",HierarchicalFacet_HierarchicalFacet.propTypes={classes:prop_types_default.a.object.isRequired,facetID:prop_types_default.a.string.isRequired,facet:prop_types_default.a.object.isRequired,facetClass:prop_types_default.a.string,resultClass:prop_types_default.a.string,fetchFacet:prop_types_default.a.func,someFacetIsFetching:prop_types_default.a.bool.isRequired,updateFacetOption:prop_types_default.a.func,clientFSUpdateFacet:prop_types_default.a.func,facetUpdateID:prop_types_default.a.number,updatedFilter:prop_types_default.a.oneOfType([prop_types_default.a.object,prop_types_default.a.string,prop_types_default.a.array]),updatedFacet:prop_types_default.a.string,facetedSearchMode:prop_types_default.a.string},HierarchicalFacet_HierarchicalFacet.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"componentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"clientFScomponentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"serverFScomponentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"recursiveSelect",docblock:null,modifiers:[],params:[{name:"nodes",type:null},{name:"selected",type:null}],returns:null},{name:"handleCheckboxChange",docblock:null,modifiers:[],params:[{name:"treeObj",type:null}],returns:null},{name:"handleSearchFieldOnChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"generateNodeProps",docblock:null,modifiers:[],params:[{name:"treeObj",type:null}],returns:null},{name:"generateLabel",docblock:null,modifiers:[],params:[{name:"node",type:null}],returns:null}],displayName:"HierarchicalFacet",props:{classes:{type:{name:"object"},required:!0,description:""},facetID:{type:{name:"string"},required:!0,description:""},facet:{type:{name:"object"},required:!0,description:""},facetClass:{type:{name:"string"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},clientFSUpdateFacet:{type:{name:"func"},required:!1,description:""},facetUpdateID:{type:{name:"number"},required:!1,description:""},updatedFilter:{type:{name:"union",value:[{name:"object"},{name:"string"},{name:"array"}]},required:!1,description:""},updatedFacet:{type:{name:"string"},required:!1,description:""},facetedSearchMode:{type:{name:"string"},required:!1,description:""}}};var facet_bar_HierarchicalFacet=Object(withStyles.a)((function(){return{facetSearchContainer:{width:"100%",height:44,display:"flex",alignItems:"center"},facetSearchIconButton:{padding:10},treeContainer:{flex:1},treeContainerWithSearchField:{width:"100%",flex:1},spinnerContainer:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},checkbox:{padding:0,marginLeft:6,marginRight:4},searchMatch:{boxShadow:"0 2px 0 #673ab7"},facetLink:{textDecoration:"inherit"}}}))(HierarchicalFacet_HierarchicalFacet);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/HierarchicalFacet.js"]={name:"HierarchicalFacet",docgenInfo:HierarchicalFacet_HierarchicalFacet.__docgenInfo,path:"src/client/components/facet_bar/HierarchicalFacet.js"});var Search=__webpack_require__(238),Search_default=__webpack_require__.n(Search),InputLabel=__webpack_require__(2037),InputAdornment=__webpack_require__(2014),FormControl=__webpack_require__(2013),TextFacet_ref2=(react_default.a.createElement(IconButton.a,{"aria-label":"Search places"},react_default.a.createElement(CircularProgress.a,{size:24})),react_default.a.createElement(Search_default.a,null)),TextFacet_ref3=react_default.a.createElement(InputLabel.a,{htmlFor:"adornment-search"},"Search"),TextFacet_TextFacet=function(_React$Component){function TextFacet(){var _getPrototypeOf2,_this;classCallCheck_default()(this,TextFacet);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(TextFacet)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{value:""}),defineProperty_default()(assertThisInitialized_default()(_this),"handleChange",(function(event){_this.setState({value:event.target.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMouseDown",(function(event){event.preventDefault()})),defineProperty_default()(assertThisInitialized_default()(_this),"handleOnKeyDown",(function(event){"Enter"===event.key&&_this.hasValidQuery()&&_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:_this.state.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleClick",(function(){_this.hasValidQuery()&&_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:_this.state.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"hasValidQuery",(function(){return 2<_this.state.value.length})),_this}return inherits_default()(TextFacet,_React$Component),createClass_default()(TextFacet,[{key:"render",value:function render(){var classes=this.props.classes,searchButton=null;return searchButton=react_default.a.createElement(IconButton.a,{"aria-label":"Search",onClick:this.handleClick,onMouseDown:this.handleMouseDown},TextFacet_ref2),react_default.a.createElement("div",{className:classes.root},react_default.a.createElement(FormControl.a,{className:classes.textSearch},TextFacet_ref3,react_default.a.createElement(Input.a,{id:"adornment-search",type:"text",value:this.state.value,disabled:this.props.someFacetIsFetching,onChange:this.handleChange,onKeyDown:this.handleOnKeyDown,endAdornment:react_default.a.createElement(InputAdornment.a,{position:"end"},searchButton)})))}}]),TextFacet}(react_default.a.Component);TextFacet_TextFacet.displayName="TextFacet",TextFacet_TextFacet.propTypes={classes:prop_types_default.a.object.isRequired,facetID:prop_types_default.a.string.isRequired,facet:prop_types_default.a.object.isRequired,facetClass:prop_types_default.a.string,resultClass:prop_types_default.a.string,fetchFacet:prop_types_default.a.func,someFacetIsFetching:prop_types_default.a.bool.isRequired,updateFacetOption:prop_types_default.a.func,facetUpdateID:prop_types_default.a.number},TextFacet_TextFacet.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleOnKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"hasValidQuery",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TextFacet",props:{classes:{type:{name:"object"},required:!0,description:""},facetID:{type:{name:"string"},required:!0,description:""},facet:{type:{name:"object"},required:!0,description:""},facetClass:{type:{name:"string"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},facetUpdateID:{type:{name:"number"},required:!1,description:""}}};var facet_bar_TextFacet=Object(withStyles.a)((function(theme){return{textSearch:{margin:theme.spacing(1)}}}))(TextFacet_TextFacet);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/TextFacet.js"]={name:"TextFacet",docgenInfo:TextFacet_TextFacet.__docgenInfo,path:"src/client/components/facet_bar/TextFacet.js"});__webpack_require__(224);var es=__webpack_require__(246),slicedToArray=__webpack_require__(61),slicedToArray_default=__webpack_require__.n(slicedToArray),helpers_extends=__webpack_require__(55),extends_default=__webpack_require__.n(helpers_extends),railStyle={position:"absolute",width:"100%",transform:"translate(0%, -50%)",height:40,cursor:"pointer",zIndex:300},tooltipStyle={position:"relative",display:"inline-block",borderBottom:"1px dotted #444",marginLeft:22,zIndex:1e3},tooltipTextStyle={width:100,backgroundColor:"#444",color:"#f0f0f0",opacity:.8,textAlign:"center",borderRadius:6,padding:"5px 0",position:"absolute",zIndex:1,bottom:"150%",left:"50%",marginLeft:"-60px"},SliderComponents_ref=react_default.a.createElement("div",{style:{position:"absolute",width:"100%",transform:"translate(0%, -50%)",height:14,borderRadius:7,cursor:"pointer",pointerEvents:"none",backgroundColor:"rgb(155,155,155)"}}),SliderComponents_TooltipRail=function(_Component){function TooltipRail(){var _getPrototypeOf2,_this;classCallCheck_default()(this,TooltipRail);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(TooltipRail)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{value:null,percent:null}),defineProperty_default()(assertThisInitialized_default()(_this),"onMouseEnter",(function(){document.addEventListener("mousemove",_this.onMouseMove)})),defineProperty_default()(assertThisInitialized_default()(_this),"onMouseLeave",(function(){_this.setState({value:null,percent:null}),document.removeEventListener("mousemove",_this.onMouseMove)})),defineProperty_default()(assertThisInitialized_default()(_this),"onMouseMove",(function(e){var _this$props=_this.props,activeHandleID=_this$props.activeHandleID,getEventData=_this$props.getEventData;activeHandleID?_this.setState({value:null,percent:null}):_this.setState(getEventData(e))})),_this}return inherits_default()(TooltipRail,_Component),createClass_default()(TooltipRail,[{key:"render",value:function render(){var _this$state=this.state,value=_this$state.value,percent=_this$state.percent,_this$props2=this.props,activeHandleID=_this$props2.activeHandleID,getRailProps=_this$props2.getRailProps;return react_default.a.createElement(react_default.a.Fragment,null,!activeHandleID&&value?react_default.a.createElement("div",{style:{left:"".concat(percent,"%"),position:"absolute",marginLeft:"-11px",marginTop:"-35px"}},react_default.a.createElement("div",{style:tooltipStyle},react_default.a.createElement("span",{style:tooltipTextStyle},"Value: ",value))):null,react_default.a.createElement("div",extends_default()({style:railStyle},getRailProps({onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}))),SliderComponents_ref)}}]),TooltipRail}(react.Component);SliderComponents_TooltipRail.displayName="TooltipRail",SliderComponents_TooltipRail.propTypes={getEventData:prop_types_default.a.func,activeHandleID:prop_types_default.a.string,getRailProps:prop_types_default.a.func.isRequired},SliderComponents_TooltipRail.defaultProps={disabled:!1};var SliderComponents_Handle=function(_Component2){function Handle(){var _getPrototypeOf3,_this2;classCallCheck_default()(this,Handle);for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return _this2=possibleConstructorReturn_default()(this,(_getPrototypeOf3=getPrototypeOf_default()(Handle)).call.apply(_getPrototypeOf3,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this2),"state",{mouseOver:!1}),defineProperty_default()(assertThisInitialized_default()(_this2),"onMouseEnter",(function(){_this2.setState({mouseOver:!0})})),defineProperty_default()(assertThisInitialized_default()(_this2),"onMouseLeave",(function(){_this2.setState({mouseOver:!1})})),_this2}return inherits_default()(Handle,_Component2),createClass_default()(Handle,[{key:"render",value:function render(){var _this$props3=this.props,_this$props3$domain=slicedToArray_default()(_this$props3.domain,2),min=_this$props3$domain[0],max=_this$props3$domain[1],_this$props3$handle=_this$props3.handle,id=_this$props3$handle.id,value=_this$props3$handle.value,percent=_this$props3$handle.percent,isActive=_this$props3.isActive,disabled=_this$props3.disabled,getHandleProps=_this$props3.getHandleProps,mouseOver=this.state.mouseOver;return react_default.a.createElement(react_default.a.Fragment,null,!mouseOver&&!isActive||disabled?null:react_default.a.createElement("div",{style:{left:"".concat(percent,"%"),position:"absolute",marginLeft:"-11px",marginTop:"-35px"}},react_default.a.createElement("div",{style:tooltipStyle},react_default.a.createElement("span",{style:tooltipTextStyle},"Value: ",value))),react_default.a.createElement("div",extends_default()({style:{left:"".concat(percent,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:400,width:26,height:42,cursor:"pointer",backgroundColor:"none"}},getHandleProps(id,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}))),react_default.a.createElement("div",{role:"slider","aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":value,style:{left:"".concat(percent,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:300,width:24,height:24,border:0,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:disabled?"#666":"#8b6068"}}))}}]),Handle}(react.Component);function Track(_ref2){var source=_ref2.source,target=_ref2.target,getTrackProps=_ref2.getTrackProps,disabled=_ref2.disabled;return react_default.a.createElement("div",extends_default()({style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:disabled?"#999":"#8b6068",borderRadius:7,cursor:"pointer",left:"".concat(source.percent,"%"),width:"".concat(target.percent-source.percent,"%")}},getTrackProps()))}function Tick(_ref3){var tick=_ref3.tick,count=_ref3.count,format=_ref3.format;return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{position:"absolute",marginTop:17,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(tick.percent,"%")}}),react_default.a.createElement("div",{style:{position:"absolute",marginTop:25,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/count/2,"%"),width:"".concat(100/count,"%"),left:"".concat(tick.percent,"%")}},format(tick.value)))}SliderComponents_Handle.displayName="Handle",SliderComponents_Handle.propTypes={domain:prop_types_default.a.array.isRequired,handle:prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,value:prop_types_default.a.number.isRequired,percent:prop_types_default.a.number.isRequired}).isRequired,getHandleProps:prop_types_default.a.func.isRequired,isActive:prop_types_default.a.bool.isRequired,disabled:prop_types_default.a.bool},SliderComponents_Handle.defaultProps={disabled:!1},Track.displayName="Track",Track.propTypes={source:prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,value:prop_types_default.a.number.isRequired,percent:prop_types_default.a.number.isRequired}).isRequired,target:prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,value:prop_types_default.a.number.isRequired,percent:prop_types_default.a.number.isRequired}).isRequired,getTrackProps:prop_types_default.a.func.isRequired,disabled:prop_types_default.a.bool},Track.defaultProps={disabled:!1},Tick.displayName="Tick",Tick.propTypes={tick:prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,value:prop_types_default.a.number.isRequired,percent:prop_types_default.a.number.isRequired}).isRequired,count:prop_types_default.a.number.isRequired,format:prop_types_default.a.func.isRequired},Tick.defaultProps={format:function format(d){return d}},SliderComponents_TooltipRail.__docgenInfo={description:"",methods:[{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseMove",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"TooltipRail",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},getEventData:{type:{name:"func"},required:!1,description:""},activeHandleID:{type:{name:"string"},required:!1,description:""},getRailProps:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/SliderComponents.js"]={name:"TooltipRail",docgenInfo:SliderComponents_TooltipRail.__docgenInfo,path:"src/client/components/facet_bar/SliderComponents.js"}),SliderComponents_Handle.__docgenInfo={description:"",methods:[{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Handle",props:{disabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},domain:{type:{name:"array"},required:!0,description:""},handle:{type:{name:"shape",value:{id:{name:"string",required:!0},value:{name:"number",required:!0},percent:{name:"number",required:!0}}},required:!0,description:""},getHandleProps:{type:{name:"func"},required:!0,description:""},isActive:{type:{name:"bool"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/SliderComponents.js"]={name:"Handle",docgenInfo:SliderComponents_Handle.__docgenInfo,path:"src/client/components/facet_bar/SliderComponents.js"}),Track.__docgenInfo={description:"",methods:[],displayName:"Track",props:{disabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},source:{type:{name:"shape",value:{id:{name:"string",required:!0},value:{name:"number",required:!0},percent:{name:"number",required:!0}}},required:!0,description:""},target:{type:{name:"shape",value:{id:{name:"string",required:!0},value:{name:"number",required:!0},percent:{name:"number",required:!0}}},required:!0,description:""},getTrackProps:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/SliderComponents.js"]={name:"Track",docgenInfo:Track.__docgenInfo,path:"src/client/components/facet_bar/SliderComponents.js"}),Tick.__docgenInfo={description:"",methods:[],displayName:"Tick",props:{format:{defaultValue:{value:"d => d",computed:!1},type:{name:"func"},required:!1,description:""},tick:{type:{name:"shape",value:{id:{name:"string",required:!0},value:{name:"number",required:!0},percent:{name:"number",required:!0}}},required:!0,description:""},count:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/SliderComponents.js"]={name:"Tick",docgenInfo:Tick.__docgenInfo,path:"src/client/components/facet_bar/SliderComponents.js"});__webpack_require__(78),__webpack_require__(79);var ISOStringToYear=function(str){return"-"===str.charAt(0)?parseInt(str.substring(0,5)):parseInt(str.substring(0,4))},YearToISOString=function(_ref){var year=_ref.year,start=_ref.start,abs=Math.abs(year),s=year.toString(),negative=!1;return"-"===s.charAt(0)&&(s=s.substring(1),negative=!0),10>abs&&(s="000"+s),10<=abs&&100>abs&&(s="00"+s),100<=abs&&1e3>abs&&(s="0"+s,s=negative?s="-"+s:s),s=start?s+"-01-01":s+"-12-31"},sliderRootStyle={position:"relative",width:"100%"},SliderFacet_SliderFacet=function(_Component){function SliderFacet(){var _getPrototypeOf2,_this;classCallCheck_default()(this,SliderFacet);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(SliderFacet)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",(function(){var _this$props$facet=_this.props.facet,isFetching=_this$props$facet.isFetching,min=_this$props$facet.min,max=_this$props$facet.max;isFetching||null!=min&&null!=max||_this.props.fetchFacet({facetClass:_this.props.facetClass,facetID:_this.props.facetID})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleSliderOnChange",(function(values){"ISOString"===_this.props.dataType&&(values[0]=YearToISOString({year:values[0],start:!0}),values[1]=YearToISOString({year:values[1],start:!1})),_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:values})})),_this}return inherits_default()(SliderFacet,_Component),createClass_default()(SliderFacet,[{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,someFacetIsFetching=_this$props.someFacetIsFetching,_this$props$facet2=this.props.facet,isFetching=_this$props$facet2.isFetching,min=_this$props$facet2.min,max=_this$props$facet2.max,domain=null,values=null;if(isFetching||null==min||null==max)return react_default.a.createElement("div",{className:classes.spinnerContainer},react_default.a.createElement(CircularProgress.a,{style:{color:purple_default.a[500]},thickness:5}));if("ISOString"===this.props.dataType){var minYear=ISOStringToYear(min),maxYear=ISOStringToYear(max);if(domain=[minYear,maxYear],null==this.props.facet.timespanFilter)values=domain;else{var _this$props$facet$tim=this.props.facet.timespanFilter,start=_this$props$facet$tim.start,end=_this$props$facet$tim.end;values=[ISOStringToYear(start),ISOStringToYear(end)]}}else if("integer"===this.props.dataType)if(domain=[parseInt(min),parseInt(max)],null==this.props.facet.integerFilter)values=domain;else{var _this$props$facet$int=this.props.facet.integerFilter;values=[_this$props$facet$int.start,_this$props$facet$int.end]}return react_default.a.createElement("div",{className:classes.root},react_default.a.createElement(es.c,{mode:1,step:1,domain:domain,disabled:someFacetIsFetching,reversed:!1,rootStyle:sliderRootStyle,onChange:this.handleSliderOnChange,values:values},react_default.a.createElement(es.b,null,(function(railProps){return react_default.a.createElement(SliderComponents_TooltipRail,railProps)})),react_default.a.createElement(es.a,null,(function(_ref){var handles=_ref.handles,activeHandleID=_ref.activeHandleID,getHandleProps=_ref.getHandleProps;return react_default.a.createElement("div",{className:"slider-handles"},handles.map((function(handle){return react_default.a.createElement(SliderComponents_Handle,{key:handle.id,handle:handle,domain:domain,isActive:handle.id===activeHandleID,getHandleProps:getHandleProps})})))})),react_default.a.createElement(es.e,{left:!1,right:!1},(function(_ref2){var tracks=_ref2.tracks,getTrackProps=_ref2.getTrackProps;return react_default.a.createElement("div",{className:"slider-tracks"},tracks.map((function(_ref3){var id=_ref3.id,source=_ref3.source,target=_ref3.target;return react_default.a.createElement(Track,{key:id,source:source,target:target,getTrackProps:getTrackProps})})))})),react_default.a.createElement(es.d,{count:10},(function(_ref4){var ticks=_ref4.ticks;return react_default.a.createElement("div",{className:"slider-ticks"},ticks.map((function(tick){return react_default.a.createElement(Tick,{key:tick.id,tick:tick,count:ticks.length})})))}))))}}]),SliderFacet}(react.Component);SliderFacet_SliderFacet.displayName="SliderFacet",SliderFacet_SliderFacet.propTypes={classes:prop_types_default.a.object.isRequired,facetID:prop_types_default.a.string.isRequired,facet:prop_types_default.a.object.isRequired,facetClass:prop_types_default.a.string,resultClass:prop_types_default.a.string,fetchFacet:prop_types_default.a.func,someFacetIsFetching:prop_types_default.a.bool.isRequired,updateFacetOption:prop_types_default.a.func,facetUpdateID:prop_types_default.a.number,updatedFilter:prop_types_default.a.oneOfType([prop_types_default.a.object,prop_types_default.a.string]),updatedFacet:prop_types_default.a.string,dataType:prop_types_default.a.string.isRequired},SliderFacet_SliderFacet.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSliderOnChange",docblock:null,modifiers:[],params:[{name:"values",type:null}],returns:null}],displayName:"SliderFacet",props:{classes:{type:{name:"object"},required:!0,description:""},facetID:{type:{name:"string"},required:!0,description:""},facet:{type:{name:"object"},required:!0,description:""},facetClass:{type:{name:"string"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},facetUpdateID:{type:{name:"number"},required:!1,description:""},updatedFilter:{type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1,description:""},updatedFacet:{type:{name:"string"},required:!1,description:""},dataType:{type:{name:"string"},required:!0,description:""}}};var facet_bar_SliderFacet=Object(withStyles.a)((function(theme){return{root:{height:"100%",display:"flex",alignItems:"center",paddingLeft:theme.spacing(4),paddingRight:theme.spacing(2)},spinnerContainer:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}}}))(SliderFacet_SliderFacet);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/SliderFacet.js"]={name:"SliderFacet",docgenInfo:SliderFacet_SliderFacet.__docgenInfo,path:"src/client/components/facet_bar/SliderFacet.js"});var TextField=__webpack_require__(2029),Button=__webpack_require__(2018),RangeFacet_RangeFacet=function(_Component){function RangeFacet(props){var _this;classCallCheck_default()(this,RangeFacet),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(RangeFacet).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",(function(){var integerFilter=_this.props.facet.integerFilter,min="",max="";null!==integerFilter&&(min=integerFilter.start,max=integerFilter.end),_this.setState({min:min,max:max})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMinChange",(function(event){_this.setState({min:event.target.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMaxChange",(function(event){_this.setState({max:event.target.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleApplyOnClick",(function(event){var _this$state=_this.state,min=_this$state.min,max=_this$state.max;_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:[min,max]}),event.preventDefault()})),defineProperty_default()(assertThisInitialized_default()(_this),"disableApply",(function(){var disabled=!1;return _this.props.someFacetIsFetching&&(disabled=!0),""===_this.state.min&&""===_this.state.max&&(disabled=!0),disabled}));var _min="",_max="",_integerFilter=props.facet.integerFilter;return null!==_integerFilter&&(_min=_integerFilter.start,_max=_integerFilter.end),_this.state={min:_min,max:_max},_this}return inherits_default()(RangeFacet,_Component),createClass_default()(RangeFacet,[{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,someFacetIsFetching=_this$props.someFacetIsFetching,_this$props$facet=this.props.facet,isFetching=_this$props$facet.isFetching,unit=_this$props$facet.unit;return isFetching?react_default.a.createElement("div",{className:classes.spinnerContainer},react_default.a.createElement(CircularProgress.a,{style:{color:purple_default.a[500]},thickness:5})):react_default.a.createElement("div",{className:classes.root},react_default.a.createElement("div",{className:classes.textFields},react_default.a.createElement(TextField.a,{id:"standard-number",label:"Min",disabled:someFacetIsFetching,value:this.state.min,onChange:this.handleMinChange,type:"number",variant:"outlined",className:classes.textField,InputProps:{endAdornment:react_default.a.createElement(InputAdornment.a,{position:"end"},unit)},InputLabelProps:{shrink:!0},margin:"normal"}),react_default.a.createElement(TextField.a,{id:"standard-number",label:"Max",disabled:someFacetIsFetching,value:this.state.max,onChange:this.handleMaxChange,type:"number",variant:"outlined",className:classes.textField,InputProps:{endAdornment:react_default.a.createElement(InputAdornment.a,{position:"end"},unit)},InputLabelProps:{shrink:!0},margin:"normal"})),react_default.a.createElement("div",{className:classes.applyButton},react_default.a.createElement(Button.a,{variant:"contained",color:"primary",className:classes.button,onClick:this.handleApplyOnClick,disabled:this.disableApply()},"apply")))}}]),RangeFacet}(react.Component);RangeFacet_RangeFacet.displayName="RangeFacet",RangeFacet_RangeFacet.propTypes={classes:prop_types_default.a.object.isRequired,facetID:prop_types_default.a.string.isRequired,facet:prop_types_default.a.object.isRequired,facetClass:prop_types_default.a.string,resultClass:prop_types_default.a.string,fetchFacet:prop_types_default.a.func,someFacetIsFetching:prop_types_default.a.bool.isRequired,updateFacetOption:prop_types_default.a.func,facetUpdateID:prop_types_default.a.number,updatedFilter:prop_types_default.a.oneOfType([prop_types_default.a.object,prop_types_default.a.string]),updatedFacet:prop_types_default.a.string},RangeFacet_RangeFacet.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMinChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMaxChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleApplyOnClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"disableApply",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RangeFacet",props:{classes:{type:{name:"object"},required:!0,description:""},facetID:{type:{name:"string"},required:!0,description:""},facet:{type:{name:"object"},required:!0,description:""},facetClass:{type:{name:"string"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},facetUpdateID:{type:{name:"number"},required:!1,description:""},updatedFilter:{type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1,description:""},updatedFacet:{type:{name:"string"},required:!1,description:""}}};var facet_bar_RangeFacet=Object(withStyles.a)((function(theme){return{root:{height:"100%",display:"flex"},textFields:{marginRight:theme.spacing(2),maxWidth:150},textField:{display:"block"},applyButton:{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:theme.spacing(1.5)},spinnerContainer:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}}}))(RangeFacet_RangeFacet);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/RangeFacet.js"]={name:"RangeFacet",docgenInfo:RangeFacet_RangeFacet.__docgenInfo,path:"src/client/components/facet_bar/RangeFacet.js"});var DatePicker=__webpack_require__(2028),moment=__webpack_require__(7),moment_default=__webpack_require__.n(moment),FormHelperText=__webpack_require__(2017),classnames=__webpack_require__(284),classnames_default=__webpack_require__.n(classnames),DateFacet_DateFacet=function(_React$Component){function DateFacet(props){var _this;return classCallCheck_default()(this,DateFacet),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(DateFacet).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"handleFromChange",(function(from){_this.setState({from:from});var to=_this.state.to;if(_this.isValidDate(from)&&_this.isValidDate(to)&&from.isSameOrBefore(to)){var values=[from.format("YYYY-MM-DD"),to.format("YYYY-MM-DD")];_this.updateFacet(values)}})),defineProperty_default()(assertThisInitialized_default()(_this),"handleToChange",(function(to){_this.setState({to:to});var from=_this.state.from;if(_this.isValidDate(from)&&_this.isValidDate(to)&&from.isSameOrBefore(to)){var values=[_this.state.from.format("YYYY-MM-DD"),to.format("YYYY-MM-DD")];_this.updateFacet(values)}})),defineProperty_default()(assertThisInitialized_default()(_this),"updateFacet",(function(values){_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:_this.props.facet.filterType,value:values})})),defineProperty_default()(assertThisInitialized_default()(_this),"isValidDate",(function(date){var momentMin=moment_default()(_this.props.facet.min),momentMax=moment_default()(_this.props.facet.max);return date&&date.isValid()&&date.isSameOrAfter(momentMin)&&date.isSameOrBefore(momentMax)})),_this.state={from:moment_default()(_this.props.facet.min),to:moment_default()(_this.props.facet.max)},_this}return inherits_default()(DateFacet,_React$Component),createClass_default()(DateFacet,[{key:"render",value:function render(){var _this2=this,_this$state=this.state,from=_this$state.from,to=_this$state.to,_this$props$facet=this.props.facet,min=_this$props$facet.min,max=_this$props$facet.max,_this$props=this.props,classes=_this$props.classes,someFacetIsFetching=_this$props.someFacetIsFetching,showCustomError=this.isValidDate(from)&&this.isValidDate(to)&&!from.isSameOrBefore(to);return react_default.a.createElement("div",null,react_default.a.createElement(DatePicker.a,{className:classnames_default()(classes.datePicker,classes.from),label:lib_default.a.get("facets.dateFacet.fromLabel"),placeholder:moment_default()(min).format("DD.MM.YYYY"),value:from,onChange:function onChange(date){return _this2.handleFromChange(date)},format:"DD.MM.YYYY",minDate:min,maxDate:max,invalidDateMessage:lib_default.a.get("facets.dateFacet.invalidDate"),minDateMessage:lib_default.a.get("facets.dateFacet.minDate",{minDate:moment_default()(min).format("DD.MM.YYYY")}),maxDateMessage:lib_default.a.get("facets.dateFacet.maxDate",{maxDate:moment_default()(max).format("DD.MM.YYYY")}),cancelLabel:lib_default.a.get("facets.dateFacet.cancel"),shouldDisableDate:function shouldDisableDate(date){return date.isAfter(to)},disabled:someFacetIsFetching}),react_default.a.createElement(DatePicker.a,{className:classes.datePicker,label:lib_default.a.get("facets.dateFacet.toLabel"),placeholder:moment_default()(max).format("DD.MM.YYYY"),value:to,onChange:function onChange(date){return _this2.handleToChange(date)},format:"DD.MM.YYYY",minDate:min,maxDate:max,invalidDateMessage:lib_default.a.get("facets.dateFacet.invalidDate"),minDateMessage:lib_default.a.get("facets.dateFacet.minDate",{minDate:moment_default()(min).format("DD.MM.YYYY")}),maxDateMessage:lib_default.a.get("facets.dateFacet.maxDate",{maxDate:moment_default()(max).format("DD.MM.YYYY")}),cancelLabel:lib_default.a.get("facets.dateFacet.cancel"),shouldDisableDate:function shouldDisableDate(date){return date.isBefore(from)},disabled:someFacetIsFetching}),showCustomError&&react_default.a.createElement(FormHelperText.a,{error:!0},lib_default.a.get("facets.dateFacet.toBeforeFrom")))}}]),DateFacet}(react_default.a.Component);DateFacet_DateFacet.displayName="DateFacet",DateFacet_DateFacet.propTypes={classes:prop_types_default.a.object.isRequired,facetID:prop_types_default.a.string.isRequired,facet:prop_types_default.a.object.isRequired,facetClass:prop_types_default.a.string,resultClass:prop_types_default.a.string,fetchFacet:prop_types_default.a.func,someFacetIsFetching:prop_types_default.a.bool.isRequired,updateFacetOption:prop_types_default.a.func.isRequired,facetUpdateID:prop_types_default.a.number},DateFacet_DateFacet.__docgenInfo={description:"",methods:[{name:"handleFromChange",docblock:null,modifiers:[],params:[{name:"from",type:null}],returns:null},{name:"handleToChange",docblock:null,modifiers:[],params:[{name:"to",type:null}],returns:null},{name:"updateFacet",docblock:null,modifiers:[],params:[{name:"values",type:null}],returns:null},{name:"isValidDate",docblock:null,modifiers:[],params:[{name:"date",type:null}],returns:null}],displayName:"DateFacet",props:{classes:{type:{name:"object"},required:!0,description:""},facetID:{type:{name:"string"},required:!0,description:""},facet:{type:{name:"object"},required:!0,description:""},facetClass:{type:{name:"string"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!0,description:""},facetUpdateID:{type:{name:"number"},required:!1,description:""}}};var facet_bar_DateFacet=Object(withStyles.a)((function(theme){return{datePicker:{width:140},from:{marginRight:theme.spacing(3)}}}))(DateFacet_DateFacet);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/DateFacet.js"]={name:"DateFacet",docgenInfo:DateFacet_DateFacet.__docgenInfo,path:"src/client/components/facet_bar/DateFacet.js"});var Paper=__webpack_require__(506),Tooltip=__webpack_require__(2036),Menu=__webpack_require__(887),MenuItem=__webpack_require__(2039),MoreVert=__webpack_require__(378),MoreVert_default=__webpack_require__.n(MoreVert),InfoOutlined=__webpack_require__(868),InfoOutlined_default=__webpack_require__.n(InfoOutlined),History=__webpack_require__(240),PieChart=__webpack_require__(377),PieChart_default=__webpack_require__.n(PieChart),Dialog=__webpack_require__(2034),GeneralDialog=function(props){var onClose=props.onClose,open=props.open,children=props.children,classes=props.classes;return react_default.a.createElement(Dialog.a,{classes:{paper:classes.dialogPaper},onClose:onClose,"aria-labelledby":"simple-dialog-title",open:open,fullWidth:!0,maxWidth:"xl"},children)};GeneralDialog.displayName="GeneralDialog",GeneralDialog.propTypes={classes:prop_types_default.a.object.isRequired,open:prop_types_default.a.bool.isRequired,onClose:prop_types_default.a.func.isRequired,title:prop_types_default.a.string,children:prop_types_default.a.node},GeneralDialog.__docgenInfo={description:"",methods:[],displayName:"GeneralDialog",props:{classes:{type:{name:"object"},required:!0,description:""},open:{type:{name:"bool"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},title:{type:{name:"string"},required:!1,description:""},children:{type:{name:"node"},required:!1,description:""}}};var main_layout_GeneralDialog=Object(withStyles.a)((function(){return{dialogPaper:{height:"100%"}}}))(GeneralDialog);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/main_layout/GeneralDialog.js"]={name:"GeneralDialog",docgenInfo:GeneralDialog.__docgenInfo,path:"src/client/components/main_layout/GeneralDialog.js"});__webpack_require__(93);var apexcharts_esm=__webpack_require__(867);function ApexChart_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var colors=["#a12a3c","#0f00b5","#81c7a4","#ffdea6","#ff0033","#424cff","#1b6935","#ff9d00","#5c3c43","#5f74b8","#18b532","#3b3226","#fa216d","#153ca1","#00ff09","#703a00","#b31772","#a4c9fc","#273623","#f57200","#360e2c","#001c3d","#ccffa6","#a18068","#ba79b6","#004e75","#547500","#c2774c","#f321fa","#1793b3","#929c65","#b53218","#563c5c","#1ac2c4","#c4c734","#4c150a","#912eb3","#2a5252","#524b00","#bf7d7c","#24005e","#20f2ba","#b5882f"],ApexChart_ApexChart=function(_React$Component){function ApexChart(props){var _this;return classCallCheck_default()(this,ApexChart),(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(ApexChart).call(this,props))).chartRef=react_default.a.createRef(),_this}return inherits_default()(ApexChart,_React$Component),createClass_default()(ApexChart,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchFacetConstrainSelf({facetClass:this.props.facetClass,facetID:this.props.facetID})}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.data!==this.props.data){var labels=[],series=[],otherCount=0,totalLength=this.props.data.length;this.props.data.map((function(item){parseInt(item.instanceCount)/totalLength<.15?otherCount+=parseInt(item.instanceCount):(labels.push(item.prefLabel),series.push(parseInt(item.instanceCount)))})),0!==otherCount&&(labels.push("Other"),series.push(otherCount));var chartColors=[];if(series.length>colors.length)for(var quotient=Math.ceil(series.length/colors.length),i=0;i<quotient;i++)chartColors=chartColors.concat(colors);else chartColors=colors;chartColors=chartColors.slice(0,series.length);var options=function ApexChart_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ApexChart_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ApexChart_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},this.props.options,{series:series,labels:labels,colors:chartColors});this.chart&&this.chart.destroy(),this.chart=new apexcharts_esm.a(this.chartRef.current,options),this.chart.render()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.chart.destroy()}},{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,fetching=_this$props.fetching;return react_default.a.createElement(Paper.a,{square:!0,className:classes.root},fetching&&react_default.a.createElement("div",{className:this.props.classes.spinnerContainer},react_default.a.createElement(CircularProgress.a,{style:{color:purple_default.a[500]},thickness:5})),!fetching&&react_default.a.createElement("div",{className:classes.chart,ref:this.chartRef}))}}]),ApexChart}(react_default.a.Component);ApexChart_ApexChart.displayName="ApexChart",ApexChart_ApexChart.propTypes={classes:prop_types_default.a.object.isRequired,fetching:prop_types_default.a.bool.isRequired,data:prop_types_default.a.array,options:prop_types_default.a.object.isRequired,fetchResults:prop_types_default.a.func,fetchFacetConstrainSelf:prop_types_default.a.func,resultClass:prop_types_default.a.string,facetClass:prop_types_default.a.string,facetID:prop_types_default.a.string},ApexChart_ApexChart.__docgenInfo={description:"",methods:[],displayName:"ApexChart",props:{classes:{type:{name:"object"},required:!0,description:""},fetching:{type:{name:"bool"},required:!0,description:""},data:{type:{name:"array"},required:!1,description:""},options:{type:{name:"object"},required:!0,description:""},fetchResults:{type:{name:"func"},required:!1,description:""},fetchFacetConstrainSelf:{type:{name:"func"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},facetClass:{type:{name:"string"},required:!1,description:""},facetID:{type:{name:"string"},required:!1,description:""}}};var facet_results_ApexChart=Object(withStyles.a)((function(){return{root:{width:"100%",height:"100%"},spinnerContainer:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}}}))(ApexChart_ApexChart);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_results/ApexChart.js"]={name:"ApexChart",docgenInfo:ApexChart_ApexChart.__docgenInfo,path:"src/client/components/facet_results/ApexChart.js"});var ChartDialog_ref=react_default.a.createElement(PieChart_default.a,null),ChartDialog=function(props){var _React$useState=react_default.a.useState(!1),_React$useState2=slicedToArray_default()(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1],fetchFacetConstrainSelf=props.fetchFacetConstrainSelf,facetID=props.facetID,facetClass=props.facetClass,data=props.data,fetching=props.fetching;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Tooltip.a,{disableFocusListener:!0,title:"Chart"},react_default.a.createElement(IconButton.a,{"aria-label":"Chart","aria-owns":open?"facet-option-menu":void 0,"aria-haspopup":"true",onClick:function handleClickOpen(){setOpen(!0)}},ChartDialog_ref)),react_default.a.createElement(main_layout_GeneralDialog,{open:open,onClose:function handleClose(){setOpen(!1)}},react_default.a.createElement(facet_results_ApexChart,{facetID:facetID,facetClass:facetClass,fetchFacetConstrainSelf:fetchFacetConstrainSelf,data:data,fetching:fetching,options:{chart:{type:"pie",width:"100%",height:"100%",fontFamily:"Roboto"},legend:{position:"right",width:400,fontSize:16,itemMargin:{horizontal:5},onItemHover:{highlightDataSeries:!1},onItemClick:{toggleDataSeries:!1},markers:{width:18,height:18},formatter:function formatter(seriesName,opts){return"".concat(seriesName," [").concat(opts.w.globals.series[opts.seriesIndex],"]")}},tooltip:{followCursor:!1,fixed:{enabled:!0,position:"topRight"}}}})))};ChartDialog.propTypes={facetID:prop_types_default.a.string,facetClass:prop_types_default.a.string,data:prop_types_default.a.array,fetching:prop_types_default.a.bool.isRequired,fetchFacetConstrainSelf:prop_types_default.a.func},ChartDialog.__docgenInfo={description:"",methods:[],displayName:"ChartDialog",props:{facetID:{type:{name:"string"},required:!1,description:""},facetClass:{type:{name:"string"},required:!1,description:""},data:{type:{name:"array"},required:!1,description:""},fetching:{type:{name:"bool"},required:!0,description:""},fetchFacetConstrainSelf:{type:{name:"func"},required:!1,description:""}}};var facet_bar_ChartDialog=ChartDialog;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/ChartDialog.js"]={name:"ChartDialog",docgenInfo:ChartDialog.__docgenInfo,path:"src/client/components/facet_bar/ChartDialog.js"});var FacetHeader_ref=react_default.a.createElement(MoreVert_default.a,null),FacetHeader_ref2=react_default.a.createElement(IconButton.a,null,react_default.a.createElement(InfoOutlined_default.a,null)),FacetHeader_FacetHeader=function(_React$Component){function FacetHeader(){var _getPrototypeOf2,_this;classCallCheck_default()(this,FacetHeader);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(FacetHeader)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{anchorEl:null}),defineProperty_default()(assertThisInitialized_default()(_this),"handleMenuButtonClick",(function(event){_this.setState({anchorEl:event.currentTarget})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleSortOnClick",(function(buttonID){return function(){_this.setState({anchorEl:null}),"prefLabel"===buttonID&&"instanceCount"===_this.props.facet.sortBy&&_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"sortBy",value:"prefLabel"}),"instanceCount"===buttonID&&"prefLabel"===_this.props.facet.sortBy&&(_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"sortDirection",value:"desc"}),_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"sortBy",value:"instanceCount"}))}})),defineProperty_default()(assertThisInitialized_default()(_this),"handleFilterTypeOnClick",(function(buttonID){return function(){_this.setState({anchorEl:null}),"uriFilter"===buttonID&&"spatialFilter"===_this.props.facet.filterType&&(_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"spatialFilter",value:null}),_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"filterType",value:"uriFilter"})),"spatialFilter"===buttonID&&"uriFilter"===_this.props.facet.filterType&&(_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"filterType",value:"spatialFilter"}),History.a.push({pathname:"".concat(_this.props.rootUrl,"/").concat(_this.props.resultClass,"/faceted-search/").concat(_this.props.facet.spatialFilterTab)}))}})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMenuClose",(function(){_this.setState({anchorEl:null})})),defineProperty_default()(assertThisInitialized_default()(_this),"renderFacetMenu",(function(){var anchorEl=_this.state.anchorEl,_this$props$facet=_this.props.facet,sortButton=_this$props$facet.sortButton,spatialFilterButton=_this$props$facet.spatialFilterButton,sortBy=_this$props$facet.sortBy,filterType=_this$props$facet.filterType,_this$props$facet$cha=_this$props$facet.chartButton,chartButton=void 0!==_this$props$facet$cha&&_this$props$facet$cha,open=!!anchorEl,menuButtons=[];return sortButton&&(menuButtons.push({id:"prefLabel",menuItemText:"Sort alphabetically",selected:"prefLabel"===sortBy,onClickHandler:_this.handleSortOnClick}),menuButtons.push({id:"instanceCount",menuItemText:"Sort by number of ".concat(_this.props.resultClass),selected:"instanceCount"===sortBy,onClickHandler:_this.handleSortOnClick})),spatialFilterButton&&(menuButtons.push({id:"uriFilter",menuItemText:"Filter by name",selected:"uriFilter"===filterType,onClickHandler:_this.handleFilterTypeOnClick}),menuButtons.push({id:"spatialFilter",menuItemText:"Filter by bounding box",selected:"spatialFilter"===filterType,onClickHandler:_this.handleFilterTypeOnClick})),react_default.a.createElement(react_default.a.Fragment,null,chartButton&&react_default.a.createElement(facet_bar_ChartDialog,{data:_this.props.facetConstrainSelf.values,fetching:_this.props.facetConstrainSelf.isFetching,facetID:_this.props.facetID,facetClass:_this.props.facetClass,fetchFacetConstrainSelf:_this.props.fetchFacetConstrainSelf}),react_default.a.createElement(Tooltip.a,{disableFocusListener:!0,title:"Filter options"},react_default.a.createElement(IconButton.a,{"aria-label":"Filter options","aria-owns":open?"facet-option-menu":void 0,"aria-haspopup":"true",onClick:_this.handleMenuButtonClick},FacetHeader_ref)),react_default.a.createElement(Menu.a,{id:"facet-option-menu",anchorEl:anchorEl,open:open,onClose:_this.handleMenuClose},menuButtons.map((function(button){return react_default.a.createElement(MenuItem.a,{key:button.id,selected:button.selected,onClick:button.onClickHandler(button.id)},button.menuItemText)}))))})),_this}return inherits_default()(FacetHeader,_React$Component),createClass_default()(FacetHeader,[{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,isActive=_this$props.isActive,facetDescription=_this$props.facetDescription,facetLabel=_this$props.facetLabel,_this$props$facet2=this.props.facet,sortButton=_this$props$facet2.sortButton,spatialFilterButton=_this$props$facet2.spatialFilterButton,chartButton=_this$props$facet2.chartButton;return react_default.a.createElement("div",{className:classes.headingContainer},react_default.a.createElement(Typography.a,{variant:"body1"},facetLabel," "),react_default.a.createElement(Tooltip.a,{title:facetDescription,enterDelay:300},FacetHeader_ref2),isActive&&(sortButton||spatialFilterButton||chartButton)&&react_default.a.createElement("div",{className:classes.facetHeaderButtons},this.renderFacetMenu()))}}]),FacetHeader}(react_default.a.Component);FacetHeader_FacetHeader.displayName="FacetHeader",FacetHeader_FacetHeader.propTypes={classes:prop_types_default.a.object.isRequired,facetID:prop_types_default.a.string,facetLabel:prop_types_default.a.string.isRequired,facet:prop_types_default.a.object,facetConstrainSelf:prop_types_default.a.object,isActive:prop_types_default.a.bool.isRequired,facetClass:prop_types_default.a.string,resultClass:prop_types_default.a.string,fetchFacet:prop_types_default.a.func,fetchFacetConstrainSelf:prop_types_default.a.func,updateFacetOption:prop_types_default.a.func,facetDescription:prop_types_default.a.string.isRequired,rootUrl:prop_types_default.a.string.isRequired},FacetHeader_FacetHeader.__docgenInfo={description:"",methods:[{name:"handleMenuButtonClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSortOnClick",docblock:null,modifiers:[],params:[{name:"buttonID",type:null}],returns:null},{name:"handleFilterTypeOnClick",docblock:null,modifiers:[],params:[{name:"buttonID",type:null}],returns:null},{name:"handleMenuClose",docblock:null,modifiers:[],params:[],returns:null},{name:"renderFacetMenu",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FacetHeader",props:{classes:{type:{name:"object"},required:!0,description:""},facetID:{type:{name:"string"},required:!1,description:""},facetLabel:{type:{name:"string"},required:!0,description:""},facet:{type:{name:"object"},required:!1,description:""},facetConstrainSelf:{type:{name:"object"},required:!1,description:""},isActive:{type:{name:"bool"},required:!0,description:""},facetClass:{type:{name:"string"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},fetchFacetConstrainSelf:{type:{name:"func"},required:!1,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},facetDescription:{type:{name:"string"},required:!0,description:""},rootUrl:{type:{name:"string"},required:!0,description:""}}};var facet_bar_FacetHeader=Object(withStyles.a)((function(theme){return{root:{width:"100%",height:"100%"},headingContainer:{display:"flex",alignItems:"center",width:"100%"},facetValuesContainerTen:{height:345,padding:theme.spacing(1)},facetValuesContainerThree:{height:108,padding:theme.spacing(1)},facetHeaderButtons:{marginLeft:"auto"}}}))(FacetHeader_FacetHeader);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/FacetHeader.js"]={name:"FacetHeader",docgenInfo:FacetHeader_FacetHeader.__docgenInfo,path:"src/client/components/facet_bar/FacetHeader.js"});__webpack_require__(153);var Chip=__webpack_require__(2040),ChipsArray=function(props){var handleDelete=function(item){return function(){if(!props.someFacetIsFetching)switch(item.filterType){case"uriFilter":props.updateFacetOption({facetClass:props.facetClass,facetID:item.facetID,option:item.filterType,value:item.value});break;case"textFilter":props.updateFacetOption({facetClass:props.facetClass,facetID:item.facetID,option:item.filterType,value:null});break;case"timespanFilter":case"integerFilter":props.updateFacetOption({facetClass:props.facetClass,facetID:item.facetID,option:item.filterType,value:null}),props.fetchFacet({facetClass:props.facetClass,facetID:item.facetID})}}},generateLabel=function(facetLabel,valueLabel,filterType){return"timespanFilter"!==filterType&&"integerFilter"!==filterType&&18<valueLabel.length?"".concat(facetLabel,": ").concat(valueLabel.substring(0,18),"..."):"".concat(facetLabel,": ").concat(valueLabel)},classes=props.classes,data=props.data;return react_default.a.createElement("div",{className:classes.root},null!==data&&data.map((function(item){var key=null,valueLabel=null;if("uriFilter"===item.filterType&&(key=item.value.node.id,valueLabel=item.value.node.prefLabel),"textFilter"===item.filterType&&(key=item.value,valueLabel=item.value),"timespanFilter"===item.filterType&&(key=item.facetID,valueLabel="".concat(ISOStringToYear(item.value.start)," to\n            ").concat(ISOStringToYear(item.value.end))),"integerFilter"===item.filterType){var _item$value=item.value,start=_item$value.start,end=_item$value.end;key=item.facetID,valueLabel="\n              ".concat(""!==start?start:"-","\n              to ").concat(""!==end?end:"-")}return react_default.a.createElement(Tooltip.a,{key:key,title:"".concat(item.facetLabel,": ").concat(valueLabel)},react_default.a.createElement(Chip.a,{key:key,icon:null,label:generateLabel(item.facetLabel,valueLabel,item.filterType),className:classes.chip,onDelete:handleDelete(item),color:"primary"}))})))};ChipsArray.displayName="ChipsArray",ChipsArray.propTypes={classes:prop_types_default.a.object.isRequired,data:prop_types_default.a.array.isRequired,facetClass:prop_types_default.a.string.isRequired,updateFacetOption:prop_types_default.a.func.isRequired,someFacetIsFetching:prop_types_default.a.bool.isRequired,fetchFacet:prop_types_default.a.func.isRequired},ChipsArray.__docgenInfo={description:"",methods:[],displayName:"ChipsArray",props:{classes:{type:{name:"object"},required:!0,description:""},data:{type:{name:"array"},required:!0,description:""},facetClass:{type:{name:"string"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!0,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},fetchFacet:{type:{name:"func"},required:!0,description:""}}};var facet_bar_ChipsArray=Object(withStyles.a)((function(theme){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},chip:{margin:theme.spacing(.5)}}}))(ChipsArray);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/ChipsArray.js"]={name:"ChipsArray",docgenInfo:ChipsArray.__docgenInfo,path:"src/client/components/facet_bar/ChipsArray.js"});var ActiveFilters=function(props){var uriFilters=props.uriFilters,textFilters=props.textFilters,timespanFilters=props.timespanFilters,integerFilters=props.integerFilters,facetClass=props.facetClass,someFacetIsFetching=props.someFacetIsFetching,facetValues=[];return Object.keys(uriFilters).map((function(activeFacetID){Object.values(uriFilters[activeFacetID]).forEach((function(value){facetValues.push({facetID:activeFacetID,facetLabel:lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(activeFacetID,".label")),filterType:"uriFilter",value:value})}))})),Object.keys(textFilters).map((function(facetID){facetValues.push({facetID:facetID,facetLabel:lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(facetID,".label")),filterType:"textFilter",value:textFilters[facetID]})})),Object.keys(timespanFilters).map((function(facetID){facetValues.push({facetID:facetID,facetLabel:lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(facetID,".label")),filterType:"timespanFilter",value:timespanFilters[facetID]})})),Object.keys(integerFilters).map((function(facetID){facetValues.push({facetID:facetID,facetLabel:lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(facetID,".label")),filterType:"integerFilter",value:integerFilters[facetID]})})),react_default.a.createElement(facet_bar_ChipsArray,{data:facetValues,facetClass:props.facetClass,updateFacetOption:props.updateFacetOption,someFacetIsFetching:someFacetIsFetching,fetchFacet:props.fetchFacet})};ActiveFilters.displayName="ActiveFilters",ActiveFilters.propTypes={facetClass:prop_types_default.a.string.isRequired,uriFilters:prop_types_default.a.object.isRequired,spatialFilters:prop_types_default.a.object.isRequired,textFilters:prop_types_default.a.object.isRequired,timespanFilters:prop_types_default.a.object.isRequired,integerFilters:prop_types_default.a.object.isRequired,updateFacetOption:prop_types_default.a.func.isRequired,someFacetIsFetching:prop_types_default.a.bool.isRequired,fetchFacet:prop_types_default.a.func.isRequired},ActiveFilters.__docgenInfo={description:"",methods:[],displayName:"ActiveFilters",props:{facetClass:{type:{name:"string"},required:!0,description:""},uriFilters:{type:{name:"object"},required:!0,description:""},spatialFilters:{type:{name:"object"},required:!0,description:""},textFilters:{type:{name:"object"},required:!0,description:""},timespanFilters:{type:{name:"object"},required:!0,description:""},integerFilters:{type:{name:"object"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!0,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},fetchFacet:{type:{name:"func"},required:!0,description:""}}};var facet_bar_ActiveFilters=ActiveFilters;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/ActiveFilters.js"]={name:"ActiveFilters",docgenInfo:ActiveFilters.__docgenInfo,path:"src/client/components/facet_bar/ActiveFilters.js"});var Divider=__webpack_require__(2021),FacetInfo_ref=react_default.a.createElement(Typography.a,{variant:"h6"},"Active filters:"),FacetInfo_FacetInfo=function(_React$Component){function FacetInfo(){var _getPrototypeOf2,_this;classCallCheck_default()(this,FacetInfo);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(FacetInfo)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",(function(){"serverFS"===_this.props.facetedSearchMode&&_this.props.fetchResultCount({resultClass:_this.props.resultClass,facetClass:_this.props.facetClass})})),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidUpdate",(function(prevProps){"serverFS"===_this.props.facetedSearchMode&&prevProps.facetUpdateID!==_this.props.facetUpdateID&&_this.props.fetchResultCount({resultClass:_this.props.resultClass,facetClass:_this.props.facetClass})})),_this}return inherits_default()(FacetInfo,_React$Component),createClass_default()(FacetInfo,[{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,facetClass=_this$props.facetClass,resultClass=_this$props.resultClass,resultCount=_this$props.resultCount,someFacetIsFetching=_this$props.someFacetIsFetching,facets=this.props.facetData.facets,uriFilters={},spatialFilters={},textFilters={},timespanFilters={},integerFilters={},activeUriFilters=!1,activeSpatialFilters=!1,activeTextFilters=!1,activeTimespanFilters=!1,activeIntegerFilters=!1;return Object.entries(facets).forEach((function(entry){var _entry=slicedToArray_default()(entry,2),key=_entry[0],value=_entry[1];Object(lodash.has)(value,"uriFilter")&&null!==value.uriFilter&&(activeUriFilters=!0,uriFilters[key]=value.uriFilter),Object(lodash.has)(value,"spatialFilter")&&null!==value.spatialFilter&&(activeSpatialFilters=!0,spatialFilters[key]=value.spatialFilter._bounds),Object(lodash.has)(value,"textFilter")&&null!==value.textFilter&&(activeTextFilters=!0,textFilters[key]=value.textFilter),Object(lodash.has)(value,"timespanFilter")&&null!==value.timespanFilter&&(activeTimespanFilters=!0,timespanFilters[key]=value.timespanFilter),Object(lodash.has)(value,"integerFilter")&&null!==value.integerFilter&&(activeIntegerFilters=!0,integerFilters[key]=value.integerFilter)})),react_default.a.createElement("div",{className:classes.root},this.props.fetchingResultCount?react_default.a.createElement(CircularProgress.a,{style:{color:purple_default.a[500]},thickness:5,size:26}):react_default.a.createElement(Typography.a,{variant:"h6"},lib_default.a.get("facetBar.results"),": ",resultCount," ",lib_default.a.get("perspectives.".concat(resultClass,".facetResultsType"))),react_default.a.createElement(Divider.a,{className:classes.facetInfoDivider}),(activeUriFilters||activeSpatialFilters||activeTextFilters||activeTimespanFilters||activeIntegerFilters)&&react_default.a.createElement(react_default.a.Fragment,null,FacetInfo_ref,react_default.a.createElement("div",{className:classes.textContainer},react_default.a.createElement(facet_bar_ActiveFilters,{facetClass:facetClass,uriFilters:uriFilters,spatialFilters:spatialFilters,textFilters:textFilters,timespanFilters:timespanFilters,integerFilters:integerFilters,updateFacetOption:this.props.updateFacetOption,someFacetIsFetching:someFacetIsFetching,fetchFacet:this.props.fetchFacet})),react_default.a.createElement(Divider.a,{className:classes.facetInfoDivider})),react_default.a.createElement(Typography.a,{variant:"h6"},lib_default.a.get("facetBar.narrowDownBy"),":"))}}]),FacetInfo}(react_default.a.Component);FacetInfo_FacetInfo.displayName="FacetInfo",FacetInfo_FacetInfo.propTypes={classes:prop_types_default.a.object.isRequired,facetedSearchMode:prop_types_default.a.string.isRequired,facetUpdateID:prop_types_default.a.number.isRequired,facetData:prop_types_default.a.object.isRequired,facetClass:prop_types_default.a.string.isRequired,resultClass:prop_types_default.a.string.isRequired,resultCount:prop_types_default.a.number,fetchingResultCount:prop_types_default.a.bool.isRequired,updateFacetOption:prop_types_default.a.func,fetchResultCount:prop_types_default.a.func,someFacetIsFetching:prop_types_default.a.bool.isRequired,fetchFacet:prop_types_default.a.func},FacetInfo_FacetInfo.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"componentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null}],displayName:"FacetInfo",props:{classes:{type:{name:"object"},required:!0,description:""},facetedSearchMode:{type:{name:"string"},required:!0,description:""},facetUpdateID:{type:{name:"number"},required:!0,description:""},facetData:{type:{name:"object"},required:!0,description:""},facetClass:{type:{name:"string"},required:!0,description:""},resultClass:{type:{name:"string"},required:!0,description:""},resultCount:{type:{name:"number"},required:!1,description:""},fetchingResultCount:{type:{name:"bool"},required:!0,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},fetchResultCount:{type:{name:"func"},required:!1,description:""},someFacetIsFetching:{type:{name:"bool"},required:!0,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""}}};var facet_bar_FacetInfo=Object(withStyles.a)((function(theme){return{facetInfoDivider:{marginTop:theme.spacing(.5),marginBottom:theme.spacing(.5)}}}))(FacetInfo_FacetInfo);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/FacetInfo.js"]={name:"FacetInfo",docgenInfo:FacetInfo_FacetInfo.__docgenInfo,path:"src/client/components/facet_bar/FacetInfo.js"});__webpack_require__(489);var FormGroup=__webpack_require__(2022),Info=__webpack_require__(869),Info_default=__webpack_require__.n(Info),DatasetSelector_ref=react_default.a.createElement(Info_default.a,null),DatasetSelector_DatasetSelector=function(_React$Component){function DatasetSelector(){var _getPrototypeOf2,_this;classCallCheck_default()(this,DatasetSelector);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(DatasetSelector)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"handleToggleDataset",(function(value){return function(){_this.props.clientFSToggleDataset(value)}})),defineProperty_default()(assertThisInitialized_default()(_this),"generateLabel",(function(id){var perspectiveID=_this.props.perspectiveID;return react_default.a.createElement("div",{className:_this.props.classes.checkboxLabel},react_default.a.createElement("span",null,lib_default.a.get("perspectives.".concat(perspectiveID,".datasets.").concat(id,".label"))),react_default.a.createElement("a",{className:_this.props.classes.link,href:lib_default.a.get("perspectives.".concat(perspectiveID,".datasets.").concat(id,".aboutLink")),target:"_blank",rel:"noopener noreferrer"},DatasetSelector_ref))})),_this}return inherits_default()(DatasetSelector,_React$Component),createClass_default()(DatasetSelector,[{key:"render",value:function render(){var _this2=this,classes=this.props.classes;return react_default.a.createElement("div",{className:classes.root},react_default.a.createElement(FormControl.a,{component:"fieldset",className:classes.formControl},react_default.a.createElement(FormGroup.a,{className:classes.formGroup},Object.keys(this.props.datasets).map((function(id){return react_default.a.createElement(FormControlLabel.a,{classes:{root:classes.formControlLabelRoot,label:classes.formControlLabelLabel},key:id,control:react_default.a.createElement(Checkbox.a,{checked:_this2.props.datasets[id].selected,onChange:_this2.handleToggleDataset(id),tabIndex:-1,disableRipple:!0}),label:_this2.generateLabel(id)})})))))}}]),DatasetSelector}(react_default.a.Component);DatasetSelector_DatasetSelector.displayName="DatasetSelector",DatasetSelector_DatasetSelector.propTypes={classes:prop_types_default.a.object.isRequired,datasets:prop_types_default.a.object.isRequired,clientFSToggleDataset:prop_types_default.a.func.isRequired,perspectiveID:prop_types_default.a.string.isRequired},DatasetSelector_DatasetSelector.__docgenInfo={description:"",methods:[{name:"handleToggleDataset",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"generateLabel",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null}],displayName:"DatasetSelector",props:{classes:{type:{name:"object"},required:!0,description:""},datasets:{type:{name:"object"},required:!0,description:""},clientFSToggleDataset:{type:{name:"func"},required:!0,description:""},perspectiveID:{type:{name:"string"},required:!0,description:""}}};var facet_bar_DatasetSelector=Object(withStyles.a)((function(theme){return{root:{display:"flex",flexWrap:"wrap",marginLeft:theme.spacing(2)},formControl:{width:"100%"},formControlLabelRoot:defineProperty_default()({width:"100%"},theme.breakpoints.down("md"),{marginBottom:theme.spacing(1)}),formControlLabelLabel:{width:"100%"},checkboxLabel:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.875rem"},link:{display:"flex",textDecoration:"none",alignItems:"center",color:theme.palette.primary.main,"&:visited":{color:theme.palette.primary.main}}}}))(DatasetSelector_DatasetSelector);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/DatasetSelector.js"]={name:"DatasetSelector",docgenInfo:DatasetSelector_DatasetSelector.__docgenInfo,path:"src/client/components/facet_bar/DatasetSelector.js"});__webpack_require__(57),__webpack_require__(324);var SearchField_ref=react_default.a.createElement(IconButton.a,{"aria-label":"Search places"},react_default.a.createElement(CircularProgress.a,{size:24})),SearchField_ref2=react_default.a.createElement(Search_default.a,null),SearchField_SearchField=function(_React$Component){function SearchField(){var _getPrototypeOf2,_this;classCallCheck_default()(this,SearchField);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(SearchField)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{value:""}),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidUpdate",(function(prevProps){prevProps.search.query!==_this.props.search.query&&_this.setState({value:_this.props.search.query})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleChange",(function(event){_this.setState({value:event.target.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMouseDown",(function(event){event.preventDefault()})),defineProperty_default()(assertThisInitialized_default()(_this),"handleOnKeyDown",(function(event){"Enter"===event.key&&_this.hasDatasets()&&_this.hasValidQuery()&&(_this.props.clearResults(),_this.props.updateQuery(_this.state.value),_this.props.fetchResults({jenaIndex:"text",query:_this.state.value}))})),defineProperty_default()(assertThisInitialized_default()(_this),"handleClick",(function(){_this.hasDatasets()&&_this.hasValidQuery()&&(_this.props.clearResults(),_this.props.updateQuery(_this.state.value),_this.props.fetchResults({jenaIndex:"text",query:_this.state.value}))})),defineProperty_default()(assertThisInitialized_default()(_this),"hasDatasets",(function(){var hasDs=!1;return Object.values(_this.props.datasets).forEach((function(value){value.selected&&(hasDs=!0)})),hasDs})),defineProperty_default()(assertThisInitialized_default()(_this),"hasValidQuery",(function(){return 2<_this.state.value.length})),_this}return inherits_default()(SearchField,_React$Component),createClass_default()(SearchField,[{key:"render",value:function render(){var classes=this.props.classes,searchButton=null;return searchButton=this.props.search.textResultsFetching?SearchField_ref:react_default.a.createElement(IconButton.a,{"aria-label":"Search",onClick:this.handleClick,onMouseDown:this.handleMouseDown},SearchField_ref2),react_default.a.createElement(Paper.a,{className:classes.root},react_default.a.createElement(FormControl.a,{className:classes.textSearch},react_default.a.createElement(InputLabel.a,{htmlFor:"adornment-search"},lib_default.a.get("perspectives.".concat(this.props.perspectiveID,".inputPlaceHolder"))),react_default.a.createElement(Input.a,{id:"adornment-search",type:"text",value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleOnKeyDown,endAdornment:react_default.a.createElement(InputAdornment.a,{position:"end"},searchButton)})))}}]),SearchField}(react_default.a.Component);SearchField_SearchField.displayName="SearchField",SearchField_SearchField.propTypes={classes:prop_types_default.a.object.isRequired,search:prop_types_default.a.object.isRequired,fetchResults:prop_types_default.a.func.isRequired,clearResults:prop_types_default.a.func.isRequired,updateQuery:prop_types_default.a.func.isRequired,datasets:prop_types_default.a.object.isRequired,perspectiveID:prop_types_default.a.string.isRequired},SearchField_SearchField.__docgenInfo={description:"",methods:[{name:"componentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleOnKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"hasDatasets",docblock:null,modifiers:[],params:[],returns:null},{name:"hasValidQuery",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SearchField",props:{classes:{type:{name:"object"},required:!0,description:""},search:{type:{name:"object"},required:!0,description:""},fetchResults:{type:{name:"func"},required:!0,description:""},clearResults:{type:{name:"func"},required:!0,description:""},updateQuery:{type:{name:"func"},required:!0,description:""},datasets:{type:{name:"object"},required:!0,description:""},perspectiveID:{type:{name:"string"},required:!0,description:""}}};var facet_bar_SearchField=Object(withStyles.a)((function(theme){return{root:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1),padding:theme.spacing(.5)},textSearch:{margin:theme.spacing(1)}}}))(SearchField_SearchField);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/SearchField.js"]={name:"SearchField",docgenInfo:SearchField_SearchField.__docgenInfo,path:"src/client/components/facet_bar/SearchField.js"});var DialogActions=__webpack_require__(2019),DialogTitle=__webpack_require__(2024),CropFree=__webpack_require__(876),CropFree_default=__webpack_require__.n(CropFree),toConsumableArray=(__webpack_require__(41),__webpack_require__(64),__webpack_require__(51),__webpack_require__(870)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),leaflet_src=__webpack_require__(23),leaflet_src_default=__webpack_require__.n(leaflet_src),colors_purple=__webpack_require__(2023),GeneralConfig=__webpack_require__(72),marker_shadow=(__webpack_require__(1923),__webpack_require__(1928),__webpack_require__(844),__webpack_require__(1930),__webpack_require__(1933),__webpack_require__(1934),__webpack_require__(1936),__webpack_require__(1938),__webpack_require__(1939),__webpack_require__(1941),__webpack_require__(1942),__webpack_require__(1943),__webpack_require__(845),__webpack_require__(846),__webpack_require__(1947),__webpack_require__(1948),__webpack_require__(1953),__webpack_require__(1954),__webpack_require__(871)),marker_shadow_default=__webpack_require__.n(marker_shadow),marker_icon_violet=__webpack_require__(872),marker_icon_violet_default=__webpack_require__.n(marker_icon_violet),marker_icon_green=__webpack_require__(499),marker_icon_green_default=__webpack_require__.n(marker_icon_green),marker_icon_red=__webpack_require__(873),marker_icon_red_default=__webpack_require__.n(marker_icon_red),marker_icon_orange=__webpack_require__(874),marker_icon_orange_default=__webpack_require__.n(marker_icon_orange),marker_icon_yellow=__webpack_require__(875),marker_icon_yellow_default=__webpack_require__.n(marker_icon_yellow),ColorIcon=leaflet_src_default.a.Icon.extend({options:{shadowUrl:marker_shadow_default.a,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}}),LeafletMap_LeafletMap=function(_React$Component){function LeafletMap(props){var _this;return classCallCheck_default()(this,LeafletMap),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(LeafletMap).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidMount",(function(){_this.props.mapMode&&"facetResults"===_this.props.pageType&&_this.props.fetchResults({resultClass:_this.props.resultClass,facetClass:_this.props.facetClass,sortBy:null}),_this.initMap(),_this.props.mapMode&&"clientFSResults"===_this.props.pageType&&_this.drawPointData()})),defineProperty_default()(assertThisInitialized_default()(_this),"componentDidUpdate",(function(prevProps,prevState){"clientFS"===_this.props.facetedSearchMode?_this.clientFScomponentDidUpdate(prevProps):_this.serverFScomponentDidUpdate(prevProps,prevState)})),defineProperty_default()(assertThisInitialized_default()(_this),"componentWillUnmount",(function(){_this.leafletMap.remove()})),defineProperty_default()(assertThisInitialized_default()(_this),"clientFScomponentDidUpdate",(function(prevProps){prevProps.facetUpdateID!==_this.props.facetUpdateID&&_this.drawPointData(),_this.props.showExternalLayers&&_this.props.layers.updateID!==prevProps.layers.updateID&&_this.props.layers.layerData.map((function(layerObj){return _this.populateOverlay(layerObj)}))})),defineProperty_default()(assertThisInitialized_default()(_this),"serverFScomponentDidUpdate",(function(prevProps,prevState){Object(lodash.has)(prevProps,"facetUpdateID")&&prevProps.facetUpdateID!==_this.props.facetUpdateID&&_this.props.fetchResults({resultClass:_this.props.resultClass,facetClass:_this.props.facetClass,sortBy:null}),prevProps.results!==_this.props.results&&_this.drawPointData(),prevState.mapMode!==_this.state.mapMode&&_this.props.fetchResults({resultClass:_this.props.resultClass,facetClass:_this.props.facetClass,sortBy:null}),null!==_this.props.instance&&prevProps.instance!==_this.props.instance&&_this.markers[_this.props.instance.id].bindPopup(_this.createPopUpContent(_this.props.instance),{maxHeight:300,maxWidth:400,minWidth:400}).openPopup(),_this.props.showExternalLayers&&_this.props.layers.updateID!==prevProps.layers.updateID&&_this.props.layers.layerData.map((function(layerObj){return _this.populateOverlay(layerObj)})),Object(lodash.has)(prevProps,"facet")&&prevProps.facet.filterType!==_this.props.facet.filterType&&("spatialFilter"===_this.props.facet.filterType?_this.addDrawButtons():_this.removeDrawButtons())})),defineProperty_default()(assertThisInitialized_default()(_this),"initMap",(function(){var mapboxBaseLayer=leaflet_src_default.a.tileLayer("https://api.mapbox.com/styles/v1/mapbox/".concat(GeneralConfig.b,"/tiles/{z}/{x}/{y}?access_token=").concat(GeneralConfig.a),{attribution:'&copy; <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',tileSize:512,zoomOffset:-1});_this.resultMarkerLayer=leaflet_src_default.a.layerGroup();var container=_this.props.container?_this.props.container:"map";if(_this.leafletMap=leaflet_src_default.a.map(container,{center:_this.props.center,zoom:_this.props.zoom,zoomControl:!1,zoominfoControl:!0,layers:[mapboxBaseLayer,_this.resultMarkerLayer],fullscreenControl:!0}),_this.props.showExternalLayers){var basemaps=defineProperty_default()({},lib_default.a.get("leafletMap.basemaps.mapbox.".concat(GeneralConfig.b)),mapboxBaseLayer);_this.initOverLays(basemaps)}leaflet_src_default.a.control.scale().addTo(_this.leafletMap),Object(lodash.has)(_this.props,"facet")&&"spatialFilter"===_this.props.facet.filterType&&_this.addDrawButtons(),_this.props.showMapModeControl&&_this.addMapModeControl(),_this.props.updateMapBounds&&(_this.props.updateMapBounds(_this.boundsToValues()),_this.leafletMap.on("moveend",(function(){_this.props.updateMapBounds(_this.boundsToValues())})))})),defineProperty_default()(assertThisInitialized_default()(_this),"createNLSUrl",(function(layerID){return"https://avoin-karttakuva.maanmittauslaitos.fi/avoin/wmts?service=WMTS&request=GetTile&version=1.0.0&layer="+layerID+"&style=default&format=image/png&TileMatrixSet=WGS84_Pseudo-Mercator&TileMatrix={z}&TileRow={y}&TileCol={x}"})),defineProperty_default()(assertThisInitialized_default()(_this),"boundsToValues",(function(){var bounds=_this.leafletMap.getBounds();return{latMin:bounds._southWest.lat,longMin:bounds._southWest.lng,latMax:bounds._northEast.lat,longMax:bounds._northEast.lng,zoom:_this.leafletMap.getZoom()}})),defineProperty_default()(assertThisInitialized_default()(_this),"drawPointData",(function(){var results=_this.props.results;switch(_this.resultMarkerLayer.clearLayers(),_this.state.mapMode){case"cluster":_this.updateMarkersAndCluster(results);break;case"marker":_this.updateMarkers(results);break;default:_this.updateMarkersAndCluster(results)}})),defineProperty_default()(assertThisInitialized_default()(_this),"createLatLngArray",(function(results){return results.map((function(result){return[+result.lat,+result.long]}))})),defineProperty_default()(assertThisInitialized_default()(_this),"initMapEventListeners",(function(){_this.leafletMap.on("overlayadd",(function(event){if("geoJSON"===event.layer.options.type){var layerID=event.layer.options.id;_this.setState((function(state){return{activeOverlays:[].concat(toConsumableArray_default()(state.activeOverlays),[layerID])}})),_this.isSafeToLoadLargeLayers()&&_this.props.fetchGeoJSONLayers({layerIDs:_this.state.activeOverlays,bounds:_this.leafletMap.getBounds()})}})),_this.leafletMap.on("overlayremove",(function(event){if("geoJSON"===event.layer.options.type){var layerIDremoved=event.layer.options.id;_this.clearOverlay(layerIDremoved),_this.setState((function(state){return{activeOverlays:state.activeOverlays.filter((function(layerID){return layerID!==layerIDremoved}))}}))}})),_this.leafletMap.on("zoomstart",(function(){_this.setState({prevZoomLevel:_this.leafletMap.getZoom()})}))})),defineProperty_default()(assertThisInitialized_default()(_this),"isSafeToLoadLargeLayersAfterZooming",(function(){return 13===_this.leafletMap.getZoom()||13<=_this.leafletMap.getZoom()&&_this.state.prevZoomLevel>_this.leafletMap.getZoom()})),defineProperty_default()(assertThisInitialized_default()(_this),"isSafeToLoadLargeLayers",(function(){return 13<=_this.leafletMap.getZoom()})),defineProperty_default()(assertThisInitialized_default()(_this),"initOverLays",(function(basemaps){var _this$overlayLayers,_opacityLayers,fhaArchaeologicalSiteRegistryAreas=leaflet_src_default.a.layerGroup([],{id:"arkeologiset_kohteet_alue",geojsonMPolygonOptions:{color:"#dd2c00",cursor:"pointer",dashArray:"3, 5"}}),fhaArchaeologicalSiteRegistryPoints=leaflet_src_default.a.layerGroup([],{id:"arkeologiset_kohteet_piste",geojsonMarkerOptions:{radius:8,fillColor:"#dd2c00",weight:1,opacity:1,fillOpacity:.8}}),karelianMaps=leaflet_src_default.a.tileLayer("http:///mapwarper.onki.fi/mosaics/tile/4/{z}/{x}/{y}.png",{type:"tile",attribution:"SeCo"}),senateAtlas=leaflet_src_default.a.tileLayer("http:///mapwarper.onki.fi/mosaics/tile/5/{z}/{x}/{y}.png",{type:"tile",attribution:"SeCo"});_this.overlayLayers=(_this$overlayLayers={},defineProperty_default()(_this$overlayLayers,lib_default.a.get("leafletMap.externalLayers.arkeologiset_kohteet_alue"),fhaArchaeologicalSiteRegistryAreas),defineProperty_default()(_this$overlayLayers,lib_default.a.get("leafletMap.externalLayers.arkeologiset_kohteet_piste"),fhaArchaeologicalSiteRegistryPoints),defineProperty_default()(_this$overlayLayers,lib_default.a.get("leafletMap.externalLayers.karelianMaps"),karelianMaps),defineProperty_default()(_this$overlayLayers,lib_default.a.get("leafletMap.externalLayers.senateAtlas"),senateAtlas),_this$overlayLayers),leaflet_src_default.a.control.layers(basemaps,_this.overlayLayers).addTo(_this.leafletMap);var opacityLayers=(_opacityLayers={},defineProperty_default()(_opacityLayers,lib_default.a.get("leafletMap.externalLayers.karelianMaps"),karelianMaps),defineProperty_default()(_opacityLayers,lib_default.a.get("leafletMap.externalLayers.senateAtlas"),senateAtlas),_opacityLayers);_this.createOpacitySlider(opacityLayers),_this.initMapEventListeners()})),defineProperty_default()(assertThisInitialized_default()(_this),"populateOverlay",(function(layerObj){var leafletOverlay=_this.overlayLayers[lib_default.a.get("leafletMap.externalLayers.".concat(layerObj.layerID))];leaflet_src_default.a.geoJSON(layerObj.geoJSON,{pointToLayer:function pointToLayer(feature,latlng){return leaflet_src_default.a.circleMarker(latlng,leafletOverlay.options.geojsonMarkerOptions)},style:leafletOverlay.options.geojsonMPolygonOptions,onEachFeature:function onEachFeature(feature,layer){layer.bindPopup(_this.createPopUpContentGeoJSON(feature.properties))}}).addTo(leafletOverlay).addTo(_this.leafletMap)})),defineProperty_default()(assertThisInitialized_default()(_this),"clearOverlay",(function(id){_this.overlayLayers[lib_default.a.get("leafletMap.externalLayers.".concat(id))].clearLayers()})),defineProperty_default()(assertThisInitialized_default()(_this),"addMapModeControl",(function(){leaflet_src_default.a.Control.Mapmode=leaflet_src_default.a.Control.extend({onAdd:function onAdd(){var container=leaflet_src_default.a.DomUtil.create("div","leaflet-control-layers leaflet-control-layers-expanded"),markersInputContainer=leaflet_src_default.a.DomUtil.create("div","leaflet-control-mapmode-input-container",container),heatmapInputContainer=leaflet_src_default.a.DomUtil.create("div","leaflet-control-mapmode-input-container",container),radioMarkers=leaflet_src_default.a.DomUtil.create("input","leaflet-control-mapmode-input",markersInputContainer),radioHeatmap=leaflet_src_default.a.DomUtil.create("input","leaflet-control-mapmode-input",heatmapInputContainer),markersLabel=leaflet_src_default.a.DomUtil.create("label","leaflet-control-mapmode-label",markersInputContainer),heatmapLabel=leaflet_src_default.a.DomUtil.create("label","leaflet-control-mapmode-label",heatmapInputContainer);return radioMarkers.id="leaflet-control-mapmode-markers",radioHeatmap.id="leaflet-control-mapmode-heatmap",radioMarkers.type="radio",radioHeatmap.type="radio",radioMarkers.checked="cluster"===_this.state.mapMode,radioHeatmap.checked="heatmap"===_this.state.mapMode,radioMarkers.name="mapmode",radioHeatmap.name="mapmode",radioMarkers.value="cluster",radioHeatmap.value="heatmap",markersLabel.for="leaflet-control-mapmode-markers",markersLabel.textContent=lib_default.a.get("leafletMap.mapModeButtons.markers"),heatmapLabel.for="leaflet-control-mapmode-heatmap",heatmapLabel.textContent=lib_default.a.get("leafletMap.mapModeButtons.heatmap"),leaflet_src_default.a.DomEvent.on(radioMarkers,"click",(function(event){return _this.setState({mapMode:event.target.value})})),leaflet_src_default.a.DomEvent.on(radioHeatmap,"click",(function(event){return _this.setState({mapMode:event.target.value})})),container},onRemove:function onRemove(){}}),leaflet_src_default.a.control.mapmode=function(opts){return new leaflet_src_default.a.Control.Mapmode(opts)},leaflet_src_default.a.control.mapmode({position:"topleft"}).addTo(_this.leafletMap)})),defineProperty_default()(assertThisInitialized_default()(_this),"addDrawButtons",(function(){_this.drawnItems=new leaflet_src_default.a.FeatureGroup,_this.leafletMap.addLayer(_this.drawnItems),_this.drawControlFull=new leaflet_src_default.a.Control.Draw({draw:{polyline:!1,rectangle:{shapeOptions:{color:"#bada55"}},circle:!1,polygon:!1,marker:!1,circlemarker:!1},edit:{featureGroup:_this.drawnItems}}),_this.drawControlEditOnly=new leaflet_src_default.a.Control.Draw({draw:!1,edit:{featureGroup:_this.drawnItems}}),null!==_this.props.facet.spatialFilter?(_this.drawnItems.addLayer(_this.props.facet.spatialFilter),_this.leafletMap.addControl(_this.drawControlEditOnly)):_this.leafletMap.addControl(_this.drawControlFull),_this.leafletMap.on(leaflet_src_default.a.Draw.Event.CREATED,(function(e){_this.drawnItems.addLayer(e.layer),_this.leafletMap.removeControl(_this.drawControlFull),_this.leafletMap.addControl(_this.drawControlEditOnly),_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"spatialFilter",value:e.layer})})),_this.leafletMap.on(leaflet_src_default.a.Draw.Event.EDITED,(function(e){e.layers.eachLayer((function(layer){_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"spatialFilter",value:layer})}))})),_this.leafletMap.on(leaflet_src_default.a.Draw.Event.DELETED,(function(){_this.leafletMap.removeControl(_this.drawControlEditOnly),_this.leafletMap.addControl(_this.drawControlFull),_this.props.updateFacetOption({facetClass:_this.props.facetClass,facetID:_this.props.facetID,option:"spatialFilter",value:null})}))})),defineProperty_default()(assertThisInitialized_default()(_this),"removeDrawButtons",(function(){_this.leafletMap.removeLayer(_this.drawnItems),_this.leafletMap.removeControl(_this.drawControlFull),_this.leafletMap.removeControl(_this.drawControlEditOnly)})),defineProperty_default()(assertThisInitialized_default()(_this),"updateMarkers",(function(results){_this.resultMarkerLayer.clearLayers(),_this.markers={},Object.values(results).forEach((function(value){var marker=_this.createMarker(value);null!==marker&&(_this.markers[value.id]=marker,marker.addTo(_this.resultMarkerLayer))}))})),defineProperty_default()(assertThisInitialized_default()(_this),"updateMarkersAndCluster",(function(results){_this.resultMarkerLayer.clearLayers(),_this.markers={};var clusterer=null;clusterer=new leaflet_src_default.a.MarkerClusterGroup({iconCreateFunction:function iconCreateFunction(cluster){var childCount=0;_this.props.showInstanceCountInClusters?cluster.getAllChildMarkers().forEach((function(marker){childCount+=parseInt(marker.options.instanceCount)})):childCount=cluster.getChildCount();var c=" marker-cluster-";return c+=10>childCount?"small":100>childCount?"medium":"large",new leaflet_src_default.a.DivIcon({html:"<div><span>"+childCount+"</span></div>",className:"marker-cluster"+c,iconSize:new leaflet_src_default.a.Point(40,40)})}});var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=results[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var result=_step.value,marker=_this.createMarker(result);null!==marker&&(_this.markers[result.id]=marker,clusterer.addLayer(marker))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}clusterer.addTo(_this.resultMarkerLayer)})),defineProperty_default()(assertThisInitialized_default()(_this),"createMarker",(function(result){if(Object(lodash.has)(result,"lat")&&Object(lodash.has)(result,"long")&&"Undefined"!==result.lat&&"Undefined"!==result.long){var latLng=[+(Array.isArray(result.lat)?result.lat[0]:result.lat),+(Array.isArray(result.long)?result.long[0]:result.long)],marker=null;if(_this.props.showInstanceCountInClusters){var icon=leaflet_src_default.a.ExtraMarkers.icon({icon:"fa-number",number:result.instanceCount,markerColor:"blue",shape:"circle",prefix:"fa"});marker=leaflet_src_default.a.marker(latLng,{icon:icon,instanceCount:result.instanceCount?result.instanceCount:null,id:result.id,prefLabel:result.prefLabel?result.prefLabel:null,events:result.events?result.events:null})}else{var markerIcon="";switch(result.markerColor||"green"){case"violet":markerIcon=marker_icon_violet_default.a;break;case"green":markerIcon=marker_icon_green_default.a;break;case"red":markerIcon=marker_icon_red_default.a;break;case"orange":markerIcon=marker_icon_orange_default.a;break;case"yellow":markerIcon=marker_icon_yellow_default.a;break;default:markerIcon=marker_icon_green_default.a}marker=leaflet_src_default.a.marker(latLng,{icon:new ColorIcon({iconUrl:markerIcon}),id:result.id,prefLabel:result.prefLabel?result.prefLabel:null,events:result.events?result.events:null})}return"facetResults"===_this.props.pageType&&marker.on("click",_this.markerOnClickFacetResults),"instancePage"===_this.props.pageType&&marker.bindPopup(_this.createPopUpContent(marker.options)),"clientFSResults"===_this.props.pageType&&marker.bindPopup(_this.createPopUpContentNameSampo(result)),marker}return null})),defineProperty_default()(assertThisInitialized_default()(_this),"markerOnClickFacetResults",(function(event){_this.props.fetchByURI({resultClass:_this.props.resultClass,facetClass:_this.props.facetClass,uri:event.target.options.id})})),defineProperty_default()(assertThisInitialized_default()(_this),"createPopUpContent",(function(result){var popUpTemplate="";return Array.isArray(result.prefLabel)&&(result.prefLabel=result.prefLabel[0]),Object(lodash.has)(result.prefLabel,"dataProviderUrl")?popUpTemplate+="<a href=".concat(result.prefLabel.dataProviderUrl,"><h3>").concat(result.prefLabel.prefLabel,"</h3></a>"):popUpTemplate+="<h3>".concat(result.prefLabel.prefLabel,"</h3>"),Object(lodash.has)(result,"sameAs")&&(popUpTemplate+='<p>Place authority: <a target="_blank" rel="noopener noreferrer" href='.concat(result.sameAs,">").concat(result.sameAs,"</a></p>")),"placesMsProduced"===_this.props.resultClass&&(popUpTemplate+="<p>Manuscripts produced here:</p>",popUpTemplate+=_this.createInstanceListing(result.related)),"lastKnownLocations"===_this.props.resultClass&&(popUpTemplate+="<p>Last known location of:</p>",popUpTemplate+=_this.createInstanceListing(result.related)),"placesActors"===_this.props.resultClass&&(popUpTemplate+="<p>Actors:</p>",popUpTemplate+=_this.createInstanceListing(result.related)),"instanceEvents"===_this.props.resultClass&&(popUpTemplate+="<p>Events:</p>",popUpTemplate+=_this.createInstanceListing(result.events)),popUpTemplate})),defineProperty_default()(assertThisInitialized_default()(_this),"createPopUpContentNameSampo",(function(data){var perspectiveID=_this.props.perspectiveID,popUpTemplate="";return popUpTemplate+="<a href=".concat(data.id," target='_blank'><h3>").concat(data.prefLabel,"</h3></a>"),Object(lodash.has)(data,"broaderTypeLabel")&&(popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.broaderTypeLabel.label")),"</b>: ").concat(data.broaderTypeLabel,"</p>")),Object(lodash.has)(data,"broaderAreaLabel")&&(popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.broaderAreaLabel.label")),"</b>: ").concat(data.broaderAreaLabel,"</p>")),Object(lodash.has)(data,"modifier")&&(popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.modifier.label")),"</b>: ").concat(data.modifier,"</p>")),Object(lodash.has)(data,"basicElement")&&(popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.basicElement.label")),"</b>: ").concat(data.basicElement,"</p>")),Object(lodash.has)(data,"collectionYear")&&(popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.collectionYear.label")),"</b>: ").concat(data.collectionYear,"</p>")),Object(lodash.has)(data,"source")&&("-"!==data.namesArchiveLink?popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.source.label")),'</b>: \n          <a href="').concat(data.namesArchiveLink,'" target="_blank">').concat(data.source,"</a></p>"):popUpTemplate+="\n        <p><b>".concat(lib_default.a.get("perspectives.".concat(perspectiveID,".properties.source.label")),"</b>: ").concat(data.source,"</p>")),popUpTemplate})),defineProperty_default()(assertThisInitialized_default()(_this),"createPopUpContentGeoJSONFHA",(function(properties){var popupText="",name=properties.kohdenimi?"<b>Kohteen nimi:</b> ".concat(properties.kohdenimi,"</p>"):"",type=properties.laji?"<b>Kohteen tyyppi:</b> ".concat(properties.laji,"</p>"):"",municipality=properties.kunta?"<b>Kunta:</b> ".concat(properties.kunta,"</p>"):"",link=properties.mjtunnus?'<a href="https://www.kyppi.fi/to.aspx?id=112.'.concat(properties.mjtunnus,'" target="_blank">Avaa kohde Muinaisjnnsrekisteriss</a></p>'):"";return popupText+="\n      <div>\n        ".concat(name,"\n        ").concat(type,"\n        ").concat(municipality,"\n        ").concat(link,"\n      </div>\n      ")})),defineProperty_default()(assertThisInitialized_default()(_this),"createPopUpContentGeoJSONKotus",(function(properties){var popupText="",name="<b>Pitjn nimi:</b> ".concat(properties.NIMI,"</p>");return popupText+="\n      <div>\n        ".concat(name,"\n      </div>\n      ")})),defineProperty_default()(assertThisInitialized_default()(_this),"createInstanceListing",(function(instances){var html="";return Array.isArray(instances)?(instances=Object(lodash.orderBy)(instances,"prefLabel"),html+="<ul>",instances.forEach((function(i){html+="<li><a href="+i.dataProviderUrl+">"+i.prefLabel+"</a></li>"})),html+="</ul>"):html+="<p><a href="+instances.dataProviderUrl+">"+instances.prefLabel+"</a></p>",html})),defineProperty_default()(assertThisInitialized_default()(_this),"createOpacitySlider",(function(overlayLayers){leaflet_src_default.a.control.opacity(overlayLayers,{label:null,collapsed:!0}).addTo(_this.leafletMap)})),defineProperty_default()(assertThisInitialized_default()(_this),"render",(function(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:_this.props.classes["leafletContainer".concat(_this.props.pageType)]},react_default.a.createElement("div",{id:_this.props.container?_this.props.container:"map",className:_this.props.classes.mapElement}),(_this.props.fetching||_this.props.showExternalLayers&&_this.props.layers.fetching)&&react_default.a.createElement("div",{className:_this.props.classes.spinnerContainer},react_default.a.createElement(CircularProgress.a,{style:{color:colors_purple.a[500]},thickness:5}))))})),_this.state={activeOverlays:[],prevZoomLevel:null,mapMode:props.mapMode},_this}return inherits_default()(LeafletMap,_React$Component),LeafletMap}(react_default.a.Component);LeafletMap_LeafletMap.propTypes={classes:prop_types_default.a.object.isRequired,pageType:prop_types_default.a.string.isRequired,results:prop_types_default.a.array,layers:prop_types_default.a.object,facetID:prop_types_default.a.string,facet:prop_types_default.a.object,instance:prop_types_default.a.object,facetUpdateID:prop_types_default.a.number,fetchResults:prop_types_default.a.func,fetchGeoJSONLayers:prop_types_default.a.func,resultClass:prop_types_default.a.string,facetClass:prop_types_default.a.string,fetchByURI:prop_types_default.a.func,fetching:prop_types_default.a.bool.isRequired,mapMode:prop_types_default.a.string,showInstanceCountInClusters:prop_types_default.a.bool,showExternalLayers:prop_types_default.a.bool,updateFacetOption:prop_types_default.a.func,facetedSearchMode:prop_types_default.a.string,container:prop_types_default.a.string},LeafletMap_LeafletMap.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"componentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null},{name:"prevState",type:null}],returns:null},{name:"componentWillUnmount",docblock:null,modifiers:[],params:[],returns:null},{name:"clientFScomponentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"serverFScomponentDidUpdate",docblock:null,modifiers:[],params:[{name:"prevProps",type:null},{name:"prevState",type:null}],returns:null},{name:"initMap",docblock:null,modifiers:[],params:[],returns:null},{name:"createNLSUrl",docblock:null,modifiers:[],params:[{name:"layerID",type:null}],returns:null},{name:"boundsToValues",docblock:null,modifiers:[],params:[],returns:null},{name:"drawPointData",docblock:null,modifiers:[],params:[],returns:null},{name:"createLatLngArray",docblock:null,modifiers:[],params:[{name:"results",type:null}],returns:null},{name:"initMapEventListeners",docblock:null,modifiers:[],params:[],returns:null},{name:"isSafeToLoadLargeLayersAfterZooming",docblock:null,modifiers:[],params:[],returns:null},{name:"isSafeToLoadLargeLayers",docblock:null,modifiers:[],params:[],returns:null},{name:"initOverLays",docblock:null,modifiers:[],params:[{name:"basemaps",type:null}],returns:null},{name:"populateOverlay",docblock:null,modifiers:[],params:[{name:"layerObj",type:null}],returns:null},{name:"clearOverlay",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"addMapModeControl",docblock:null,modifiers:[],params:[],returns:null},{name:"addDrawButtons",docblock:null,modifiers:[],params:[],returns:null},{name:"removeDrawButtons",docblock:null,modifiers:[],params:[],returns:null},{name:"updateMarkers",docblock:null,modifiers:[],params:[{name:"results",type:null}],returns:null},{name:"updateMarkersAndCluster",docblock:null,modifiers:[],params:[{name:"results",type:null}],returns:null},{name:"createMarker",docblock:null,modifiers:[],params:[{name:"result",type:null}],returns:null},{name:"markerOnClickFacetResults",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"createPopUpContent",docblock:null,modifiers:[],params:[{name:"result",type:null}],returns:null},{name:"createPopUpContentNameSampo",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null},{name:"createPopUpContentGeoJSONFHA",docblock:null,modifiers:[],params:[{name:"properties",type:null}],returns:null},{name:"createPopUpContentGeoJSONKotus",docblock:null,modifiers:[],params:[{name:"properties",type:null}],returns:null},{name:"createInstanceListing",docblock:null,modifiers:[],params:[{name:"instances",type:null}],returns:null},{name:"createOpacitySlider",docblock:null,modifiers:[],params:[{name:"overlayLayers",type:null}],returns:null},{name:"render",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LeafletMap",props:{classes:{type:{name:"object"},required:!0,description:""},pageType:{type:{name:"string"},required:!0,description:""},results:{type:{name:"array"},required:!1,description:""},layers:{type:{name:"object"},required:!1,description:""},facetID:{type:{name:"string"},required:!1,description:""},facet:{type:{name:"object"},required:!1,description:""},instance:{type:{name:"object"},required:!1,description:""},facetUpdateID:{type:{name:"number"},required:!1,description:""},fetchResults:{type:{name:"func"},required:!1,description:""},fetchGeoJSONLayers:{type:{name:"func"},required:!1,description:""},resultClass:{type:{name:"string"},required:!1,description:""},facetClass:{type:{name:"string"},required:!1,description:""},fetchByURI:{type:{name:"func"},required:!1,description:""},fetching:{type:{name:"bool"},required:!0,description:""},mapMode:{type:{name:"string"},required:!1,description:""},showInstanceCountInClusters:{type:{name:"bool"},required:!1,description:""},showExternalLayers:{type:{name:"bool"},required:!1,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},facetedSearchMode:{type:{name:"string"},required:!1,description:""},container:{type:{name:"string"},required:!1,description:""}}};var components_facet_results_LeafletMap=Object(withStyles.a)((function(theme){var _leafletContainerface,_leafletContainerclie,_leafletContainerinst;return{leafletContainerfacetResults:(_leafletContainerface={height:400},defineProperty_default()(_leafletContainerface,theme.breakpoints.up("md"),{height:"calc(100% - 72px)"}),defineProperty_default()(_leafletContainerface,"position","relative"),_leafletContainerface),leafletContainerclientFSResults:(_leafletContainerclie={height:400},defineProperty_default()(_leafletContainerclie,theme.breakpoints.up("md"),{height:"calc(100% - 72px)"}),defineProperty_default()(_leafletContainerclie,"position","relative"),_leafletContainerclie),leafletContainerinstancePage:(_leafletContainerinst={height:400},defineProperty_default()(_leafletContainerinst,theme.breakpoints.up("md"),{height:"100%"}),defineProperty_default()(_leafletContainerinst,"position","relative"),_leafletContainerinst),mapElement:{width:"100%",height:"100%"},spinnerContainer:{height:40,width:40,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zIndex:500}}}))(LeafletMap_LeafletMap);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_results/LeafletMap.js"]={name:"LeafletMap",docgenInfo:LeafletMap_LeafletMap.__docgenInfo,path:"src/client/components/facet_results/LeafletMap.js"});var LeafletMapDialog_LeafletMapDialog=function(_React$Component){function LeafletMapDialog(){var _getPrototypeOf2,_this;classCallCheck_default()(this,LeafletMapDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(LeafletMapDialog)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{open:!1,zoomMessage:""}),defineProperty_default()(assertThisInitialized_default()(_this),"handleClickOpen",(function(){_this.setState({open:!0})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleClose",(function(){_this.setState({open:!1})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleSearchByArea",(function(){10<_this.props.map.zoomLevel?(_this.props.clientFSClearResults(),_this.props.clientFSFetchResults({jenaIndex:"spatial"}),_this.setState({open:!1})):_this.props.showError({title:"",text:lib_default.a.get("leafletMap.wrongZoomLevel")})})),_this}return inherits_default()(LeafletMapDialog,_React$Component),createClass_default()(LeafletMapDialog,[{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,perspectiveID=_this$props.perspectiveID;return react_default.a.createElement(Paper.a,{className:classes.root},react_default.a.createElement(Button.a,{variant:"contained",color:"primary",className:classes.mapSearch,classes:{label:classes.buttonLabel},onClick:this.handleClickOpen},lib_default.a.get("perspectives.".concat(perspectiveID,".searchByArea")),this.props.fetching?react_default.a.createElement(CircularProgress.a,{className:classes.rightIcon,color:"inherit",size:24}):react_default.a.createElement(CropFree_default.a,{className:classes.rightIcon})),react_default.a.createElement(Dialog.a,{classes:{container:classes.dialogContainer,paper:classes.dialogPaper},maxWidth:!1,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"dialog-title"},react_default.a.createElement(DialogTitle.a,{id:"dialog-title"},lib_default.a.get("perspectives.".concat(perspectiveID,".searchByAreaTitle"))),react_default.a.createElement(components_facet_results_LeafletMap,{center:[65.184809,27.31405],zoom:5,pageType:"clientFSResults",showMapModeControl:!1,showInstanceCountInClusters:!1,showExternalLayers:!1,fetching:!1,facetedSearchMode:"clientFS",updateMapBounds:this.props.updateMapBounds,container:"mapDialog"}),react_default.a.createElement(DialogActions.a,null,react_default.a.createElement(Button.a,{onClick:this.handleClose,variant:"contained",color:"primary",autoFocus:!0},lib_default.a.get("perspectives.".concat(perspectiveID,".searchByAreaCancel"))),react_default.a.createElement(Button.a,{onClick:this.handleSearchByArea,variant:"contained",color:"primary",autoFocus:!0},lib_default.a.get("perspectives.".concat(perspectiveID,".searchByAreaSearch"))))))}}]),LeafletMapDialog}(react_default.a.Component);LeafletMapDialog_LeafletMapDialog.displayName="LeafletMapDialog",LeafletMapDialog_LeafletMapDialog.propTypes={classes:prop_types_default.a.object.isRequired,strings:prop_types_default.a.object,map:prop_types_default.a.object.isRequired,getGeoJSON:prop_types_default.a.func,updateMapBounds:prop_types_default.a.func,clientFSFetchResults:prop_types_default.a.func.isRequired,clientFSClearResults:prop_types_default.a.func.isRequired,showError:prop_types_default.a.func,fetching:prop_types_default.a.bool,perspectiveID:prop_types_default.a.string.isRequired},LeafletMapDialog_LeafletMapDialog.__docgenInfo={description:"",methods:[{name:"handleClickOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSearchByArea",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LeafletMapDialog",props:{classes:{type:{name:"object"},required:!0,description:""},strings:{type:{name:"object"},required:!1,description:""},map:{type:{name:"object"},required:!0,description:""},getGeoJSON:{type:{name:"func"},required:!1,description:""},updateMapBounds:{type:{name:"func"},required:!1,description:""},clientFSFetchResults:{type:{name:"func"},required:!0,description:""},clientFSClearResults:{type:{name:"func"},required:!0,description:""},showError:{type:{name:"func"},required:!1,description:""},fetching:{type:{name:"bool"},required:!1,description:""},perspectiveID:{type:{name:"string"},required:!0,description:""}}};var facet_bar_LeafletMapDialog=Object(withStyles.a)((function(theme){return{root:{marginBottom:theme.spacing(1)},dialogContainer:{height:"100%",width:"100%"},dialogPaper:{height:"100%",width:"100%"},mapSearch:{margin:theme.spacing(1)},buttonLabel:{fontWeigth:"normal",textTransform:"none"},rightIcon:{marginLeft:theme.spacing(1)}}}))(LeafletMapDialog_LeafletMapDialog);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/LeafletMapDialog.js"]={name:"LeafletMapDialog",docgenInfo:LeafletMapDialog_LeafletMapDialog.__docgenInfo,path:"src/client/components/facet_bar/LeafletMapDialog.js"});var ExpansionPanel=__webpack_require__(2033),ExpansionPanelSummary=__webpack_require__(2025),ExpansionPanelDetails=__webpack_require__(2026),ExpandMore=__webpack_require__(241),ExpandMore_default=__webpack_require__.n(ExpandMore),clsx_m=__webpack_require__(4),FacetBar_ref=react_default.a.createElement(ExpandMore_default.a,null),FacetBar_FacetBar=function(_React$Component){function FacetBar(props){var _this;return classCallCheck_default()(this,FacetBar),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(FacetBar).call(this,props)),defineProperty_default()(assertThisInitialized_default()(_this),"handleExpandButtonOnClick",(function(facetID){return function(){var activeFacets=_this.state.activeFacets;activeFacets.has(facetID)?activeFacets.delete(facetID):activeFacets.add(facetID),_this.setState({activeFacets:activeFacets})}})),defineProperty_default()(assertThisInitialized_default()(_this),"renderFacet",(function(facetID,someFacetIsFetching){var _this$props=_this.props,classes=_this$props.classes,facetClass=_this$props.facetClass,_this$props$facetData=_this.props.facetData,facetUpdateID=_this$props$facetData.facetUpdateID,updatedFacet=_this$props$facetData.updatedFacet,updatedFilter=_this$props$facetData.updatedFilter,facets=_this$props$facetData.facets,label=lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(facetID,".label")),description=lib_default.a.get("perspectives.".concat(facetClass,".properties.").concat(facetID,".description")),facet=facets[facetID],facetConstrainSelf=null==_this.props.facetDataConstrainSelf?null:_this.props.facetDataConstrainSelf.facets[facetID],facetComponent=null,isActive=_this.state.activeFacets.has(facetID);if("clientFS"===_this.props.facetedSearchMode&&"datasetSelector"!==facetID){if(null==_this.props.facetData.results)return null;facet.values=_this.props.clientFSFacetValues[facetID]}switch(facet.filterType){case"uriFilter":case"spatialFilter":facetComponent=react_default.a.createElement(facet_bar_HierarchicalFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,updatedFacet:updatedFacet,updatedFilter:updatedFilter,fetchFacet:_this.props.fetchFacet,someFacetIsFetching:someFacetIsFetching,updateFacetOption:_this.props.updateFacetOption});break;case"clientFSLiteral":facetComponent=react_default.a.createElement(facet_bar_HierarchicalFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,clientFSUpdateFacet:_this.props.clientFSUpdateFacet,someFacetIsFetching:someFacetIsFetching,facetedSearchMode:"clientFS"});break;case"textFilter":facetComponent=react_default.a.createElement(facet_bar_TextFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,fetchFacet:_this.props.fetchFacet,someFacetIsFetching:someFacetIsFetching,updateFacetOption:_this.props.updateFacetOption});break;case"timespanFilter":facetComponent=react_default.a.createElement(facet_bar_SliderFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,fetchFacet:_this.props.fetchFacet,someFacetIsFetching:someFacetIsFetching,updateFacetOption:_this.props.updateFacetOption,dataType:"ISOString"});break;case"dateFilter":facetComponent=react_default.a.createElement(facet_bar_DateFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,fetchFacet:_this.props.fetchFacet,someFacetIsFetching:someFacetIsFetching,updateFacetOption:_this.props.updateFacetOption});break;case"integerFilter":facetComponent=react_default.a.createElement(facet_bar_SliderFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,fetchFacet:_this.props.fetchFacet,someFacetIsFetching:someFacetIsFetching,updateFacetOption:_this.props.updateFacetOption,dataType:"integer"});break;case"integerFilterRange":facetComponent=react_default.a.createElement(facet_bar_RangeFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,fetchFacet:_this.props.fetchFacet,someFacetIsFetching:someFacetIsFetching,updateFacetOption:_this.props.updateFacetOption,dataType:"integer"});break;case"datasetSelector":facetComponent=react_default.a.createElement(facet_bar_DatasetSelector,{datasets:_this.props.facetData.datasets,clientFSToggleDataset:_this.props.clientFSToggleDataset,perspectiveID:_this.props.facetClass});break;default:facetComponent=react_default.a.createElement(facet_bar_HierarchicalFacet,{facetID:facetID,facet:facet,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,facetUpdateID:facetUpdateID,updatedFacet:updatedFacet,updatedFilter:updatedFilter,fetchFacet:_this.props.fetchFacet,updateFacetOption:_this.props.updateFacetOption})}return react_default.a.createElement(ExpansionPanel.a,{key:facetID,expanded:isActive},react_default.a.createElement(ExpansionPanelSummary.a,{classes:{root:classes.expansionPanelSummaryRoot,content:classes.expansionPanelSummaryContent},expandIcon:FacetBar_ref,IconButtonProps:{onClick:_this.handleExpandButtonOnClick(facetID)},"aria-controls":"panel1a-content",id:"panel1a-header"},react_default.a.createElement(facet_bar_FacetHeader,{facetID:facetID,facetLabel:label,facet:facet,facetConstrainSelf:facetConstrainSelf,isActive:isActive,facetClass:_this.props.facetClass,resultClass:_this.props.resultClass,fetchFacet:_this.props.fetchFacet,fetchFacetConstrainSelf:_this.props.fetchFacetConstrainSelf,updateFacetOption:_this.props.updateFacetOption,facetDescription:description,rootUrl:_this.props.rootUrl})),react_default.a.createElement(ExpansionPanelDetails.a,{className:Object(clsx_m.a)(classes[facet.containerClass],classes.expansionPanelDetails)},isActive&&facetComponent))})),_this.state={activeFacets:_this.props.defaultActiveFacets},_this}return inherits_default()(FacetBar,_React$Component),createClass_default()(FacetBar,[{key:"render",value:function render(){var _this2=this,_this$props2=this.props,classes=_this$props2.classes,facetClass=_this$props2.facetClass,resultClass=_this$props2.resultClass,resultCount=_this$props2.resultCount,facetData=_this$props2.facetData,facetedSearchMode=_this$props2.facetedSearchMode,facets=facetData.facets,someFacetIsFetching=!1;return"serverFS"===facetedSearchMode&&Object.values(facets).forEach((function(facet){facet.isFetching&&(someFacetIsFetching=!0)})),react_default.a.createElement("div",{className:classes.root},"clientFS"===facetedSearchMode&&this.renderFacet("datasetSelector",!1),"clientFS"===facetedSearchMode&&react_default.a.createElement(facet_bar_SearchField,{search:this.props.facetData,fetchResults:this.props.clientFSFetchResults,clearResults:this.props.clientFSClearResults,updateQuery:this.props.clientFSUpdateQuery,datasets:this.props.facetData.datasets,perspectiveID:facetClass}),"clientFS"===facetedSearchMode&&react_default.a.createElement(facet_bar_LeafletMapDialog,{map:this.props.leafletMap,clientFSFetchResults:this.props.clientFSFetchResults,clientFSClearResults:this.props.clientFSClearResults,updateMapBounds:this.props.updateMapBounds,fetching:this.props.clientFS.spatialResultsFetching,showError:this.props.showError,perspectiveID:facetClass}),("serverFS"===facetedSearchMode||null!==facetData.results)&&react_default.a.createElement(Paper.a,{className:classes.facetInfoContainer},react_default.a.createElement(facet_bar_FacetInfo,{facetedSearchMode:facetedSearchMode,facetUpdateID:facetData.facetUpdateID,facetData:facetData,facetClass:facetClass,resultClass:resultClass,resultCount:resultCount,fetchingResultCount:this.props.fetchingResultCount,updateFacetOption:this.props.updateFacetOption,fetchResultCount:this.props.fetchResultCount,someFacetIsFetching:someFacetIsFetching,fetchFacet:this.props.fetchFacet,perspectiveID:facetClass})),facets&&Object.keys(facets).map((function(facetID){if("datasetSelector"!==facetID)return _this2.renderFacet(facetID,someFacetIsFetching)})))}}]),FacetBar}(react_default.a.Component);FacetBar_FacetBar.displayName="FacetBar",FacetBar_FacetBar.propTypes={classes:prop_types_default.a.object.isRequired,facetedSearchMode:prop_types_default.a.string.isRequired,facetData:prop_types_default.a.object.isRequired,facetDataConstrainSelf:prop_types_default.a.object,facetClass:prop_types_default.a.string.isRequired,resultClass:prop_types_default.a.string.isRequired,resultCount:prop_types_default.a.number.isRequired,fetchingResultCount:prop_types_default.a.bool.isRequired,fetchFacet:prop_types_default.a.func,fetchFacetConstrainSelf:prop_types_default.a.func,fetchResultCount:prop_types_default.a.func,updateFacetOption:prop_types_default.a.func,updateMapBounds:prop_types_default.a.func,clientFS:prop_types_default.a.object,clientFSFacetValues:prop_types_default.a.object,clientFSToggleDataset:prop_types_default.a.func,clientFSFetchResults:prop_types_default.a.func,clientFSClearResults:prop_types_default.a.func,clientFSUpdateQuery:prop_types_default.a.func,clientFSUpdateFacet:prop_types_default.a.func,defaultActiveFacets:prop_types_default.a.instanceOf(Set).isRequired,leafletMap:prop_types_default.a.object,showError:prop_types_default.a.func,rootUrl:prop_types_default.a.string.isRequired};var FacetBarComponent=FacetBar_FacetBar;FacetBar_FacetBar.__docgenInfo={description:"A component for rendering a preconfigured set of facets and related information.",methods:[{name:"handleExpandButtonOnClick",docblock:null,modifiers:[],params:[{name:"facetID",type:null}],returns:null},{name:"renderFacet",docblock:null,modifiers:[],params:[{name:"facetID",type:null},{name:"someFacetIsFetching",type:null}],returns:null}],displayName:"FacetBar",props:{classes:{type:{name:"object"},required:!0,description:""},facetedSearchMode:{type:{name:"string"},required:!0,description:""},facetData:{type:{name:"object"},required:!0,description:""},facetDataConstrainSelf:{type:{name:"object"},required:!1,description:""},facetClass:{type:{name:"string"},required:!0,description:""},resultClass:{type:{name:"string"},required:!0,description:""},resultCount:{type:{name:"number"},required:!0,description:""},fetchingResultCount:{type:{name:"bool"},required:!0,description:""},fetchFacet:{type:{name:"func"},required:!1,description:""},fetchFacetConstrainSelf:{type:{name:"func"},required:!1,description:""},fetchResultCount:{type:{name:"func"},required:!1,description:""},updateFacetOption:{type:{name:"func"},required:!1,description:""},updateMapBounds:{type:{name:"func"},required:!1,description:""},clientFS:{type:{name:"object"},required:!1,description:""},clientFSFacetValues:{type:{name:"object"},required:!1,description:""},clientFSToggleDataset:{type:{name:"func"},required:!1,description:""},clientFSFetchResults:{type:{name:"func"},required:!1,description:""},clientFSClearResults:{type:{name:"func"},required:!1,description:""},clientFSUpdateQuery:{type:{name:"func"},required:!1,description:""},clientFSUpdateFacet:{type:{name:"func"},required:!1,description:""},defaultActiveFacets:{type:{name:"instanceOf",value:"Set"},required:!0,description:""},leafletMap:{type:{name:"object"},required:!1,description:""},showError:{type:{name:"func"},required:!1,description:""},rootUrl:{type:{name:"string"},required:!0,description:""}}};var facet_bar_FacetBar=Object(withStyles.a)((function(theme){return{root:{width:"100%",height:"100%"},facetInfoContainer:{padding:theme.spacing(1),borderBottomLeftRadius:0,borderBottomRightRadius:0},expansionPanelSummaryRoot:{paddingLeft:theme.spacing(1),cursor:"default !important"},expansionPanelSummaryContent:{margin:0},expansionPanelDetails:{paddingTop:0,paddingLeft:theme.spacing(1),flexDirection:"column"},two:{height:60},three:{height:108},four:{height:135},five:{height:150},six:{height:180},ten:{height:357}}}))(FacetBar_FacetBar);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_bar/FacetBar.js"]={name:"FacetBar",docgenInfo:FacetBar_FacetBar.__docgenInfo,path:"src/client/components/facet_bar/FacetBar.js"});var react_redux_es=__webpack_require__(145),PerspectiveConfig=__webpack_require__(380),addSourceDecorator=(__webpack_require__(135).withSource,__webpack_require__(135).addSource),basic=(__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react'\nimport FacetBar, { FacetBarComponent } from './FacetBar'\nimport { useSelector } from 'react-redux'\nimport { perspectiveConfig } from '../../configs/sampo/PerspectiveConfig'\n\nexport default {\n  component: FacetBarComponent,\n  title: 'Sampo-UI/facet_bar/FacetBar'\n}\n\nexport const basic = props => {\n  const perspective = perspectiveConfig[0]\n  const facetResults = useSelector(state => state.perspective1)\n  const perspective1Facets = useSelector(state => state.perspective1Facets)\n  const perspective1FacetsConstrainSelf = useSelector(state => state.perspective1FacetsConstrainSelf)\n  return (\n    <FacetBar\n      facetedSearchMode='serverFS'\n      facetData={perspective1Facets}\n      facetDataConstrainSelf={perspective1FacetsConstrainSelf}\n      facetClass={perspective.id}\n      resultClass={perspective.id}\n      fetchingResultCount={facetResults.fetchingResultCount}\n      resultCount={facetResults.resultCount}\n      fetchFacet={() => null}\n      fetchFacetConstrainSelf={() => null}\n      fetchResultCount={() => null}\n      updateFacetOption={() => null}\n      defaultActiveFacets={perspective.defaultActiveFacets}\n      rootUrl=''\n    />\n  )\n}\n",locationsMap:{"sampo-ui-facet-bar-facetbar--basic":{startLoc:{col:21,line:11},endLoc:{col:1,line:33},startBody:{col:21,line:11},endBody:{col:1,line:33}}}}},component:FacetBarComponent,title:"Sampo-UI/facet_bar/FacetBar"},addSourceDecorator((function(){var perspective=PerspectiveConfig.a[0],facetResults=Object(react_redux_es.useSelector)((function(state){return state.perspective1})),perspective1Facets=Object(react_redux_es.useSelector)((function(state){return state.perspective1Facets})),perspective1FacetsConstrainSelf=Object(react_redux_es.useSelector)((function(state){return state.perspective1FacetsConstrainSelf}));return react_default.a.createElement(facet_bar_FacetBar,{facetedSearchMode:"serverFS",facetData:perspective1Facets,facetDataConstrainSelf:perspective1FacetsConstrainSelf,facetClass:perspective.id,resultClass:perspective.id,fetchingResultCount:facetResults.fetchingResultCount,resultCount:facetResults.resultCount,fetchFacet:function fetchFacet(){return null},fetchFacetConstrainSelf:function fetchFacetConstrainSelf(){return null},fetchResultCount:function fetchResultCount(){return null},updateFacetOption:function updateFacetOption(){return null},defaultActiveFacets:perspective.defaultActiveFacets,rootUrl:""})}),{__STORY__:"import React from 'react'\nimport FacetBar, { FacetBarComponent } from './FacetBar'\nimport { useSelector } from 'react-redux'\nimport { perspectiveConfig } from '../../configs/sampo/PerspectiveConfig'\n\nexport default {\n  component: FacetBarComponent,\n  title: 'Sampo-UI/facet_bar/FacetBar'\n}\n\nexport const basic = props => {\n  const perspective = perspectiveConfig[0]\n  const facetResults = useSelector(state => state.perspective1)\n  const perspective1Facets = useSelector(state => state.perspective1Facets)\n  const perspective1FacetsConstrainSelf = useSelector(state => state.perspective1FacetsConstrainSelf)\n  return (\n    <FacetBar\n      facetedSearchMode='serverFS'\n      facetData={perspective1Facets}\n      facetDataConstrainSelf={perspective1FacetsConstrainSelf}\n      facetClass={perspective.id}\n      resultClass={perspective.id}\n      fetchingResultCount={facetResults.fetchingResultCount}\n      resultCount={facetResults.resultCount}\n      fetchFacet={() => null}\n      fetchFacetConstrainSelf={() => null}\n      fetchResultCount={() => null}\n      updateFacetOption={() => null}\n      defaultActiveFacets={perspective.defaultActiveFacets}\n      rootUrl=''\n    />\n  )\n}\n",__ADDS_MAP__:{"sampo-ui-facet-bar-facetbar--basic":{startLoc:{col:21,line:11},endLoc:{col:1,line:33},startBody:{col:21,line:11},endBody:{col:1,line:33}}},__MAIN_FILE_LOCATION__:"/FacetBar.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/esikkala/git/sampo-ui/src/client/components/facet_bar",__IDS_TO_FRAMEWORKS__:{}}))},1961:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"basic",(function(){return basic}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),helpers_extends=(__webpack_require__(21),__webpack_require__(20),__webpack_require__(461),__webpack_require__(489),__webpack_require__(55)),extends_default=__webpack_require__.n(helpers_extends),slicedToArray=__webpack_require__(61),slicedToArray_default=__webpack_require__.n(slicedToArray),defineProperty=__webpack_require__(3),defineProperty_default=__webpack_require__.n(defineProperty),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types),lib=__webpack_require__(9),lib_default=__webpack_require__.n(lib),AppBar=__webpack_require__(2027),Toolbar=__webpack_require__(2020),IconButton=__webpack_require__(1967),Typography=__webpack_require__(168),MenuItem=__webpack_require__(2039),Menu=__webpack_require__(887),makeStyles=__webpack_require__(1966),MoreVert=__webpack_require__(378),MoreVert_default=__webpack_require__.n(MoreVert),Button=__webpack_require__(2018),react_router_dom=__webpack_require__(121),classCallCheck=(__webpack_require__(57),__webpack_require__(324),__webpack_require__(29)),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(33),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(30),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(27),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),assertThisInitialized=__webpack_require__(6),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),inherits=__webpack_require__(31),inherits_default=__webpack_require__.n(inherits),withStyles=__webpack_require__(8),colorManipulator=__webpack_require__(502),Search=__webpack_require__(238),Search_default=__webpack_require__.n(Search),InputBase=__webpack_require__(1972),History=__webpack_require__(240),_ref=react_default.a.createElement(Search_default.a,null),TopBarSearchField_TopBarSearchField=function(_React$Component){function TopBarSearchField(){var _getPrototypeOf2,_this;classCallCheck_default()(this,TopBarSearchField);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(TopBarSearchField)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{value:""}),defineProperty_default()(assertThisInitialized_default()(_this),"handleChange",(function(event){_this.setState({value:event.target.value})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMouseDown",(function(event){event.preventDefault()})),defineProperty_default()(assertThisInitialized_default()(_this),"handleOnKeyDown",(function(event){"Enter"===event.key&&_this.hasValidQuery()&&(_this.props.clearResults({resultClass:"fullText"}),_this.props.fetchFullTextResults({resultClass:"fullText",query:_this.state.value}),History.a.push({pathname:"".concat(_this.props.rootUrl,"/full-text-search/table")}))})),defineProperty_default()(assertThisInitialized_default()(_this),"handleClick",(function(){_this.hasValidQuery()&&(_this.props.clearResults({resultClass:"fullText"}),_this.props.fetchFullTextResults({resultClass:"fullText",query:_this.state.value}))})),defineProperty_default()(assertThisInitialized_default()(_this),"hasValidQuery",(function(){return 2<_this.state.value.length})),_this}return inherits_default()(TopBarSearchField,_React$Component),createClass_default()(TopBarSearchField,[{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,placeholder=_this$props.xsScreen?lib_default.a.get("topBar.searchBarPlaceHolderShort"):lib_default.a.get("topBar.searchBarPlaceHolder");return react_default.a.createElement("div",{className:classes.search},react_default.a.createElement("div",{className:classes.searchIcon},_ref),react_default.a.createElement(InputBase.a,{placeholder:placeholder,classes:{root:classes.inputRoot,input:classes.inputInput},onChange:this.handleChange,onKeyDown:this.handleOnKeyDown}))}}]),TopBarSearchField}(react_default.a.Component);TopBarSearchField_TopBarSearchField.displayName="TopBarSearchField",TopBarSearchField_TopBarSearchField.propTypes={classes:prop_types_default.a.object.isRequired,fetchFullTextResults:prop_types_default.a.func,xsScreen:prop_types_default.a.bool.isRequired,rootUrl:prop_types_default.a.string.isRequired},TopBarSearchField_TopBarSearchField.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleOnKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null},{name:"hasValidQuery",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TopBarSearchField",props:{classes:{type:{name:"object"},required:!0,description:""},fetchFullTextResults:{type:{name:"func"},required:!1,description:""},xsScreen:{type:{name:"bool"},required:!0,description:""},rootUrl:{type:{name:"string"},required:!0,description:""}}};var main_layout_TopBarSearchField=Object(withStyles.a)((function(theme){return{search:defineProperty_default()({position:"relative",borderRadius:theme.shape.borderRadius,backgroundColor:Object(colorManipulator.fade)(theme.palette.common.white,.15),"&:hover":{backgroundColor:Object(colorManipulator.fade)(theme.palette.common.white,.25)},marginRight:theme.spacing(3),marginLeft:theme.spacing(2.5),width:"100%"},theme.breakpoints.up("sm"),{marginLeft:theme.spacing(3),width:"auto"}),searchIcon:{width:theme.spacing(9),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:defineProperty_default()({paddingTop:theme.spacing(1),paddingRight:theme.spacing(1),paddingBottom:theme.spacing(1),paddingLeft:theme.spacing(10),transition:theme.transitions.create("width"),width:"100%"},theme.breakpoints.up("md"),{width:200})}}))(TopBarSearchField_TopBarSearchField);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/main_layout/TopBarSearchField.js"]={name:"TopBarSearchField",docgenInfo:TopBarSearchField_TopBarSearchField.__docgenInfo,path:"src/client/components/main_layout/TopBarSearchField.js"});var ExpandMore=__webpack_require__(241),ExpandMore_default=__webpack_require__.n(ExpandMore),TopBarInfoButton_ref=react_default.a.createElement(ExpandMore_default.a,null),TopBarInfoButton_TopBarInfoButton=function(_React$Component){function TopBarInfoButton(){var _getPrototypeOf2,_this;classCallCheck_default()(this,TopBarInfoButton);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(TopBarInfoButton)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{anchorEl:null}),defineProperty_default()(assertThisInitialized_default()(_this),"AdapterLink",react_default.a.forwardRef((function(props,ref){return react_default.a.createElement(react_router_dom.a,extends_default()({innerRef:ref},props))}))),defineProperty_default()(assertThisInitialized_default()(_this),"handleInfoMenuOpen",(function(event){_this.setState({anchorEl:event.currentTarget})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleInfoMenuClose",(function(){_this.setState({anchorEl:null})})),_this}return inherits_default()(TopBarInfoButton,_React$Component),createClass_default()(TopBarInfoButton,[{key:"render",value:function render(){var classes=this.props.classes;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Button.a,{className:classes.appBarButton,"aria-haspopup":"true",onClick:this.handleInfoMenuOpen,endIcon:TopBarInfoButton_ref},lib_default.a.get("topBar.info.info")),react_default.a.createElement(Menu.a,{anchorEl:this.state.anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:!!this.state.anchorEl,onClose:this.handleInfoMenuClose},react_default.a.createElement(MenuItem.a,{key:0,component:this.AdapterLink,to:"".concat(this.props.rootUrl,"/about"),onClick:this.handleInfoMenuClose},lib_default.a.get("topBar.info.aboutThePortal")),react_default.a.createElement("a",{className:classes.link,key:1,href:lib_default.a.get("topBar.info.blogUrl"),target:"_blank",rel:"noopener noreferrer"},react_default.a.createElement(MenuItem.a,{onClick:this.handleInfoMenuClose},lib_default.a.get("topBar.info.blog")))))}}]),TopBarInfoButton}(react_default.a.Component);TopBarInfoButton_TopBarInfoButton.displayName="TopBarInfoButton",TopBarInfoButton_TopBarInfoButton.propTypes={classes:prop_types_default.a.object.isRequired,rootUrl:prop_types_default.a.string.isRequired},TopBarInfoButton_TopBarInfoButton.__docgenInfo={description:"",methods:[{name:"handleInfoMenuOpen",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleInfoMenuClose",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TopBarInfoButton",props:{classes:{type:{name:"object"},required:!0,description:""},rootUrl:{type:{name:"string"},required:!0,description:""}}};var main_layout_TopBarInfoButton=Object(withStyles.a)((function(theme){return{link:{textDecoration:"none"},appBarButton:{color:"white !important",border:"1px solid ".concat(theme.palette.primary.main)}}}))(TopBarInfoButton_TopBarInfoButton);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/main_layout/TopBarInfoButton.js"]={name:"TopBarInfoButton",docgenInfo:TopBarInfoButton_TopBarInfoButton.__docgenInfo,path:"src/client/components/main_layout/TopBarInfoButton.js"});var helpers=__webpack_require__(115),TopBarLanguageButton_ref=react_default.a.createElement(ExpandMore_default.a,null),TopBarLanguageButton_TopBarLanguageButton=function(_React$Component){function TopBarLanguageButton(){var _getPrototypeOf2,_this;classCallCheck_default()(this,TopBarLanguageButton);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(TopBarLanguageButton)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(_this),"state",{anchorEl:null}),defineProperty_default()(assertThisInitialized_default()(_this),"AdapterLink",react_default.a.forwardRef((function(props,ref){return react_default.a.createElement(react_router_dom.a,extends_default()({innerRef:ref},props))}))),defineProperty_default()(assertThisInitialized_default()(_this),"handleOpen",(function(event){_this.setState({anchorEl:event.currentTarget})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleClose",(function(){_this.setState({anchorEl:null})})),defineProperty_default()(assertThisInitialized_default()(_this),"handleMenuItemOnClick",(function(locale){return function(){var pathname=_this.props.location.pathname;History.a.push({pathname:Object(helpers.e)({pathname:pathname,locale:locale,replaceOld:!0})}),_this.props.loadLocales(locale),_this.handleClose()}})),_this}return inherits_default()(TopBarLanguageButton,_React$Component),createClass_default()(TopBarLanguageButton,[{key:"render",value:function render(){var _this2=this,_this$props=this.props,classes=_this$props.classes,currentLocale=_this$props.currentLocale,availableLocales=_this$props.availableLocales;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Button.a,{className:classes.appBarButton,"aria-haspopup":"true",onClick:this.handleOpen,endIcon:TopBarLanguageButton_ref},currentLocale.toUpperCase()),react_default.a.createElement(Menu.a,{anchorEl:this.state.anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:!!this.state.anchorEl,onClose:this.handleClose},availableLocales.map((function(locale){return react_default.a.createElement(MenuItem.a,{key:locale.id,onClick:_this2.handleMenuItemOnClick(locale.id),selected:_this2.props.currentLocale===locale.id},locale.label)}))))}}]),TopBarLanguageButton}(react_default.a.Component);TopBarLanguageButton_TopBarLanguageButton.displayName="TopBarLanguageButton",TopBarLanguageButton_TopBarLanguageButton.propTypes={classes:prop_types_default.a.object.isRequired,currentLocale:prop_types_default.a.string.isRequired,availableLocales:prop_types_default.a.array.isRequired,location:prop_types_default.a.object.isRequired},TopBarLanguageButton_TopBarLanguageButton.__docgenInfo={description:"",methods:[{name:"handleOpen",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMenuItemOnClick",docblock:null,modifiers:[],params:[{name:"locale",type:null}],returns:null}],displayName:"TopBarLanguageButton",props:{classes:{type:{name:"object"},required:!0,description:""},currentLocale:{type:{name:"string"},required:!0,description:""},availableLocales:{type:{name:"array"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""}}};var main_layout_TopBarLanguageButton=Object(withStyles.a)((function(theme){return{link:{textDecoration:"none"},appBarButton:{color:"white !important",border:"1px solid ".concat(theme.palette.primary.main)}}}))(TopBarLanguageButton_TopBarLanguageButton);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/main_layout/TopBarLanguageButton.js"]={name:"TopBarLanguageButton",docgenInfo:TopBarLanguageButton_TopBarLanguageButton.__docgenInfo,path:"src/client/components/main_layout/TopBarLanguageButton.js"});var Divider=__webpack_require__(2021),lodash=__webpack_require__(11),seco_logo_48x50=__webpack_require__(884),seco_logo_48x50_default=__webpack_require__.n(seco_logo_48x50),GeneralConfig=__webpack_require__(72),useStyles=Object(makeStyles.a)((function(theme){return{grow:{flexGrow:1},toolbar:{paddingLeft:theme.spacing(1.5),paddingRight:theme.spacing(1.5)},sectionDesktop:defineProperty_default()({display:"none"},theme.breakpoints.up("lg"),{display:"flex"}),link:{textDecoration:"none"},sectionMobile:defineProperty_default()({display:"flex"},theme.breakpoints.up("lg"),{display:"none"}),homeButtonText:defineProperty_default()({whiteSpace:"nowrap"},theme.breakpoints.down("sm"),{fontSize:"1rem"}),appBarButton:{whiteSpace:"nowrap",color:"white !important",border:"1px solid ".concat(theme.palette.primary.main)},appBarButtonActive:{border:"1px solid white"},appBarDivider:{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),borderLeft:"2px solid white"},secoLogo:defineProperty_default()({marginLeft:theme.spacing(1)},theme.breakpoints.down("md"),{display:"none"})}})),TopBar_ref=react_default.a.createElement(Divider.a,null),_ref2=react_default.a.createElement(Typography.a,null),_ref3=react_default.a.createElement(Button.a,null,react_default.a.createElement("img",{src:seco_logo_48x50_default.a})),_ref4=react_default.a.createElement(MoreVert_default.a,null),TopBar=function(props){var _React$useState=react_default.a.useState(null),_React$useState2=slicedToArray_default()(_React$useState,2),mobileMoreAnchorEl=_React$useState2[0],setMobileMoreAnchorEl=_React$useState2[1],perspectives=props.perspectives,currentLocale=props.currentLocale,availableLocales=props.availableLocales,rootUrl=props.rootUrl,classes=useStyles(),handleMobileMenuClose=function(){return setMobileMoreAnchorEl(null)},AdapterLink=react_default.a.forwardRef((function(props,ref){return react_default.a.createElement(react_router_dom.a,extends_default()({innerRef:ref},props))})),AdapterNavLink=react_default.a.forwardRef((function(props,ref){return react_default.a.createElement(react_router_dom.b,extends_default()({innerRef:ref},props))}));return react_default.a.createElement("div",{className:classes.root},_ref2,react_default.a.createElement(AppBar.a,{position:"absolute"},react_default.a.createElement(Toolbar.a,{className:classes.toolbar},react_default.a.createElement(Button.a,{component:AdapterLink,to:"/"},react_default.a.createElement(Typography.a,{className:classes.homeButtonText,variant:"h6"},lib_default.a.get("appTitle.short"))),react_default.a.createElement(main_layout_TopBarSearchField,{fetchFullTextResults:props.fetchFullTextResults,clearResults:props.clearResults,xsScreen:props.xsScreen,rootUrl:rootUrl}),react_default.a.createElement("div",{className:classes.grow}),react_default.a.createElement("div",{className:classes.sectionDesktop},perspectives.map((function(perspective,index){return function(perspective){var searchMode=perspective.id.startsWith("clientFS")?"federated-search":"faceted-search";return Object(lodash.has)(perspective,"externalUrl")?react_default.a.createElement("a",{className:classes.link,key:perspective.id,href:perspective.externalUrl,target:"_blank",rel:"noopener noreferrer"},react_default.a.createElement(Button.a,{className:classes.appBarButton},lib_default.a.get("perspectives.".concat(perspective.id,".label")).toUpperCase())):react_default.a.createElement(Button.a,{key:perspective.id,className:classes.appBarButton,component:AdapterNavLink,to:"".concat(props.rootUrl,"/").concat(perspective.id,"/").concat(searchMode),isActive:function isActive(match,location){return location.pathname.startsWith("".concat(props.rootUrl,"/").concat(perspective.id))},activeClassName:classes.appBarButtonActive},lib_default.a.get("perspectives.".concat(perspective.id,".label")).toUpperCase())}(perspective)})),react_default.a.createElement("div",{className:classes.appBarDivider}),react_default.a.createElement(Button.a,{className:classes.appBarButton,component:AdapterNavLink,to:"".concat(props.rootUrl,"/feedback"),isActive:function isActive(match,location){return location.pathname.startsWith("".concat(props.rootUrl,"/feedback"))},activeClassName:classes.appBarButtonActive},lib_default.a.get("topBar.feedback")),react_default.a.createElement(main_layout_TopBarInfoButton,{rootUrl:props.rootUrl}),react_default.a.createElement(Button.a,{className:classes.appBarButton,component:AdapterNavLink,to:"".concat(props.rootUrl,"/instructions"),isActive:function isActive(match,location){return location.pathname.startsWith("".concat(props.rootUrl,"/instructions"))},activeClassName:classes.appBarButtonActive},lib_default.a.get("topBar.instructions")),GeneralConfig.g&&react_default.a.createElement(main_layout_TopBarLanguageButton,{currentLocale:currentLocale,availableLocales:availableLocales,loadLocales:props.loadLocales,location:props.location})),react_default.a.createElement("a",{className:classes.secoLogo,href:"https://seco.cs.aalto.fi",target:"_blank",rel:"noopener noreferrer"},_ref3),react_default.a.createElement("div",{className:classes.sectionMobile},react_default.a.createElement(IconButton.a,{"aria-haspopup":"true",onClick:function handleMobileMenuOpen(event){return setMobileMoreAnchorEl(event.currentTarget)},color:"inherit"},_ref4)))),function renderMobileMenu(perspectives){return react_default.a.createElement(Menu.a,{anchorEl:mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:!!mobileMoreAnchorEl,onClose:handleMobileMenuClose},perspectives.map((function(perspective){return function(perspective){var searchMode=perspective.id.startsWith("clientFS")?"federated-search":"faceted-search";return Object(lodash.has)(perspective,"externalUrl")?react_default.a.createElement("a",{className:classes.link,key:perspective.id,href:perspective.externalUrl,target:"_blank",rel:"noopener noreferrer"},react_default.a.createElement(MenuItem.a,null,lib_default.a.get("perspectives.".concat(perspective.id,".label")).toUpperCase())):react_default.a.createElement(MenuItem.a,{key:perspective.id,component:AdapterLink,to:"".concat(props.rootUrl,"/").concat(perspective.id,"/").concat(searchMode)},lib_default.a.get("perspectives.".concat(perspective.id,".label")).toUpperCase())}(perspective)})),TopBar_ref,react_default.a.createElement(MenuItem.a,{key:"feedback",component:AdapterLink,to:"".concat(props.rootUrl,"/feedback")},lib_default.a.get("topBar.feedback").toUpperCase()),react_default.a.createElement(MenuItem.a,{key:0,component:AdapterLink,to:"".concat(props.rootUrl,"/about")},lib_default.a.get("topBar.info.aboutThePortal").toUpperCase()),react_default.a.createElement("a",{className:classes.link,key:1,href:lib_default.a.get("topBar.info.blogUrl"),target:"_blank",rel:"noopener noreferrer"},react_default.a.createElement(MenuItem.a,null,lib_default.a.get("topBar.info.blog").toUpperCase())),react_default.a.createElement(MenuItem.a,{key:"info",component:AdapterLink,to:"".concat(props.rootUrl,"/instructions")},lib_default.a.get("topBar.instructions").toUpperCase()))}(perspectives))};TopBar.displayName="TopBar",TopBar.propTypes={fetchFullTextResults:prop_types_default.a.func.isRequired,clearResults:prop_types_default.a.func.isRequired,loadLocales:prop_types_default.a.func.isRequired,currentLocale:prop_types_default.a.string.isRequired,availableLocales:prop_types_default.a.array.isRequired,perspectives:prop_types_default.a.array.isRequired,xsScreen:prop_types_default.a.bool.isRequired,location:prop_types_default.a.object.isRequired,rootUrl:prop_types_default.a.string.isRequired},TopBar.__docgenInfo={description:"Responsive app bar with a search field, perspective links, info links and a language\nselector. Based on Material-UI's App Bar component.",methods:[],displayName:"TopBar",props:{fetchFullTextResults:{type:{name:"func"},required:!0,description:"Redux action for full text search results using the search field."},clearResults:{type:{name:"func"},required:!0,description:"Redux action for clearing the full text results."},loadLocales:{type:{name:"func"},required:!0,description:"Redux action for loading translations."},currentLocale:{type:{name:"string"},required:!0,description:"Current locale as a two-letter code"},availableLocales:{type:{name:"array"},required:!0,description:"Available locales as an array of objects with two-letter codes as keys."},perspectives:{type:{name:"array"},required:!0,description:"Perspective config as an array of objects."},xsScreen:{type:{name:"bool"},required:!0,description:"Flag for checking if the screen is extra small."},location:{type:{name:"object"},required:!0,description:"React Router's location object. The perspective links are highlighted based on this."},rootUrl:{type:{name:"string"},required:!0,description:"Root url of the application."}}};var main_layout_TopBar=TopBar;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/main_layout/TopBar.js"]={name:"TopBar",docgenInfo:TopBar.__docgenInfo,path:"src/client/components/main_layout/TopBar.js"});var es=__webpack_require__(145),react_router=__webpack_require__(166),PerspectiveConfig=__webpack_require__(380),addSourceDecorator=(__webpack_require__(135).withSource,__webpack_require__(135).addSource),basic=(__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react'\nimport TopBar from './TopBar'\nimport { useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { perspectiveConfig } from '../../configs/sampo/PerspectiveConfig'\n\nexport default {\n  component: TopBar,\n  title: 'Sampo-UI/main_layout/TopBar'\n}\n\nexport const basic = props => {\n  const fullTextSearch = useSelector(state => state.fullTextSearch)\n  const options = useSelector(state => state.options)\n  const location = useLocation()\n  // console.log(props)\n  return (\n    <TopBar\n      rootUrl=''\n      search={fullTextSearch}\n      perspectives={perspectiveConfig}\n      currentLocale={options.currentLocale}\n      availableLocales={options.availableLocales}\n      xsScreen={false}\n      location={location}\n    />\n  )\n}\n",locationsMap:{"sampo-ui-main-layout-topbar--basic":{startLoc:{col:21,line:12},endLoc:{col:1,line:28},startBody:{col:21,line:12},endBody:{col:1,line:28}}}}},component:main_layout_TopBar,title:"Sampo-UI/main_layout/TopBar"},addSourceDecorator((function(){var fullTextSearch=Object(es.useSelector)((function(state){return state.fullTextSearch})),options=Object(es.useSelector)((function(state){return state.options})),location=Object(react_router.d)();return react_default.a.createElement(main_layout_TopBar,{rootUrl:"",search:fullTextSearch,perspectives:PerspectiveConfig.a,currentLocale:options.currentLocale,availableLocales:options.availableLocales,xsScreen:!1,location:location})}),{__STORY__:"import React from 'react'\nimport TopBar from './TopBar'\nimport { useSelector } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport { perspectiveConfig } from '../../configs/sampo/PerspectiveConfig'\n\nexport default {\n  component: TopBar,\n  title: 'Sampo-UI/main_layout/TopBar'\n}\n\nexport const basic = props => {\n  const fullTextSearch = useSelector(state => state.fullTextSearch)\n  const options = useSelector(state => state.options)\n  const location = useLocation()\n  // console.log(props)\n  return (\n    <TopBar\n      rootUrl=''\n      search={fullTextSearch}\n      perspectives={perspectiveConfig}\n      currentLocale={options.currentLocale}\n      availableLocales={options.availableLocales}\n      xsScreen={false}\n      location={location}\n    />\n  )\n}\n",__ADDS_MAP__:{"sampo-ui-main-layout-topbar--basic":{startLoc:{col:21,line:12},endLoc:{col:1,line:28},startBody:{col:21,line:12},endBody:{col:1,line:28}}},__MAIN_FILE_LOCATION__:"/TopBar.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/esikkala/git/sampo-ui/src/client/components/main_layout",__IDS_TO_FRAMEWORKS__:{}}))},1962:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"basic",(function(){return basic})),__webpack_require__.d(__webpack_exports__,"isFirstValue",(function(){return ObjectListItemEvent_stories_isFirstValue}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=(__webpack_require__(65),__webpack_require__(1)),prop_types_default=__webpack_require__.n(prop_types),withStyles=__webpack_require__(8),Button=__webpack_require__(2018),react_router_dom=__webpack_require__(121),ObjectListLink=function(props){var data=props.data,label=props.label,externalLink=props.externalLink,linkAsButton=props.linkAsButton;return data.dataProviderUrl?react_default.a.createElement(react_default.a.Fragment,null,externalLink&&null==linkAsButton&&react_default.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:data.dataProviderUrl},label),externalLink&&props.linkAsButton&&react_default.a.createElement(Button.a,{variant:"contained",target:"_blank",rel:"noopener noreferrer",href:data.id},label),!externalLink&&react_default.a.createElement(react_router_dom.a,{to:data.dataProviderUrl},label)):react_default.a.createElement("span",null,label)};ObjectListLink.propTypes={externalLink:prop_types_default.a.bool.isRequired,data:prop_types_default.a.object.isRequired,label:prop_types_default.a.string.isRequired,linkAsButton:prop_types_default.a.bool},ObjectListLink.__docgenInfo={description:"",methods:[],displayName:"ObjectListLink",props:{externalLink:{type:{name:"bool"},required:!0,description:""},data:{type:{name:"object"},required:!0,description:""},label:{type:{name:"string"},required:!0,description:""},linkAsButton:{type:{name:"bool"},required:!1,description:""}}};var ObjectListItemLink=ObjectListLink;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_results/ObjectListItemLink.js"]={name:"ObjectListLink",docgenInfo:ObjectListLink.__docgenInfo,path:"src/client/components/facet_results/ObjectListItemLink.js"});var ObjectListItemEvent=function(props){var data=props.data,isFirstValue=props.isFirstValue,label=Array.isArray(data.prefLabel)?data.prefLabel[0]:data.prefLabel;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("span",{className:isFirstValue?null:props.classes.dateContainer},null==data.date?"No date ":"".concat(data.date," ")),react_default.a.createElement(ObjectListItemLink,{data:data,label:label,externalLink:!1}),data.observedOwner&&react_default.a.createElement(react_default.a.Fragment,null,": ",react_default.a.createElement(ObjectListItemLink,{data:data.observedOwner,label:data.observedOwner.prefLabel,externalLink:!1})))};ObjectListItemEvent.propTypes={classes:prop_types_default.a.object,data:prop_types_default.a.object,isFirstValue:prop_types_default.a.bool};var ObjectListItemEventComponent=ObjectListItemEvent;ObjectListItemEvent.__docgenInfo={description:"A component for displaying an event with or without a date in an ObjectListCollapsible.",methods:[],displayName:"ObjectListItemEvent",props:{classes:{type:{name:"object"},required:!1,description:"Material-UI styles"},data:{type:{name:"object"},required:!1,description:"An object with the following keys: id, prefLabel, date, dataProviderUrl."},isFirstValue:{type:{name:"bool"},required:!1,description:"The first item in a ObjectListCollapsible is rendered differently in collapsed mode."}}};var facet_results_ObjectListItemEvent=Object(withStyles.a)((function(){return{dateContainer:{width:180,display:"inline-block"}}}))(ObjectListItemEvent);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/facet_results/ObjectListItemEvent.js"]={name:"ObjectListItemEvent",docgenInfo:ObjectListItemEvent.__docgenInfo,path:"src/client/components/facet_results/ObjectListItemEvent.js"});__webpack_require__(135).withSource;var addSourceDecorator=__webpack_require__(135).addSource,__SOURCE_PREFIX__="/home/esikkala/git/sampo-ui/src/client/components/facet_results",__STORY__="import React from 'react'\nimport ObjectListItemEvent, { ObjectListItemEventComponent } from './ObjectListItemEvent'\n\nexport default {\n  component: ObjectListItemEventComponent,\n  title: 'Sampo-UI/facet_results/ObjectListItemEvent'\n}\n\nexport const basic = () =>\n  <ObjectListItemEvent\n    data={{\n      id: 'http://ldf.fi/mmm/event/bibale_production_10000',\n      type: 'http://erlangen-crm.org/current/E12_Production',\n      date: '0701 - 0800',\n      prefLabel: 'Production',\n      dataProviderUrl: '/events/page/bibale_production_10000'\n    }}\n  />\n\nexport const isFirstValue = () =>\n  <ObjectListItemEvent\n    data={{\n      id: 'http://ldf.fi/mmm/event/bibale_production_10000',\n      type: 'http://erlangen-crm.org/current/E12_Production',\n      date: '0701 - 0800',\n      prefLabel: 'Production',\n      dataProviderUrl: '/events/page/bibale_production_10000'\n    }}\n    isFirstValue\n  />\n",__ADDS_MAP__={"sampo-ui-facet-results-objectlistitemevent--basic":{startLoc:{col:21,line:9},endLoc:{col:4,line:18},startBody:{col:21,line:9},endBody:{col:4,line:18}},"sampo-ui-facet-results-objectlistitemevent--is-first-value":{startLoc:{col:28,line:20},endLoc:{col:4,line:30},startBody:{col:28,line:20},endBody:{col:4,line:30}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},basic=(__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react'\nimport ObjectListItemEvent, { ObjectListItemEventComponent } from './ObjectListItemEvent'\n\nexport default {\n  component: ObjectListItemEventComponent,\n  title: 'Sampo-UI/facet_results/ObjectListItemEvent'\n}\n\nexport const basic = () =>\n  <ObjectListItemEvent\n    data={{\n      id: 'http://ldf.fi/mmm/event/bibale_production_10000',\n      type: 'http://erlangen-crm.org/current/E12_Production',\n      date: '0701 - 0800',\n      prefLabel: 'Production',\n      dataProviderUrl: '/events/page/bibale_production_10000'\n    }}\n  />\n\nexport const isFirstValue = () =>\n  <ObjectListItemEvent\n    data={{\n      id: 'http://ldf.fi/mmm/event/bibale_production_10000',\n      type: 'http://erlangen-crm.org/current/E12_Production',\n      date: '0701 - 0800',\n      prefLabel: 'Production',\n      dataProviderUrl: '/events/page/bibale_production_10000'\n    }}\n    isFirstValue\n  />\n",locationsMap:{"sampo-ui-facet-results-objectlistitemevent--basic":{startLoc:{col:21,line:9},endLoc:{col:4,line:18},startBody:{col:21,line:9},endBody:{col:4,line:18}},"sampo-ui-facet-results-objectlistitemevent--is-first-value":{startLoc:{col:28,line:20},endLoc:{col:4,line:30},startBody:{col:28,line:20},endBody:{col:4,line:30}}}}},component:ObjectListItemEventComponent,title:"Sampo-UI/facet_results/ObjectListItemEvent"},addSourceDecorator((function(){return react_default.a.createElement(facet_results_ObjectListItemEvent,{data:{id:"http://ldf.fi/mmm/event/bibale_production_10000",type:"http://erlangen-crm.org/current/E12_Production",date:"0701 - 0800",prefLabel:"Production",dataProviderUrl:"/events/page/bibale_production_10000"}})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/ObjectListItemEvent.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})),ObjectListItemEvent_stories_isFirstValue=addSourceDecorator((function(){return react_default.a.createElement(facet_results_ObjectListItemEvent,{data:{id:"http://ldf.fi/mmm/event/bibale_production_10000",type:"http://erlangen-crm.org/current/E12_Production",date:"0701 - 0800",prefLabel:"Production",dataProviderUrl:"/events/page/bibale_production_10000"},isFirstValue:!0})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/ObjectListItemEvent.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},240:function(module,__webpack_exports__,__webpack_require__){"use strict";var history__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(90);__webpack_exports__.a=Object(history__WEBPACK_IMPORTED_MODULE_0__.a)()},288:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1966),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(506),useStyles=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.a)((function(theme){var _layout;return{root:{width:"100%",height:"100%",display:"flex",justifyContent:"center"},layout:(_layout={width:"auto",padding:theme.spacing(3),marginLeft:theme.spacing(3),marginRight:theme.spacing(3)},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_layout,theme.breakpoints.down("sm"),{padding:theme.spacing(1.5),marginLeft:0,marginRight:0}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_layout,theme.breakpoints.up(1100+theme.spacing(6)),{width:1100,marginLeft:"auto",marginRight:"auto"}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_layout,"overflow","auto"),_layout)}})),TextPage=function(props){var classes=useStyles();return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_4__.a,{className:classes.layout},props.children))};TextPage.displayName="TextPage",TextPage.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node},TextPage.__docgenInfo={description:"A component for creating a responsive page with static content.",methods:[],displayName:"TextPage",props:{children:{type:{name:"node"},required:!1,description:"The content of the page."}}},__webpack_exports__.a=TextPage,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/client/components/main_layout/TextPage.js"]={name:"TextPage",docgenInfo:TextPage.__docgenInfo,path:"src/client/components/main_layout/TextPage.js"})},357:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={languageLabel:"English",appTitle:{short:"sampo-ui",long:" &nbsp; &nbsp; Sampo-UI  &nbsp;  &nbsp;",subheading:'\n      "Here to forge for us the Sampo, Hammer us the lid in colors"\n    '},appDescription:"\n    \n  ",appDescription1:"\n    Sampo is a web service for searching and studying place names. The search results\n    can be viewed as a table, on maps, and as statistical distributions. \n    Historical and current background maps are provided.\n  ",appDescription2:"\n    Start by choosing source dataset(s) and input a place name on the search field.\n    Alternatively you can search by area. \n  ",appDescription3:"\n    \n  ",appDescription4:"\n  \n  ",selectPerspective:"Select a perspective to search and browse the knowledge graph:",mainPageImageLicence:"Images used under license from Shutterstock.com",topBar:{feedback:"feedback",info:{info:"Info",blog:"Project blog",blogUrl:"https://seco.cs.aalto.fi",aboutThePortal:"About the Portal"},searchBarPlaceHolder:"Search all content",searchBarPlaceHolderShort:"Search",instructions:"instructions"},facetBar:{results:"Results",narrowDownBy:"Narrow down by"},tabs:{table:"table",map:"map",production_places:"production places",production_places_heatmap:"production heatmap",last_known_locations:"last known locations",migrations:"migrations",network:"network",export:"export","by-period":"by period",map_clusters:"clustered map",map_markers:"map",heatmap:"heatmap",statistics:"statistics",download:"download"},table:{rowsPerPage:"Rows per page",of:"of"},exportToYasgui:"open the result table query in yasgui sparql editor",openInLinkedDataBrowser:"open in linked data browser",resultsAsCSV:"download the search results as a CSV table",facets:{dateFacet:{invalidDate:"Epkelpo pivmr.",toBeforeFrom:"Alkupivmrn tytyy olla ennen loppupivmr.",minDate:"Aikaisin sallittu pivmr on {minDate}",maxDate:"Myhisin sallittu pivmr on {maxDate}",cancel:"Peruuta",fromLabel:"Alku",toLabel:"Loppu"},textFacet:{inputLabel:"Etsi nimell"}},leafletMap:{basemaps:{mapbox:{"light-v10":"Mapbox Light"},googleRoadmap:"Google Maps",topographicalMapNLS:"Topographical map (National Land Survey of Finland)",backgroundMapNLS:"Background map (National Land Survey of Finland)"},externalLayers:{arkeologiset_kohteet_alue:"Register of Archaeological Sites, areas",arkeologiset_kohteet_piste:"Register of Archaeological Sites, points",karelianMaps:"Karelian maps, 1:100 000 topographic (SeCo)",senateAtlas:"Senate atlas, 1:21 000 topographic (SeCo)","kotus:pitajat":"Finnish parishes in 1938 (Institute for the Languages of Finland)","kotus:rajat-sms-alueet":"Dialectical regions in Finland (Institute for the Languages of Finland)","kotus:rajat-sms-alueosat":"Dialectical subregions in Finland (Institute for the Languages of Finland)","kotus:rajat-lansi-ita":"Border between western and eastern dialects in Finland (Institute for the Languages of Finland)"},mapModeButtons:{markers:"Markers",heatmap:"Heatmap"},wrongZoomLevel:"The map zoom level has to at least 11",tooManyResults:"More than 3000 results, please use clustered map or heatmap"},instancePageGeneral:{introduction:'\n      <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n        This landing page provides a human-readable summary of the data points that link\n        to this {entity}. The data included in this summary reflect only those data points\n        used in the MMM Portal. Click the Open in Linked Data Browser on button on the\n        Export tab to view the complete set of classes and properties linked to this record.\n      </p>\n      <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n        To cite this record, use its url. You can use also use the url to return directly\n        to the record at any time.\n      </p>\n    ',repetition:'\n      <h6 class="MuiTypography-root MuiTypography-h6">\n        Repetition of data\n      </h6>\n      <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n        The same or similar data may appear within a single data field multiple times.\n        This repetition occurs due to the merging of multiple records from different datasets\n        to create the MMM record.\n      </p>\n    '},perspectives:{perspective1:{label:"Perspective 1",facetResultsType:"manuscripts",shortDescription:"Perspective1 description",longDescription:'\n        <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n          Use this perspective to access data related to physical manuscript objects.\n          If two or more source datasets include the same manuscript and\n          this has been verified, the information from the source datasets has been merged\n          into one manuscript. See <a href="/instructions">instructions</a> for using the\n          filters. The result view can be selected using the tabs:\n        </p>\n        <ul class="MuiTypography-root MuiTypography-body1">\n          <li>\n            <strong>TABLE</STRONG> view includes all manuscripts in\n            the MMM data. One table row is equivalent to one manuscript.\n          </li>\n          <li>\n            <strong>PRODUCTION PLACES</STRONG> view visualizes the connection\n            between manuscripts and the places where they were produced.\n          </li>\n          <li>\n            <strong>MIGRATIONS</strong> view visualizes the migration of a\n            manuscript from place of production to its most recently observed location.\n          </li>\n          <li>\n            <strong>EXPORT</strong> the SPARQL query used to generate the result\n            table view into YASGUI query editor.\n          </li>\n        </ul>\n      ',instancePage:{label:"Manuscript",description:'\n          <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n            MMMs Manuscript entity corresponds to\n            <a href=\'https://www.ifla.org/publications/node/11240\' target=\'_blank\' rel=\'noopener noreferrer\'>FRBRoos</a>\n            Manifestation Singleton, defined as "physical objects that each carry an instance of\n            [an Expression], and that were produced as unique objects..." The various types\n            of records that describe manuscripts in each of the three contributing MMM\n            datasets have been mapped to this entity.\n          </p>\n          <h6 class="MuiTypography-root MuiTypography-h6">\n            Manuscript labels\n          </h6>\n          <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n            If the Bibale or Oxford databases reference a shelf mark for the manuscript,\n            that information will appear as its label. Otherwise, an SDBM ID number will serve\n            as its label. SDBM ID numbers contain prefixes that indicate different things about\n            the type of record they contain:\n          </p>\n          <ul class="MuiTypography-root MuiTypography-body1">\n            <li>\n              SDBM_MS: SDBM Manuscript Record, which aggregates the data of two or more SDBM\n              Entries. Each Entry represents a different observation of a manuscript at a different\n              point in time, derived from various sources.\n            </li>\n            <li>\n              SDBM_MS_orphan: a single Entry in the SDBM, meaning it has not been linked to any\n              other Entries and therefore has no SDBM Manuscript Record.\n            </li>\n            <li>\n              SDBM_MS_part: a record identified as a fragment of a larger manuscript.\n            </li>\n          </ul>\n          <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph"></p>\n        '},properties:{uri:{label:"URI",description:"Uniform Resource Identifier"},prefLabel:{label:"Label",description:"A short label describing the manuscript."},author:{label:"Author",description:"\n            The author(s) who have contributed to the intellectual content (works)\n            contained in the manuscript.\n          "},work:{label:"Work",description:"The intellectual content (works) contained in the manuscript."},expression:{label:"Expression",description:"The linguistic versions of the works contained in the manuscript."},productionPlace:{label:"Production place",description:"\n            The location where the manuscript was written. Multiple production places\n            may appear for a single manuscript due to the following reasons:  1) there\n            are discrepancies in the contributing data source,  2) there are discrepancies\n            between several contributing data sources, 3) the precise date is uncertain,\n            4) the production indeed took place on several occasions (e.g. for composite\n            manuscripts).\n          "},productionTimespan:{label:"Production date",description:"\n            The date when the manuscript was written. Multiple production dates may appear\n            for a single manuscript due to the following reasons:  1) there are discrepancies\n            in the contributing data source,  2) there are discrepancies between several\n            contributing data sources, 3) the precise date is uncertain, 4) the production\n            indeed took place on several occasions (e.g. for composite manuscripts).\n          "},note:{label:"Note",description:"\n            Other info such as distinguishing characteristics, notes on the physical structure\n            of the manuscript, script types, note glosses, physical relationships among various\n            texts and/or parts of a miscellany, such as multiple types of page layout.\n          "},language:{label:"Language",description:"\n            The language(s) in which the manuscript was written.\n          "},event:{label:"Event",description:"\n            Events related to the manuscript.\n          "},owner:{label:"Owner",description:"\n            Former or current owners (individual or institutional).\n          "},collection:{label:"Collection",description:"\n            The collection(s) that the manuscript has been part of at some point in time.\n          "},transferOfCustodyPlace:{label:"Transfer of Custody Place",description:"\n            The locations of Transfer of Custody events related to the manuscript.\n          "},transferOfCustodyTimespan:{label:"Transfer of Custody Date",description:"\n            The dates of Transfer of Custody events related to the manuscript.\n          "},lastKnownLocation:{label:"Last known location",description:"\n            Last known location\n          "},material:{label:"Material",description:"\n            The physical material on which the text is written.\n          "},height:{label:"Height",description:"\n            The height of the manuscript in millimeters.\n          "},width:{label:"Width",description:"\n            The width of the manuscript in millimeters.\n          "},folios:{label:"Folios",description:"\n            The number of folios (leaves).\n          "},lines:{label:"Lines",description:"\n            The number of lines in a text block. Left blank if the number of lines\n            occurring throughout the manuscript is too irregular to be a useful\n            descriptor for searching.\n          "},columns:{label:"Columns",description:"\n            The number of columns. Left blank if the number of columns\n            occurring throughout the manuscript is too irregular to be a useful\n            descriptor for searching.\n          "},miniatures:{label:"Miniatures",description:"\n            The number of miniatures.\n          "},decoratedInitials:{label:"Decorated initials",description:"\n            The number of decorated initials.\n          "},historiatedInitials:{label:"Historiated initials",description:"\n            The number of historiated initials.\n          "},source:{label:"Source",description:"\n            The source dataset(s) (Bibale, Bodleian, or SDBM) contributing the\n            information on the manuscript. If two or more source datasets include\n            the same manuscript and this has been manually verified, the information\n            from the source datasets have been merged into one manuscript (table row).\n             Click on the links to view the original record on the sources website.\n          "}}},perspective2:{label:"Perspective 2",facetResultsType:"works",shortDescription:"Perspective 2 description",longDescription:"\n        <p class=\"MuiTypography-root MuiTypography-body1 MuiTypography-paragraph\">\n          Use this perspective to access data related to Works. The MMM data model follows\n          the <a href='https://www.ifla.org/publications/node/11240' target='_blank' rel='noopener noreferrer'>FRBRoo</a>\n          definition of a work, which refers to distinct concepts or combinations\n          of concepts identified in artistic and intellectual expressions. Works\n          contain title and author information. If two or more source\n          datasets include the same Work and this has been verified, the information\n          from the source datasets has been merged into one Work.  See\n          <a href=\"/instructions\">instructions</a> for using the filters.\n          The result view can be selected using the tabs:\n        </p>\n        <ul class=\"MuiTypography-root MuiTypography-body1\">\n          <li>\n            <strong>TABLE</STRONG> view gives you a list of specific works, and\n            the manuscripts and manuscript collections in which they can be found.\n          </li>\n          <li>\n            <strong>EXPORT</strong> the SPARQL query used to generate the result\n            table view into YASGUI query editor.\n          </li>\n        </ul>\n      ",instancePage:{label:"Work",description:"\n          <p class=\"MuiTypography-root MuiTypography-body1 MuiTypography-paragraph\">\n            The MMM data model follows the\n            <a href='https://www.ifla.org/publications/node/11240' target='_blank' rel='noopener noreferrer'>FRBRoo</a>\n            definition of a work, which refers to\n            distinct concepts or combinations of concepts identified in artistic and\n            intellectual expressions. Works contain title and author information.\n            This definition is not shared by the Bibale or Oxford Libraries conception\n            of the term, which both define their internal work concept more closely to\n            the FRBRoo conception of an Expression. The SDBM does not have a work concept\n            at all, recording only the titles of the texts as given in its various sources,\n            without normalizing that data or linking it directly to author information.\n            Works were generated within the MMM dataset by manually creating links across\n            the three datasets various conceptions of the relationship between authors\n            and their creations. This process was not able to reconcile every work\n            contained within the combined dataset.\n          </p>\n        "},properties:{uri:{label:"URI",description:"Uniform Resource Identifier"},prefLabel:{label:"Title",description:"The name or title of the Work."},author:{label:"Possible author",description:"\n            The author(s) associated with the Work. Because of the structure of\n            entries in the Schoenberg Database, the authors shown as being\n            associated with a Work may actually be associated with other\n            Works in the same manuscript instead.\n          "},language:{label:"Language",description:"\n            The language in which a Work is written in the manuscript\n            (i.e., an Expression of a Work). One manuscript may contain multiple languages.\n          "},expression:{label:"Expression",description:"\n            The expression(s) of the Work.\n          "},manuscript:{label:"Manuscript",description:"\n            The specific manuscript(s) in which the Work can be found.\n          "},productionTimespan:{label:"Manuscript production date",description:"\n            The date(s) when the manuscript(s) in which the Work can be found were written.\n            Multiple production dates may appear for a single manuscript,\n            when there are discrepancies between the contributing data source\n            or when the precise date is uncertain.\n          "},collection:{label:"Collection",description:"\n            The specific collection(s) of manuscripts in which a Work can be found.\n          "},source:{label:"Source",description:"\n            The source database(s) (Schoenberg, Bibale, and Bodleian) that the Work\n            occurs in. Click on the result table link to view the original record on the\n            sources website.\n          "}}},perspective3:{label:"Perspective 3",facetResultsType:"events",shortDescription:"Perspective 3 description",longDescription:'\n        <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n          Use this perspective to access data related to events associated with the\n          histories of manuscripts and manuscript collections over the centuries.\n          See <a href="/instructions">instructions</a> for using the filters.\n          The result view can be selected using the tabs:\n        </p>\n        <ul class="MuiTypography-root MuiTypography-body1">\n          <li>\n            <strong>TABLE</STRONG> view includes all events in the MMM data.\n          </li>\n          <li>\n            <strong>MAP</STRONG> view visualizes the events that have location information on a map.\n          </li>\n          <li>\n            <strong>EXPORT</strong> the SPARQL query used to generate the result\n            table view into YASGUI query editor.\n          </li>\n        </ul>\n      ',instancePage:{label:"Event",description:'\n          <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n            Events refer to various activities related to Manuscripts and Actors. Event\n            types include Production, Transfer of Custody, and Activity events.\n            Production events refer to the production of the physical manuscript.\n            Transfer of Custody events indicate a change of ownership that involved\n            a transaction of some kind, usually through an auction house or bookseller.\n            The generic Activity event type covers all other types of events.\n          </p>\n        '},properties:{uri:{label:"URI",description:"Uniform Resource Identifier"},type:{label:"Type",description:"\n            Distinguish between Transfer of Custody, Production, and other\n            types of Activity events.\n          "},language:{label:"Language",description:"\n            The language in which a Work is written in the manuscript\n            (i.e., an Expression of a Work). One manuscript may contain multiple languages.\n          "},manuscript:{label:"Manuscript / Collection",description:"\n            The manuscript or manuscript collection associated with the event.\n          "},eventTimespan:{label:"Date",description:"\n            The date or time period associated with the event.\n          "},place:{label:"Place",description:"\n            The specific place(s) associated with the event.\n          "},placeType:{label:"Place type",description:"\n            The type of the specific place(s) associated with the event.\n          "},note:{label:"Note",description:"\n            Note\n          "},surrender:{label:"Custody surrendered by",description:"\n            Custody surrendered by\n          "},receiver:{label:"Custody received by",description:"\n            Custody received by\n          "},observedOwner:{label:"Observed owner",description:"\n            Observed owner\n          "},source:{label:"Source",description:"\n            The source database (Schoenberg, Bibale, and Bodleian) that provided\n            the information about the event.\n          "}}},clientFSPlaces:{label:"ClientFS",shortDescription:"Client-side faceted search",datasets:{kotus:{label:"Names Archive of the Institute for the Languages of Finland (NA)",aboutLink:"https://nimiarkisto.fi/wiki/Nimiarkisto:Tietoja"},pnr:{label:"Finnish Geographic Names Registry (PNR)",aboutLink:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/tuotekuvaukset/nimisto"},warsa_karelian_places:{label:"Karelian map names (KK)",aboutLink:"https://www.suomi.fi/palvelut/verkkoasiointi/vanhat-karjalan-kartat-maanmittauslaitos/f51d72a2-510c-4c34-bb3e-b752f5d38250"},tgn:{label:"The Getty Thesaurus of Geographic Names (TGN)",aboutLink:"http://www.getty.edu/research/tools/vocabularies/tgn/about.html"}},facetResultsType:"",inputPlaceHolder:"Search place names",searchByArea:"Search by area",searchByAreaTitle:"\n        Siirr karttankym tutkittavalle alueelle, aseta zoomaustasoksi \n        vhintn 11 ja kyt alareunan hakupainiketta.\n      ",searchByAreaCancel:"Cancel",searchByAreaSearch:"Search",properties:{datasetSelector:{label:"Choose dataset(s)",description:"Description"},prefLabel:{label:"Name",description:"Description"},broaderTypeLabel:{label:"Type",description:"Description"},broaderAreaLabel:{label:"Area",description:"Description"},modifier:{label:"Modifier",description:"Description"},basicElement:{label:"Base",description:"Description"},collectionYear:{label:"Year",description:"Description"},source:{label:"Source",description:"Description"}}}},aboutThePortal:'\n    <h1 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom">\n      About the Portal\n    </h1>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Morbi nunc ex, ultrices vitae molestie eu, fringilla quis dolor. Vivamus in enim nibh. \n      Nunc rutrum molestie ex eget dictum. Mauris lectus leo, ultrices in sodales ac, fermentum \n      ut massa. In porta, mauris sed facilisis lacinia, eros magna sollicitudin tortor, quis venenatis \n      nisl ipsum lacinia justo. Duis pretium bibendum consequat. \n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; In \n      hac habitasse platea dictumst. Curabitur consectetur aliquet est, ac dapibus ante semper vitae. \n      Sed consequat at est ac lobortis. In vitae metus in ligula pretium vehicula. Aliquam maximus \n      ac massa euismod eleifend. Vestibulum vehicula mattis libero at tempus.\n    </p>\n    <h2 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom">\n      Data\n    </h2>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Nullam eu blandit ex, quis consectetur enim. Nulla aliquam, enim non euismod tincidunt, \n      neque eros tincidunt urna, eget elementum diam metus vel elit. Donec dui augue, vehicula a cursus ut, \n      efficitur eget velit. Aliquam pellentesque odio vel metus sodales tempor. Donec in lectus magna. \n      Cras at odio a libero laoreet viverra nec sed lorem. In malesuada tempus dolor. \n      Suspendisse et ligula quis nisi facilisis maximus. Sed dictum justo eu condimentum efficitur. \n      Mauris porttitor ante nec auctor vulputate. Phasellus varius, odio sed egestas bibendum, \n      dolor lacus consequat turpis, ac pulvinar libero lorem maximus nunc. Praesent egestas volutpat \n      leo, vel faucibus dui convallis sed. Ut sed libero eu nisi accumsan mollis. Pellentesque \n      ultricies est non porta luctus. Maecenas eget viverra mauris.\n    </p>\n    <ul class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom">\n      <li>\n        <a href=""\n          target=\'_blank\' rel=\'noopener noreferrer\'\n        >\n          Suspendisse et ligula quis\n        </a>\n      </li>\n      <li>\n        <a href=""\n          target=\'_blank\' rel=\'noopener noreferrer\'\n        >\n          Aliquam pellentesque odio\n        </a>\n      </li>\n      <li>\n        <a href=""\n          target=\'_blank\' rel=\'noopener noreferrer\'\n        >\n          Cras at odio a libero laoreet\n        </a>\n      </li>\n    </ul>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Mauris porttitor ante nec auctor vulputate. Phasellus varius, odio sed egestas bibendum, \n      dolor lacus consequat turpis, ac pulvinar libero lorem maximus nunc. Praesent egestas volutpat \n      leo, vel faucibus dui convallis sed. Ut sed libero eu nisi accumsan mollis. Pellentesque \n      ultricies est non porta luctus. Maecenas eget viverra mauris.\n      </p>\n    <h2 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom">\n      Data Reuse\n    </h2>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Nullam eu blandit ex, quis consectetur enim. Nulla aliquam, enim non euismod tincidunt, \n      neque eros tincidunt urna, eget elementum diam metus vel elit. Donec dui augue, vehicula a cursus ut, \n      efficitur eget velit. Aliquam pellentesque odio vel metus sodales tempor. Donec in lectus magna. \n      Cras at odio a libero laoreet viverra nec sed lorem. In malesuada tempus dolor. \n      Suspendisse et ligula quis nisi facilisis maximus. Sed dictum justo eu condimentum efficitur. \n      Mauris porttitor ante nec auctor vulputate. Phasellus varius, odio sed egestas bibendum, \n      dolor lacus consequat turpis, ac pulvinar libero lorem maximus nunc. Praesent egestas volutpat \n      leo, vel faucibus dui convallis sed. Ut sed libero eu nisi accumsan mollis. Pellentesque \n      ultricies est non porta luctus. Maecenas eget viverra mauris.\n    </p>\n    <h2 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom">\n      More Information\n    </h2>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Nullam eu blandit ex, quis consectetur enim. Nulla aliquam, enim non euismod tincidunt, \n      neque eros tincidunt urna, eget elementum diam metus vel elit. Donec dui augue, vehicula a cursus ut, \n      efficitur eget velit. Aliquam pellentesque odio vel metus sodales tempor. Donec in lectus magna. \n      Cras at odio a libero laoreet viverra nec sed lorem. In malesuada tempus dolor. \n      Suspendisse et ligula quis nisi facilisis maximus. Sed dictum justo eu condimentum efficitur. \n      Mauris porttitor ante nec auctor vulputate. Phasellus varius, odio sed egestas bibendum, \n      dolor lacus consequat turpis, ac pulvinar libero lorem maximus nunc. Praesent egestas volutpat \n      leo, vel faucibus dui convallis sed. Ut sed libero eu nisi accumsan mollis. Pellentesque \n      ultricies est non porta luctus. Maecenas eget viverra mauris.\n    </p>\n  ',instructions:'\n    <h1 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom">\n      Instructions\n    </h1>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      The search functionality of this semantic portal is based on the\n      <a href="https://doi.org/10.2200/S00190ED1V01Y200904ICR005" target=\'_blank\' rel=\'noopener noreferrer\'>\n      faceted search</a> paradigm. By default each perspective displays\n      all results from the corresponding class.\n      This default result set can be narrowed down by using the filters on the left.\n    </p>\n\n    <h2 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom">\n      Using a single filter\n    </h2>\n\n    <h3 class="MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom">\n      Selecting values within a filter\n    </h3>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      All possible values for a filter are displayed either as a list or as a hierarchical\n      tree structure (if available). The number of results is shown in brackets for each value.\n      Once a value is selected, the results are automatically updated. To prevent further\n      selections that do not return any results, also the possible values for all\n      other filters are updated at the same time.\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Multiple values can be selected within a single filter. Selecting multiple values\n      generates results that contain any of the selected values. For example, selecting\n      both <i>Saint Augustine</i> and <i>Saint Jerome</i> as an Author returns results that\n      include either <i>Saint Augustine</i> <strong>OR</strong> <i>Saint Jerome</i> as an Author.\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Selected values of a filter appear in the Active filters section at the top of the list\n      of filters. To deselect a filter, click the X mark next to it within the Active filters\n      section. You can also deselect a filter value by unchecking the checkmark in the\n      filters value list. The Active filters section only appears if there are filter\n      values currently selected.\n    </p>\n\n    <h3 class="MuiTypography-root MuiTypography-h6 MuiTypography-gutterBottom">\n      Searching within a filter\n    </h3>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Search within a filter by using the search field at the top of each filter.\n      All possible values of a filter remain visible at all times. The values of\n      the filter that match the search term are indicated by a purple underline.\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Steps for searching within filters:\n    </p>\n    <ol class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom">\n      <li>\n        Type search term into search field. If there are matches, a number\n        will appear to the right of the search field, indicating the number\n        of filter values that match the search term.\n      </li>\n      <li>\n        Click the arrows to the right of the search field to cycle\n        through the results. As you click the arrow, a different filter value\n        will appear at the top of the list. Matched filters are underlined in\n        purple.\n      </li>\n      <li>\n        Click the checkmark next to a filter value to activate it. The results\n        (and also other filters) are automatically updated.\n      </li>\n    </ol>\n\n    <h2 class="MuiTypography-root MuiTypography-h4 MuiTypography-gutterBottom">\n      Using multiple filters simultaneously\n    </h2>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      The effectiveness of faceted search is realized when multiple filters are\n      applied at the same time. As in many e-commerce sites, a logical AND is\n      always used between the filters. For example selecting <i>Saint Augustine </i>\n      and <i>Saint Jerome</i> as an Author and <i>Sir Thomas Phillipps</i> and\n      <i> Thomas Thorpe</i> as an Owner, the results are narrowed down as follows:\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1">\n      (Author: <i>Saint Augustine</i> <strong>OR</strong> Author: <i>Saint Jerome</i>)\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1">\n        <strong>AND</strong>\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1">\n      (Owner: <i>Sir Thomas Phillipps</i> <strong>OR</strong> Owner: <i>Thomas Thorpe</i>)\n    </p>\n  ',feedback:'\n    <h1 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom">\n      Feedback\n    </h1>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      This semantic portal has been developed by ...\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      We are interested in your feedback on the functionality, coverage, and usefulness of the portal and its data.\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Please complete our\n      <a href="" target=\'_blank\' rel=\'noopener noreferrer\'>Feedback Survey Form (add link).</a>\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      You can also contact us via email: ... or DM us on Twitter: ...\n    </p>\n    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-paragraph">\n      Please be aware that this portals response times may be affected by the size and complexity\n      of the underlying knowledge graph.\n    </p>\n    '}},358:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={languageLabel:"Suomi"}},359:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={languageLabel:"Svenska"}},380:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return perspectiveConfig}));__webpack_require__(32),__webpack_require__(26),__webpack_require__(199),__webpack_require__(38),__webpack_require__(35);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(191),_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6__),_material_ui_icons_TripOrigin__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(882),_material_ui_icons_TripOrigin__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_material_ui_icons_TripOrigin__WEBPACK_IMPORTED_MODULE_7__),_material_ui_icons_LocationOn__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(500),_material_ui_icons_LocationOn__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_material_ui_icons_LocationOn__WEBPACK_IMPORTED_MODULE_8__),_material_ui_icons_AddLocation__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(384),_material_ui_icons_AddLocation__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_material_ui_icons_AddLocation__WEBPACK_IMPORTED_MODULE_9__),_material_ui_icons_SettingsBrightness__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(883),_material_ui_icons_SettingsBrightness__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_material_ui_icons_SettingsBrightness__WEBPACK_IMPORTED_MODULE_10__),_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(881),_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_11__),_material_ui_icons_PieChart__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(377),_material_ui_icons_PieChart__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_material_ui_icons_PieChart__WEBPACK_IMPORTED_MODULE_12__),_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(192),_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13__),_img_main_page_manuscripts_452x262_jpg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(877),_img_main_page_manuscripts_452x262_jpg__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_img_main_page_manuscripts_452x262_jpg__WEBPACK_IMPORTED_MODULE_14__),_img_main_page_works_452x262_jpg__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(878),_img_main_page_works_452x262_jpg__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_img_main_page_works_452x262_jpg__WEBPACK_IMPORTED_MODULE_15__),_img_main_page_events_452x262_jpg__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(879),_img_main_page_events_452x262_jpg__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_img_main_page_events_452x262_jpg__WEBPACK_IMPORTED_MODULE_16__),_img_main_page_places_452x262_jpg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(880),_img_main_page_places_452x262_jpg__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_img_main_page_places_452x262_jpg__WEBPACK_IMPORTED_MODULE_17__),perspectiveConfig=[{id:"perspective1",frontPageImage:_img_main_page_manuscripts_452x262_jpg__WEBPACK_IMPORTED_MODULE_14___default.a,perspectiveDescHeight:160,defaultActiveFacets:new Set(["prefLabel"]),tabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"production_places",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_AddLocation__WEBPACK_IMPORTED_MODULE_9___default.a,null)},{id:"production_places_heatmap",value:2,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_AddLocation__WEBPACK_IMPORTED_MODULE_9___default.a,null)},{id:"last_known_locations",value:3,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_LocationOn__WEBPACK_IMPORTED_MODULE_8___default.a,null)},{id:"migrations",value:4,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_Redo__WEBPACK_IMPORTED_MODULE_11___default.a,null)},{id:"export",value:5,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}],instancePageTabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"export",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}]},{id:"perspective2",frontPageImage:_img_main_page_works_452x262_jpg__WEBPACK_IMPORTED_MODULE_15___default.a,perspectiveDescHeight:160,defaultActiveFacets:new Set(["prefLabel"]),tabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"export",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}],instancePageTabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"export",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}]},{id:"perspective3",frontPageImage:_img_main_page_events_452x262_jpg__WEBPACK_IMPORTED_MODULE_16___default.a,perspectiveDescHeight:160,defaultActiveFacets:new Set(["prefLabel"]),tabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"map",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_AddLocation__WEBPACK_IMPORTED_MODULE_9___default.a,null)},{id:"export",value:2,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}],instancePageTabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"export",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}]},{id:"clientFSPlaces",frontPageImage:_img_main_page_places_452x262_jpg__WEBPACK_IMPORTED_MODULE_17___default.a,defaultActiveFacets:new Set(["datasetSelector","prefLabel"]),tabs:[{id:"table",value:0,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CalendarViewDay__WEBPACK_IMPORTED_MODULE_6___default.a,null)},{id:"map_clusters",value:1,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_TripOrigin__WEBPACK_IMPORTED_MODULE_7___default.a,null)},{id:"map_markers",value:2,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_LocationOn__WEBPACK_IMPORTED_MODULE_8___default.a,null)},{id:"heatmap",value:3,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_SettingsBrightness__WEBPACK_IMPORTED_MODULE_10___default.a,null)},{id:"statistics",value:4,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_PieChart__WEBPACK_IMPORTED_MODULE_12___default.a,null)},{id:"download",value:5,icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_13___default.a,null)}]}]},499:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker-icon-green.fd617c65.png"},72:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return rootUrl})),__webpack_require__.d(__webpack_exports__,"g",(function(){return showLanguageButton})),__webpack_require__.d(__webpack_exports__,"e",(function(){return publishedPort})),__webpack_require__.d(__webpack_exports__,"a",(function(){return MAPBOX_ACCESS_TOKEN})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MAPBOX_STYLE})),__webpack_require__.d(__webpack_exports__,"d",(function(){return documentFinderAPIUrl})),__webpack_require__.d(__webpack_exports__,"c",(function(){return backendErrorText}));var rootUrl="",showLanguageButton=!0,publishedPort=3006,MAPBOX_ACCESS_TOKEN="",MAPBOX_STYLE="light-v10",documentFinderAPIUrl="https://data.finlex.fi/document-finder-backend",backendErrorText="The database is not available. Please try again later."},871:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker-shadow.44014eaa.png"},872:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker-icon-violet.4208273d.png"},873:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker-icon-red.d6be1b36.png"},874:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker-icon-orange.33debfea.png"},875:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker-icon-yellow.8ab891ca.png"},877:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/manuscripts-452x262.76d19f68.jpg"},878:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/works-452x262.6f5e02a7.jpg"},879:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/events-452x262.f6d3245b.jpg"},880:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/places-452x262.d7d323b4.jpg"},884:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/seco-logo-48x50.68bf7e61.png"},886:function(module,__webpack_exports__,__webpack_require__){"use strict";var redux=__webpack_require__(210),lib=__webpack_require__(856),defineProperty=(__webpack_require__(10),__webpack_require__(66),__webpack_require__(42),__webpack_require__(83),__webpack_require__(67),__webpack_require__(158),__webpack_require__(159),__webpack_require__(13),__webpack_require__(47),__webpack_require__(3)),defineProperty_default=__webpack_require__.n(defineProperty),updateResults=function(_ref6){return{type:"UPDATE_RESULTS",resultClass:_ref6.resultClass,data:_ref6.data,sparqlQuery:_ref6.sparqlQuery,query:_ref6.query,jenaIndex:_ref6.jenaIndex}},updateLocale=function(_ref17){return{type:"UPDATE_LOCALE",language:_ref17.language}},updateGeoJSONLayers=function(_ref20){return{type:"UPDATE_GEOJSON_LAYERS",payload:_ref20.payload}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var INITIAL_STATE={id:0,message:{}},reducers_error=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"SHOW_ERROR":case"FETCH_RESULTS_FAILED":case"FETCH_PAGINATED_RESULTS_FAILED":case"FETCH_BY_URI_FAILED":case"FETCH_FACET_FAILED":return _objectSpread({},state,{id:state.id+1,message:{text:action.message.text,title:action.message.title}});default:return state}},slicedToArray=(__webpack_require__(153),__webpack_require__(61)),slicedToArray_default=__webpack_require__.n(slicedToArray),regenerator=(__webpack_require__(21),__webpack_require__(32),__webpack_require__(156),__webpack_require__(20),__webpack_require__(26),__webpack_require__(263),__webpack_require__(38),__webpack_require__(35),__webpack_require__(106)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(249),__webpack_require__(189)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),of=__webpack_require__(2005),ajax=__webpack_require__(2041),axios=__webpack_require__(857),axios_default=__webpack_require__.n(axios),withLatestFrom=__webpack_require__(2003),mergeMap=__webpack_require__(858),map=__webpack_require__(236),catchError=__webpack_require__(2004),debounceTime=__webpack_require__(2030),switchMap=__webpack_require__(2006),operators=__webpack_require__(2035),combineEpics=__webpack_require__(2032),react_intl_universal_lib=__webpack_require__(9),react_intl_universal_lib_default=__webpack_require__.n(react_intl_universal_lib),localeEN=__webpack_require__(357),localeFI=__webpack_require__(358),localeSV=__webpack_require__(359),helpers=__webpack_require__(115),querystring_es3=__webpack_require__(234),querystring_es3_default=__webpack_require__.n(querystring_es3),GeneralConfig=__webpack_require__(72),port="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?":".concat(GeneralConfig.e):"",apiUrl="".concat(window.location.protocol,"//").concat(window.location.hostname).concat(port).concat(GeneralConfig.f,"/api/v1"),availableLocales={en:localeEN.a,fi:localeFI.a,sv:localeSV.a},fetchGeoJSONLayer=function(){var _ref23=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(layerID){var mapServerParams,url,response;return regenerator_default.a.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return"http://kartta.nba.fi/arcgis/services/WFS/MV_Kulttuuriymparisto/MapServer/WFSServer",mapServerParams={request:"GetFeature",service:"WFS",version:"2.0.0",typeName:layerID,srsName:"EPSG:4326",outputFormat:"application/json"},url="".concat("http://kartta.nba.fi/arcgis/services/WFS/MV_Kulttuuriymparisto/MapServer/WFSServer","?").concat(querystring_es3_default.a.stringify(mapServerParams)),_context3.prev=3,_context3.next=6,axios_default.a.get(url);case 6:return response=_context3.sent,_context3.abrupt("return",{layerID:layerID,geoJSON:response.data});case 10:_context3.prev=10,_context3.t0=_context3.catch(3),Object(helpers.b)(_context3.t0);case 13:case"end":return _context3.stop()}}),_callee3,null,[[3,10]])})));return function(){return _ref23.apply(this,arguments)}}();Object(combineEpics.a)((function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_PAGINATED_RESULTS"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref){var _ref2=slicedToArray_default()(_ref,2),action=_ref2[0],state=_ref2[1],resultClass=action.resultClass,facetClass=action.facetClass,sortBy=action.sortBy,_state$resultClass=state[resultClass],page=_state$resultClass.page,pagesize=_state$resultClass.pagesize,sortDirection=_state$resultClass.sortDirection,params=Object(helpers.d)({facets:state["".concat(facetClass,"Facets")].facets,facetClass:null,page:page,pagesize:pagesize,sortBy:sortBy,sortDirection:sortDirection}),requestUrl="".concat(apiUrl,"/faceted-search/").concat(resultClass,"/paginated");return Object(ajax.a)({url:requestUrl,method:"POST",headers:{"Content-Type":"application/json"},body:params}).pipe(Object(map.a)((function(ajaxResponse){return{type:"UPDATE_PAGINATED_RESULTS",resultClass:(_ref5={resultClass:ajaxResponse.response.resultClass,page:ajaxResponse.response.page,pagesize:ajaxResponse.response.pagesize,data:ajaxResponse.response.data,sparqlQuery:ajaxResponse.response.sparqlQuery}).resultClass,page:_ref5.page,pagesize:_ref5.pagesize,data:_ref5.data,sparqlQuery:_ref5.sparqlQuery};var _ref5})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_PAGINATED_RESULTS_FAILED",resultClass:resultClass,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_RESULTS"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref3){var _ref4=slicedToArray_default()(_ref3,2),action=_ref4[0],state=_ref4[1],resultClass=action.resultClass,facetClass=action.facetClass,params=Object(helpers.d)({facets:state["".concat(facetClass,"Facets")].facets,facetClass:facetClass}),requestUrl="".concat(apiUrl,"/faceted-search/").concat(resultClass,"/all");return Object(ajax.a)({url:requestUrl,method:"POST",headers:{"Content-Type":"application/json"},body:params}).pipe(Object(map.a)((function(ajaxResponse){return updateResults({resultClass:resultClass,data:ajaxResponse.response.data,sparqlQuery:ajaxResponse.response.sparqlQuery})})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_RESULTS_FAILED",resultClass:resultClass,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_RESULT_COUNT"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref5){var _ref6=slicedToArray_default()(_ref5,2),action=_ref6[0],state=_ref6[1],resultClass=action.resultClass,facetClass=action.facetClass,params=Object(helpers.d)({facets:state["".concat(facetClass,"Facets")].facets}),requestUrl="".concat(apiUrl,"/faceted-search/").concat(resultClass,"/count");return Object(ajax.a)({url:requestUrl,method:"POST",headers:{"Content-Type":"application/json"},body:params}).pipe(Object(map.a)((function(ajaxResponse){return{type:"UPDATE_RESULT_COUNT",resultClass:(_ref4={resultClass:ajaxResponse.response.resultClass,data:ajaxResponse.response.data,sparqlQuery:ajaxResponse.response.sparqlQuery}).resultClass,data:_ref4.data,sparqlQuery:_ref4.sparqlQuery};var _ref4})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_RESULT_COUNT_FAILED",resultClass:resultClass,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_BY_URI"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref9){var _ref10=slicedToArray_default()(_ref9,2),action=_ref10[0],state=_ref10[1],resultClass=action.resultClass,facetClass=action.facetClass,uri=action.uri,params=Object(helpers.d)({facets:null==facetClass?null:state["".concat(facetClass,"Facets")].facets,facetClass:facetClass}),requestUrl="".concat(apiUrl,"/").concat(resultClass,"/page/").concat(encodeURIComponent(uri));return Object(ajax.a)({url:requestUrl,method:"POST",headers:{"Content-Type":"application/json"},body:params}).pipe(Object(map.a)((function(ajaxResponse){return function(_ref9){return{type:"UPDATE_INSTANCE",resultClass:_ref9.resultClass,data:_ref9.data,sparqlQuery:_ref9.sparqlQuery}}({resultClass:resultClass,data:ajaxResponse.response.data,sparqlQuery:ajaxResponse.response.sparqlQuery})})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_BY_URI_FAILED",resultClass:resultClass,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_FACET"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref11){var _ref12=slicedToArray_default()(_ref11,2),action=_ref12[0],state=_ref12[1],facetClass=action.facetClass,facetID=action.facetID,facets=state["".concat(facetClass,"Facets")].facets,facet=facets[facetID],sortBy=facet.sortBy,sortDirection=facet.sortDirection,params=Object(helpers.d)({facets:facets,sortBy:sortBy,sortDirection:sortDirection}),requestUrl="".concat(apiUrl,"/faceted-search/").concat(action.facetClass,"/facet/").concat(facetID);return Object(ajax.a)({url:requestUrl,method:"POST",headers:{"Content-Type":"application/json"},body:params}).pipe(Object(map.a)((function(ajaxResponse){return{type:"UPDATE_FACET_VALUES",facetClass:(_ref13={facetClass:facetClass,id:ajaxResponse.response.id,data:ajaxResponse.response.data||[],flatData:ajaxResponse.response.flatData||[],sparqlQuery:ajaxResponse.response.sparqlQuery}).facetClass,id:_ref13.id,data:_ref13.data,flatData:_ref13.flatData,sparqlQuery:_ref13.sparqlQuery};var _ref13})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_FACET_FAILED",resultClass:action.resultClass,id:action.id,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_FACET_CONSTRAIN_SELF"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref13){var _ref14=slicedToArray_default()(_ref13,2),action=_ref14[0],state=_ref14[1],facetClass=action.facetClass,facetID=action.facetID,facets=state["".concat(facetClass,"Facets")].facets,facet=facets[facetID],sortBy=facet.sortBy,sortDirection=facet.sortDirection,params=Object(helpers.d)({facets:facets,sortBy:sortBy,sortDirection:sortDirection,constrainSelf:!0}),requestUrl="".concat(apiUrl,"/faceted-search/").concat(action.facetClass,"/facet/").concat(facetID);return Object(ajax.a)({url:requestUrl,method:"POST",headers:{"Content-Type":"application/json"},body:params}).pipe(Object(map.a)((function(ajaxResponse){return function(_ref14){return{type:"UPDATE_FACET_VALUES_CONSTRAIN_SELF",facetClass:_ref14.facetClass,id:_ref14.id,data:_ref14.data,flatData:_ref14.flatData,sparqlQuery:_ref14.sparqlQuery}}({facetClass:facetClass,id:facetID,data:ajaxResponse.response.data||[],flatData:ajaxResponse.response.flatData||[],sparqlQuery:ajaxResponse.response.sparqlQuery})})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_FACET_FAILED",resultClass:action.facetClass,id:action.id,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_FULL_TEXT_RESULTS"),Object(withLatestFrom.a)(state$),Object(debounceTime.a)(500),Object(switchMap.a)((function(_ref7){var _ref8=slicedToArray_default()(_ref7,2),action=_ref8[0],requestUrl=(_ref8[1],"".concat(apiUrl,"/full-text-search?q=").concat(action.query));return ajax.a.getJSON(requestUrl).pipe(Object(map.a)((function(response){return updateResults({resultClass:"fullText",data:response.data,sparqlQuery:response.sparqlQuery,query:action.query,jenaIndex:action.jenaIndex})})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_RESULTS_FAILED",resultClass:"fullText",error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$,state$){return action$.pipe(Object(operators.a)("CLIENT_FS_FETCH_RESULTS"),Object(withLatestFrom.a)(state$),Object(debounceTime.a)(500),Object(switchMap.a)((function(_ref15){var requestUrl,_ref16=slicedToArray_default()(_ref15,2),action=_ref16[0],state=_ref16[1],jenaIndex=action.jenaIndex,dsParams=Object(helpers.c)(state.clientSideFacetedSearch.datasets).map((function(ds){return"dataset=".concat(ds)})).join("&");if("text"===action.jenaIndex)requestUrl="".concat(apiUrl,"/federated-search?q=").concat(action.query,"&").concat(dsParams);else if("spatial"===action.jenaIndex){var _state$leafletMap=state.leafletMap,latMin=_state$leafletMap.latMin,longMin=_state$leafletMap.longMin,latMax=_state$leafletMap.latMax,longMax=_state$leafletMap.longMax;requestUrl="".concat(apiUrl,"/federated-search?latMin=").concat(latMin,"&longMin=").concat(longMin,"&latMax=").concat(latMax,"&longMax=").concat(longMax,"&").concat(dsParams)}return ajax.a.getJSON(requestUrl).pipe(Object(map.a)((function(response){return{type:"CLIENT_FS_UPDATE_RESULTS",results:(_ref22={results:response,jenaIndex:jenaIndex}).results,jenaIndex:_ref22.jenaIndex};var _ref22})),Object(catchError.a)((function(error){return Object(of.a)({type:"CLIENT_FS_FETCH_RESULTS_FAILED",error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$){return action$.pipe(Object(operators.a)("LOAD_LOCALES"),Object(mergeMap.a)(function(){var _ref17=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(action){return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,react_intl_universal_lib_default.a.init({currentLocale:action.currentLanguage,locales:availableLocales});case 2:return _context.abrupt("return",updateLocale({language:action.currentLanguage}));case 3:case"end":return _context.stop()}}),_callee)})));return function(){return _ref17.apply(this,arguments)}}()))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_SIMILAR_DOCUMENTS_BY_ID"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref18){var action=slicedToArray_default()(_ref18,1)[0],resultClass=action.resultClass,id=action.id,modelName=action.modelName,resultSize=action.resultSize,requestUrl="".concat(GeneralConfig.d,"/top-similar/").concat(modelName,"/").concat(id,"?n=").concat(resultSize);return ajax.a.getJSON(requestUrl).pipe(Object(map.a)((function(res){return{type:"UPDATE_INSTANCE_RELATED_DATA",resultClass:(_ref10={resultClass:resultClass,data:res.documents||null}).resultClass,data:_ref10.data};var _ref10})),Object(catchError.a)((function(error){return Object(of.a)({type:"FETCH_SIMILAR_DOCUMENTS_BY_ID_FAILED",resultClass:action.resultClass,id:action.id,error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}),(function(action$){return action$.pipe(Object(operators.a)("FETCH_GEOJSON_LAYERS"),Object(mergeMap.a)(function(){var _ref22=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(action){var layerIDs,bounds,data;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return layerIDs=action.layerIDs,bounds=action.bounds,_context2.next=3,Promise.all(layerIDs.map((function(layerID){return fetchGeoJSONLayer(layerID,bounds)})));case 3:return data=_context2.sent,_context2.abrupt("return",updateGeoJSONLayers({payload:data}));case 5:case"end":return _context2.stop()}}),_callee2)})));return function(){return _ref22.apply(this,arguments)}}()))}),(function(action$,state$){return action$.pipe(Object(operators.a)("FETCH_GEOJSON_LAYERS_BACKEND"),Object(withLatestFrom.a)(state$),Object(mergeMap.a)((function(_ref20){var action=slicedToArray_default()(_ref20,1)[0],layerIDs=action.layerIDs,bounds=action.bounds,_boundsToValues=Object(helpers.a)(bounds),latMin=_boundsToValues.latMin,longMin=_boundsToValues.longMin,latMax=_boundsToValues.latMax,longMax=_boundsToValues.longMax,requestUrl="".concat(apiUrl,"wfs?").concat(querystring_es3_default.a.stringify({layerID:layerIDs,latMin:latMin,longMin:longMin,latMax:latMax,longMax:longMax}));return ajax.a.getJSON(requestUrl).pipe(Object(map.a)((function(res){return updateGeoJSONLayers({payload:res})})),Object(catchError.a)((function(error){return Object(of.a)({type:"SHOW_ERROR",error:error,message:{text:GeneralConfig.c,title:"Error"}})})))})))}));function options_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function options_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?options_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):options_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}for(var localeArray=[],_i=0,_Object$entries=Object.entries(availableLocales);_i<_Object$entries.length;_i++){var _Object$entries$_i=slicedToArray_default()(_Object$entries[_i],2),options_key=_Object$entries$_i[0],options_value=_Object$entries$_i[1];localeArray.push({id:options_key,label:options_value.languageLabel})}var options_INITIAL_STATE={currentLocale:"",availableLocales:localeArray},reducers_options=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:options_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"UPDATE_LOCALE":return options_objectSpread({},state,{currentLocale:action.language});default:return state}};function animation_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function animation_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?animation_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):animation_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var animation_INITIAL_STATE={value:[]},reducers_animation=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:animation_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;return"ANIMATE_MAP"===action.type&&(state=animation_objectSpread({},state,{value:action.value})),state};function leafletMap_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function leafletMap_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?leafletMap_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):leafletMap_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var leafletMap_INITIAL_STATE={layerData:[],updateID:0,fetching:!1,latMin:0,longMin:0,latMax:0,longMax:0,zoomLevel:4},reducers_leafletMap=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:leafletMap_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"FETCH_GEOJSON_LAYERS":case"FETCH_GEOJSON_LAYERS_BACKEND":return leafletMap_objectSpread({},state,{fetching:!0});case"UPDATE_GEOJSON_LAYERS":return leafletMap_objectSpread({},state,{layerData:action.payload,updateID:state.updateID+1,fetching:!1});case"UPDATE_MAP_BOUNDS":return leafletMap_objectSpread({},state,{latMin:action.bounds.latMin,longMin:action.bounds.longMin,latMax:action.bounds.latMax,longMax:action.bounds.longMax,zoomLevel:action.bounds.zoom});default:return state}};function fullTextSearch_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function fullTextSearch_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?fullTextSearch_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):fullTextSearch_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var fullTextSearch_INITIAL_STATE={query:"",results:null,fetching:!1},sampo_fullTextSearch=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:fullTextSearch_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if("fullText"!==action.resultClass)return state;switch(action.type){case"FETCH_FULL_TEXT_RESULTS":return fullTextSearch_objectSpread({},state,{fetching:!0});case"UPDATE_RESULTS":return fullTextSearch_objectSpread({},state,{query:action.query,results:action.data,fetching:!1});case"CLEAR_RESULTS":return fullTextSearch_INITIAL_STATE;default:return state}};__webpack_require__(199);function clientSideFacetedSearch_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function clientSideFacetedSearch_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?clientSideFacetedSearch_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):clientSideFacetedSearch_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var clientSideFacetedSearch_INITIAL_STATE={query:"",datasets:{kotus:{selected:!0},pnr:{selected:!0},warsa_karelian_places:{selected:!1},tgn:{selected:!1}},results:null,facets:{datasetSelector:{facetID:"datasetSelector",filterType:"datasetSelector"},prefLabel:{facetID:"prefLabel",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!0,containerClass:"ten",type:"hierarchical"},broaderTypeLabel:{facetID:"broaderTypeLabel",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!0,containerClass:"ten",type:"hierarchical"},broaderAreaLabel:{facetID:"broaderAreaLabel",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!0,containerClass:"ten",type:"hierarchical"},modifier:{facetID:"modifier",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!0,containerClass:"ten",type:"hierarchical"},basicElement:{facetID:"basicElement",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!0,containerClass:"ten",type:"hierarchical"},collectionYear:{facetID:"collectionYear",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!0,containerClass:"ten",type:"hierarchical"},source:{facetID:"source",filterType:"clientFSLiteral",selectionsSet:new Set,isFetching:!1,searchField:!1,containerClass:"three",type:"hierarchical"}},lastlyUpdatedFacet:null,facetUpdateID:0,sortBy:"broaderAreaLabel",sortDirection:"asc",groupBy:"broaderTypeLabel",groupByLabel:"Paikanlaji",textResultsFetching:!1,spatialResultsFetching:!1},clientSideFacetedSearch_clientFSUpdateFacet=function(state,action){var facetID=action.facetID,value=action.value,latestValues=action.latestValues,newSelectionsSet=state.facets[facetID].selectionsSet;newSelectionsSet.has(value)?newSelectionsSet.delete(value):newSelectionsSet.add(value);var updatedFacets=clientSideFacetedSearch_objectSpread({},state.facets,defineProperty_default()({},facetID,clientSideFacetedSearch_objectSpread({},state.facets[facetID],{selectionsSet:newSelectionsSet})));return clientSideFacetedSearch_objectSpread({},state,{facetUpdateID:++state.facetUpdateID,facets:updatedFacets,lastlyUpdatedFacet:{facetID:facetID,values:latestValues}})},sampo_clientSideFacetedSearch=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:clientSideFacetedSearch_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"CLIENT_FS_UPDATE_QUERY":return clientSideFacetedSearch_objectSpread({},state,{query:action.query||""});case"CLIENT_FS_TOGGLE_DATASET":return clientSideFacetedSearch_objectSpread({},state,{suggestions:[],results:null,datasets:clientSideFacetedSearch_objectSpread({},state.datasets,defineProperty_default()({},action.dataset,clientSideFacetedSearch_objectSpread({},state.datasets[action.dataset],{selected:!state.datasets[action.dataset].selected})))});case"CLIENT_FS_FETCH_RESULTS":return clientSideFacetedSearch_objectSpread({},state,defineProperty_default()({},"".concat(action.jenaIndex,"ResultsFetching"),!0));case"CLIENT_FS_FETCH_RESULTS_FAILED":return clientSideFacetedSearch_objectSpread({},state,{textResultsFetching:!1,spatialResultsFetching:!1});case"CLIENT_FS_CLEAR_RESULTS":return clientSideFacetedSearch_objectSpread({},state,{results:null,fetchingResults:!1,query:clientSideFacetedSearch_INITIAL_STATE.query,facets:clientSideFacetedSearch_INITIAL_STATE.facets});case"CLIENT_FS_UPDATE_RESULTS":return clientSideFacetedSearch_objectSpread({},state,defineProperty_default()({results:action.results},"".concat(action.jenaIndex,"ResultsFetching"),!1));case"CLIENT_FS_UPDATE_FACET":return clientSideFacetedSearch_clientFSUpdateFacet(state,action);case"CLIENT_FS_SORT_RESULTS":return clientSideFacetedSearch_objectSpread({},state,{sortBy:action.options.sortBy,sortDirection:action.options.sortDirection});default:return state}},lodash=(__webpack_require__(220),__webpack_require__(224),__webpack_require__(11));function helpers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function helpers_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?helpers_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):helpers_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var helpers_fetchResults=function(state){return helpers_objectSpread({},state,{instance:null,fetching:!0})},helpers_fetchResultCount=function(state){return helpers_objectSpread({},state,{fetchingResultCount:!0})},helpers_fetchResultsFailed=function(state){return helpers_objectSpread({},state,{fetching:!1})},helpers_updateInstance=function(state,action){return helpers_objectSpread({},state,{instance:1===action.data.length?action.data[0]:{},instanceSparqlQuery:action.sparqlQuery,fetching:!1})},helpers_updatePage=function(state,action){return isNaN(action.page)?state:helpers_objectSpread({},state,{page:action.page})},helpers_updateRowsPerPage=function(state,action){return helpers_objectSpread({},state,{pagesize:action.rowsPerPage})},updateSortBy=function(state,action){return state.sortBy===action.sortBy?helpers_objectSpread({},state,{sortDirection:"asc"===state.sortDirection?"desc":"asc"}):helpers_objectSpread({},state,{sortBy:action.sortBy,sortDirection:"asc"})},helpers_updateFacetOption=function(state,action){var facetID=action.facetID,option=action.option,value=action.value;return["uriFilter","spatialFilter","textFilter","timespanFilter","integerFilter","dateFilter","integerFilterRange"].includes(action.option)?updateFacetFilter(state,action):helpers_objectSpread({},state,{facets:helpers_objectSpread({},state.facets,defineProperty_default()({},facetID,helpers_objectSpread({},state.facets[facetID],defineProperty_default()({},option,value))))})},updateFacetFilter=function(state,action){var facetID=action.facetID,value=action.value,oldFacet=state.facets[facetID],newFacet={};if("uriFilter"===oldFacet.filterType){var newUriFilter=null==oldFacet.uriFilter?{}:oldFacet.uriFilter;Object(lodash.has)(newUriFilter,value.node.id)?(value.added=!1,delete newUriFilter[value.node.id],Object(lodash.isEmpty)(newUriFilter)&&(newUriFilter=null)):(value.added=!0,newUriFilter[value.node.id]=value),newFacet=helpers_objectSpread({},state.facets[facetID],{uriFilter:newUriFilter})}else"spatialFilter"===oldFacet.filterType?newFacet=helpers_objectSpread({},state.facets[facetID],{spatialFilter:value}):"textFilter"===oldFacet.filterType?newFacet=helpers_objectSpread({},state.facets[facetID],{textFilter:value}):"timespanFilter"===oldFacet.filterType||"dateFilter"===oldFacet.filterType?newFacet=helpers_objectSpread({},state.facets[facetID],null==value?{timespanFilter:null}:{timespanFilter:{start:value[0],end:value[1]}}):"integerFilter"!==oldFacet.filterType&&"integerFilterRange"!==oldFacet.filterType||(newFacet=helpers_objectSpread({},state.facets[facetID],null==value?{integerFilter:null}:{integerFilter:{start:value[0],end:value[1]}}));return helpers_objectSpread({},state,{updatedFacet:facetID,facetUpdateID:++state.facetUpdateID,updatedFilter:value,facets:helpers_objectSpread({},state.facets,defineProperty_default()({},facetID,newFacet))})},helpers_updateResultCount=function(state,action){return helpers_objectSpread({},state,{resultCount:parseInt(action.data),fetchingResultCount:!1})},helpers_updateResults=function(state,action){return helpers_objectSpread({},state,{results:action.data,resultsSparqlQuery:action.sparqlQuery,fetching:!1,resultUpdateID:++state.resultUpdateID})},helpers_updatePaginatedResults=function(state,action){return helpers_objectSpread({},state,{paginatedResults:action.data||[],paginatedResultsSparqlQuery:action.sparqlQuery,fetching:!1})},helpers_fetchFacet=function(state,action){return helpers_objectSpread({},state,{facets:helpers_objectSpread({},state.facets,defineProperty_default()({},action.facetID,helpers_objectSpread({},state.facets[action.facetID],{isFetching:!0})))})},helpers_fetchFacetFailed=function(state,action){return helpers_objectSpread({},state,{facets:helpers_objectSpread({},state.facets,defineProperty_default()({},action.facetID,helpers_objectSpread({},state.facets[action.facetID],{isFetching:!1}))),updatedFacet:""})},helpers_updateFacetValues=function(state,action){return"timespan"===state.facets[action.id].type||"integer"===state.facets[action.id].type?helpers_objectSpread({},state,{facets:helpers_objectSpread({},state.facets,defineProperty_default()({},action.id,helpers_objectSpread({},state.facets[action.id],{min:action.data.min||null,max:action.data.max||null,isFetching:!1})))}):helpers_objectSpread({},state,{facets:helpers_objectSpread({},state.facets,defineProperty_default()({},action.id,helpers_objectSpread({},state.facets[action.id],{distinctValueCount:action.data.length||0,values:action.data||[],flatValues:action.flatData||[],isFetching:!1})))})},updateHeaderExpanded=function(state,action){return"instancePage"===action.pageType?helpers_objectSpread({},state,{instancePageHeaderExpanded:!state.instancePageHeaderExpanded}):helpers_objectSpread({},state,{facetedSearchHeaderExpanded:!state.facetedSearchHeaderExpanded})},perspective1_INITIAL_STATE={results:null,resultUpdateID:0,resultsSparqlQuery:null,paginatedResults:[],paginatedResultsSparqlQuery:null,instance:null,instanceSparqlQuery:null,resultCount:0,page:-1,pagesize:10,sortBy:null,sortDirection:null,fetching:!1,fetchingResultCount:!1,facetedSearchHeaderExpanded:!1,instancePageHeaderExpanded:!0,properties:[{id:"uri",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,onlyOnInstancePage:!0},{id:"prefLabel",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"author",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:200},{id:"work",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,priority:5},{id:"expression",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,priority:5},{id:"productionPlace",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,showSource:!0,sourceExternalLink:!0,minWidth:200},{id:"productionTimespan",valueType:"object",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,showSource:!0,sourceExternalLink:!0,minWidth:250},{id:"lastKnownLocation",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:220},{id:"note",valueType:"string",renderAsHTML:!1,makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,collapsedMaxWords:12},{id:"language",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,minWidth:150},{id:"event",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:450},{id:"owner",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"collection",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:200},{id:"transferOfCustodyPlace",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:220},{id:"transferOfCustodyTimespan",valueType:"object",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:210},{id:"material",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,minWidth:150},{id:"height",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:140},{id:"width",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:150},{id:"folios",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:150},{id:"lines",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:150},{id:"columns",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:150},{id:"miniatures",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:150},{id:"decoratedInitials",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:170},{id:"historiatedInitials",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:170},{id:"source",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,minWidth:250}]},resultClasses=new Set(["perspective1"]),sampo_perspective1=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective1_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if(!resultClasses.has(action.resultClass))return state;switch(action.type){case"FETCH_RESULTS":case"FETCH_PAGINATED_RESULTS":case"FETCH_BY_URI":return helpers_fetchResults(state);case"FETCH_RESULT_COUNT":return helpers_fetchResultCount(state);case"FETCH_RESULTS_FAILED":case"FETCH_PAGINATED_RESULTS_FAILED":return helpers_fetchResultsFailed(state);case"SORT_RESULTS":return updateSortBy(state,action);case"UPDATE_RESULT_COUNT":return helpers_updateResultCount(state,action);case"UPDATE_RESULTS":return helpers_updateResults(state,action);case"UPDATE_PAGINATED_RESULTS":return helpers_updatePaginatedResults(state,action);case"UPDATE_INSTANCE":return helpers_updateInstance(state,action);case"UPDATE_PAGE":return helpers_updatePage(state,action);case"UPDATE_ROWS_PER_PAGE":return helpers_updateRowsPerPage(state,action);case"UPDATE_PERSPECTIVE_HEADER_EXPANDED":return updateHeaderExpanded(state,action);case"UPDATE_URL":default:return state}},perspective2_INITIAL_STATE={results:[],resultUpdateID:0,resultsSparqlQuery:null,paginatedResults:[],paginatedResultsSparqlQuery:null,instance:null,instanceSparqlQuery:null,resultCount:0,page:-1,pagesize:10,sortBy:null,sortDirection:null,fetching:!1,fetchingResultCount:!1,sparqlQuery:null,facetedSearchHeaderExpanded:!0,instancePageHeaderExpanded:!0,properties:[{id:"uri",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,onlyOnInstancePage:!0},{id:"prefLabel",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"author",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"language",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,minWidth:150},{id:"expression",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:150,onlyOnInstancePage:!0},{id:"manuscript",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"productionTimespan",valueType:"object",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"collection",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:200},{id:"source",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,minWidth:200}]},sampo_perspective2=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective2_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if("perspective2"!==action.resultClass)return state;switch(action.type){case"FETCH_RESULTS":case"FETCH_PAGINATED_RESULTS":case"FETCH_BY_URI":return helpers_fetchResults(state);case"FETCH_RESULT_COUNT":return helpers_fetchResultCount(state);case"FETCH_RESULTS_FAILED":case"FETCH_PAGINATED_RESULTS_FAILED":return helpers_fetchResultsFailed(state);case"SORT_RESULTS":return updateSortBy(state,action);case"UPDATE_RESULT_COUNT":return helpers_updateResultCount(state,action);case"UPDATE_RESULTS":return helpers_updateResults(state,action);case"UPDATE_PAGINATED_RESULTS":return helpers_updatePaginatedResults(state,action);case"UPDATE_INSTANCE":return helpers_updateInstance(state,action);case"UPDATE_PAGE":return helpers_updatePage(state,action);case"UPDATE_ROWS_PER_PAGE":return helpers_updateRowsPerPage(state,action);case"UPDATE_PERSPECTIVE_HEADER_EXPANDED":return updateHeaderExpanded(state,action);default:return state}},perspective3_INITIAL_STATE={results:[],resultUpdateID:0,resultsSparqlQuery:null,paginatedResults:[],paginatedResultsSparqlQuery:null,instance:null,instanceSparqlQuery:null,resultCount:0,page:-1,pagesize:10,sortBy:null,sortDirection:null,fetching:!1,fetchingResultCount:!1,sparqlQuery:null,facetedSearchHeaderExpanded:!0,instancePageHeaderExpanded:!0,properties:[{id:"uri",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,onlyOnInstancePage:!0},{id:"type",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!1,numberedList:!1,minWidth:200},{id:"manuscript",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!1,numberedList:!1,minWidth:200},{id:"eventTimespan",valueType:"object",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:200},{id:"place",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250},{id:"surrender",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0,onlyForClass:"http://erlangen-crm.org/current/E10_Transfer_of_Custody"},{id:"receiver",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0,onlyForClass:"http://erlangen-crm.org/current/E10_Transfer_of_Custody"},{id:"observedOwner",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0,onlyForClass:"http://erlangen-crm.org/current/E7_Activity"},{id:"note",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,collapsedMaxWords:12,onlyOnInstancePage:!0},{id:"source",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,minWidth:200}]},perspective3_resultClasses=new Set(["perspective3"]),sampo_perspective3=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective3_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if(!perspective3_resultClasses.has(action.resultClass))return state;switch(action.type){case"FETCH_RESULTS":case"FETCH_PAGINATED_RESULTS":case"FETCH_BY_URI":return helpers_fetchResults(state);case"FETCH_RESULT_COUNT":return helpers_fetchResultCount(state);case"FETCH_RESULTS_FAILED":case"FETCH_PAGINATED_RESULTS_FAILED":return helpers_fetchResultsFailed(state);case"SORT_RESULTS":return updateSortBy(state,action);case"UPDATE_RESULT_COUNT":return helpers_updateResultCount(state,action);case"UPDATE_RESULTS":return helpers_updateResults(state,action);case"UPDATE_PAGINATED_RESULTS":return helpers_updatePaginatedResults(state,action);case"UPDATE_INSTANCE":return helpers_updateInstance(state,action);case"UPDATE_PAGE":return helpers_updatePage(state,action);case"UPDATE_ROWS_PER_PAGE":return helpers_updateRowsPerPage(state,action);case"UPDATE_PERSPECTIVE_HEADER_EXPANDED":return updateHeaderExpanded(state,action);default:return state}},perspective1Facets_INITIAL_STATE={updatedFacet:null,facetUpdateID:0,updatedFilter:null,facets:{prefLabel:{id:"prefLabel",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:1},author:{id:"author",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,chartButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:4},work:{id:"work",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:2},productionPlace:{id:"productionPlace",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!0,spatialFilterTab:"production_places",isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"hierarchical",priority:5},productionTimespan:{id:"productionTimespan",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"timespanFilter",min:null,max:null,timespanFilter:null,type:"timespan",priority:8},note:{id:"note",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:3},language:{id:"language",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,chartButton:!0,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:5},owner:{id:"owner",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,chartButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:3},collection:{id:"collection",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,chartButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:7},transferOfCustodyPlace:{id:"transferOfCustodyPlace",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"hierarchical",priority:6},transferOfCustodyTimespan:{id:"transferOfCustodyTimespan",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"timespanFilter",min:null,max:null,timespanFilter:null,type:"timespan",priority:9},lastKnownLocation:{id:"lastKnownLocation",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"hierarchical",priority:22},material:{id:"material",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,chartButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:20},height:{id:"height",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"mm",priority:11},width:{id:"width",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"mm",priority:12},folios:{id:"folios",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:13},lines:{id:"lines",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:14},columns:{id:"columns",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:15},miniatures:{id:"miniatures",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:16},decoratedInitials:{id:"decoratedInitials",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:17},historiatedInitials:{id:"historiatedInitials",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:18},source:{id:"source",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!1,spatialFilterButton:!1,chartButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"uriFilter",uriFilter:null,priority:21}}},sampo_perspective1Facets=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective1Facets_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if("perspective1"!==action.facetClass)return state;switch(action.type){case"FETCH_FACET":return helpers_fetchFacet(state,action);case"FETCH_FACET_FAILED":return helpers_fetchFacetFailed(state,action);case"UPDATE_FACET_VALUES":return helpers_updateFacetValues(state,action);case"UPDATE_FACET_OPTION":return helpers_updateFacetOption(state,action);default:return state}},perspective1FacetsConstrainSelf_INITIAL_STATE={updatedFacet:null,facetUpdateID:0,updatedFilter:null,facets:{prefLabel:{id:"prefLabel",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:1},author:{id:"author",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:4},work:{id:"work",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:2},productionPlace:{id:"productionPlace",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!0,spatialFilterTab:"production_places",isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"hierarchical",priority:5},productionTimespan:{id:"productionTimespan",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"timespanFilter",min:null,max:null,timespanFilter:null,type:"timespan",priority:8},note:{id:"note",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:3},language:{id:"language",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:5},owner:{id:"owner",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:3},collection:{id:"collection",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,chartButton:!0,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:7},transferOfCustodyPlace:{id:"transferOfCustodyPlace",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"hierarchical",priority:6},transferOfCustodyTimespan:{id:"transferOfCustodyTimespan",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"timespanFilter",min:null,max:null,timespanFilter:null,type:"timespan",priority:9},material:{id:"material",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:20},height:{id:"height",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"mm",priority:11},width:{id:"width",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"mm",priority:12},folios:{id:"folios",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:13},lines:{id:"lines",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:14},columns:{id:"columns",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:15},miniatures:{id:"miniatures",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:16},decoratedInitials:{id:"decoratedInitials",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:17},historiatedInitials:{id:"historiatedInitials",sortButton:!1,spatialFilterButton:!1,isFetching:!1,containerClass:"five",type:"integer",filterType:"integerFilterRange",integerFilter:null,unit:"",priority:18},source:{id:"source",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"uriFilter",uriFilter:null,priority:21}}},perspective1FacetsConstrainSelf=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective1FacetsConstrainSelf_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if("perspective1"!==action.facetClass)return state;switch(action.type){case"FETCH_FACET_CONSTRAIN_SELF":return helpers_fetchFacet(state,action);case"FETCH_FACET_CONSTRAIN_SELF_FAILED":return helpers_fetchFacetFailed(state,action);case"UPDATE_FACET_VALUES_CONSTRAIN_SELF":return helpers_updateFacetValues(state,action);default:return state}},perspective2Facets_INITIAL_STATE={updatedFacet:null,facetUpdateID:0,updatedFilter:null,facets:{prefLabel:{id:"prefLabel",distinctValueCount:0,values:[],flatValues:[],sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:1},author:{id:"author",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:2},language:{id:"language",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:3},productionTimespan:{id:"productionTimespan",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"timespanFilter",min:null,max:null,timespanFilter:null,type:"timespan",priority:6},collection:{id:"collection",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!0,spatialFilterButton:!1,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,priority:5},source:{id:"source",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"five",filterType:"uriFilter",uriFilter:null,priority:7}}},sampo_perspective2Facets=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective2Facets_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if("perspective2"!==action.facetClass)return state;switch(action.type){case"FETCH_FACET":return helpers_fetchFacet(state,action);case"FETCH_FACET_FAILED":return helpers_fetchFacetFailed(state,action);case"UPDATE_FACET_VALUES":return helpers_updateFacetValues(state,action);case"UPDATE_FACET_OPTION":return helpers_updateFacetOption(state,action);default:return state}},perspective3Facets_INITIAL_STATE={updatedFacet:null,facetUpdateID:0,updatedFilter:null,facets:{type:{id:"type",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"uriFilter",uriFilter:null,spatialFilter:null,priority:4},manuscript:{id:"manuscript",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"one",filterType:"textFilter",textFilter:null,priority:2},eventTimespan:{id:"eventTimespan",distinctValueCount:0,values:[],flatValues:[],sortBy:null,sortDirection:null,sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"timespanFilter",min:null,max:null,timespanFilter:null,type:"timespan",priority:3},place:{id:"place",distinctValueCount:0,values:[],flatValues:[],sortBy:"prefLabel",sortDirection:"asc",sortButton:!1,spatialFilterButton:!0,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"hierarchical",priority:6},placeType:{id:"placeType",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!1,spatialFilterButton:!0,isFetching:!1,searchField:!0,containerClass:"ten",filterType:"uriFilter",uriFilter:null,spatialFilter:null,type:"list",priority:1},source:{id:"source",distinctValueCount:0,values:[],flatValues:[],sortBy:"instanceCount",sortDirection:"desc",sortButton:!1,spatialFilterButton:!1,isFetching:!1,searchField:!1,containerClass:"three",filterType:"uriFilter",uriFilter:null,priority:5}}},perspective3Facets=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:perspective3Facets_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if("perspective3"!==action.facetClass)return state;switch(action.type){case"FETCH_FACET":return helpers_fetchFacet(state,action);case"FETCH_FACET_FAILED":return helpers_fetchFacetFailed(state,action);case"UPDATE_FACET_VALUES":return helpers_updateFacetValues(state,action);case"UPDATE_FACET_OPTION":return helpers_updateFacetOption(state,action);default:return state}},places_INITIAL_STATE={results:[],resultsSparqlQuery:null,paginatedResults:[],paginatedResultsSparqlQuery:null,instance:null,instanceSparqlQuery:null,resultCount:0,page:-1,pagesize:10,sortBy:null,sortDirection:"asc",fetching:!1,fetchingResultCount:!1,sparqlQuery:null,facetedSearchHeaderExpanded:!0,instancePageHeaderExpanded:!0,properties:[{id:"uri",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1,onlyOnInstancePage:!0},{id:"prefLabel",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:170},{id:"placeType",valueType:"string",makeLink:!1,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:170},{id:"area",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:170},{id:"manuscriptProduced",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0},{id:"manuscriptTransferred",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0},{id:"manuscriptObserved",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0},{id:"actor",valueType:"object",makeLink:!0,externalLink:!1,sortValues:!0,numberedList:!1,minWidth:250,onlyOnInstancePage:!0},{id:"source",valueType:"object",makeLink:!0,externalLink:!0,sortValues:!0,numberedList:!1}]},places_resultClasses=new Set(["places","placesAll","placesActors","placesMsProduced","lastKnownLocations","placesMsMigrations","placesEvents"]),sampo_places=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:places_INITIAL_STATE,action=1<arguments.length?arguments[1]:void 0;if(!places_resultClasses.has(action.resultClass))return state;switch(action.type){case"FETCH_RESULTS":case"FETCH_PAGINATED_RESULTS":case"FETCH_BY_URI":return helpers_fetchResults(state);case"FETCH_RESULT_COUNT":return helpers_fetchResultCount(state);case"FETCH_RESULTS_FAILED":case"FETCH_PAGINATED_RESULTS_FAILED":return helpers_fetchResultsFailed(state);case"SORT_RESULTS":return updateSortBy(state,action);case"UPDATE_RESULT_COUNT":return helpers_updateResultCount(state,action);case"UPDATE_RESULTS":return helpers_updateResults(state,action);case"UPDATE_PAGINATED_RESULTS":return helpers_updatePaginatedResults(state,action);case"UPDATE_INSTANCE":return helpers_updateInstance(state,action);case"UPDATE_PAGE":return helpers_updatePage(state,action);case"UPDATE_ROWS_PER_PAGE":return helpers_updateRowsPerPage(state,action);case"UPDATE_PERSPECTIVE_HEADER_EXPANDED":return updateHeaderExpanded(state,action);default:return state}},reducer=Object(redux.combineReducers)({perspective1:sampo_perspective1,perspective2:sampo_perspective2,perspective3:sampo_perspective3,perspective1Facets:sampo_perspective1Facets,perspective1FacetsConstrainSelf:perspective1FacetsConstrainSelf,perspective2Facets:sampo_perspective2Facets,perspective3Facets:perspective3Facets,places:sampo_places,leafletMap:reducers_leafletMap,animation:reducers_animation,options:reducers_options,error:reducers_error,clientSideFacetedSearch:sampo_clientSideFacetedSearch,fullTextSearch:sampo_fullTextSearch,toastr:lib.reducer});__webpack_exports__.a=reducer},903:function(module,exports,__webpack_require__){__webpack_require__(904),__webpack_require__(1046),__webpack_require__(1047),__webpack_require__(1698),module.exports=__webpack_require__(1699)},966:function(module,exports){}},[[903,1,2]]]);
//# sourceMappingURL=main.9f13f4d6d28c20399f4c.bundle.js.map